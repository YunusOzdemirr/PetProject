!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||a(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function o(t){return function(t){if(Array.isArray(t))return u(t)}(t)||s(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function s(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,w(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=_()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=_();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(void 0===i?"[DEFAULT]":i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=Object(r.g)(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Object(r.e)(l.value,2),f=h[1];s===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return f(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;f(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return f(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("/6Yf"),o=n("qOnz"),a=n("mrSG"),s=n("q/0M"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.H)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.B)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.i)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new s.b("@firebase/database"),p=(e=1,function(){return e++}),v=function(t){var e=Object(o.G)(t),n=new o.d;n.update(e);var r=n.digest();return o.g.encodeByteArray(r)},y=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?Object(o.H)(a):a,r+=" "}return r},g=null,m=!0,b=function(t,e){Object(o.e)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=s.a.VERBOSE,g=d.log.bind(d),e&&f.set("logging_enabled",!0)):"function"==typeof t?g=t:(g=null,f.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===g&&!0===f.get("logging_enabled")&&b(!0)),g){var n=y.apply(null,t);g(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(a.f)([t],Object(a.e)(e)))}},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(a.f)([],Object(a.e)(t)));d.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(a.f)([],Object(a.e)(t)));throw d.error(n),new Error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,Object(a.f)([],Object(a.e)(t)));d.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},E="[MIN_NAME]",T="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===E||e===T)return-1;if(e===E||t===T)return 1;var n=L(t),r=L(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.H)(e))},j=function t(e){if("object"!=typeof e||null===e)return Object(o.H)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.H)(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},P=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var N=function(t){var e,n,r,i,a;Object(o.e)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},D=new RegExp("^-?(0*)\\d{1,10}$"),L=function(t){if(D.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},F=function(t){try{t()}catch(e){setTimeout(function(){throw C("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},M=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';C(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),V=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),q=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function H(t,e,n){var r;if(Object(o.e)("string"==typeof e,"typeof type must == string"),Object(o.e)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return R(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var z=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.i)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.k)(this.counters_)},t}(),Y={},X={};function W(t){var e=t.toString();return Y[e]||(Y[e]=new z),Y[e]}var K=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&F(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),G=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=W(e),this.urlFn=function(t){return H(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new K(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.x)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Q(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(a.e)(t,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(a.e)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.x)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.H)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.h)(e),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.x)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.H)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Q=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.x)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.x)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),J="";function Z(t){J=t}var $=null;"undefined"!=typeof MozWebSocket?$=MozWebSocket:"undefined"!=typeof WebSocket&&($=WebSocket);var tt=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=W(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.x)()&&"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),H(t,"websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.x)()){var r={headers:{"User-Agent":"Firebase/5/"+J+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new $(this.connURL,[],r)}else this.mySock=new $(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==$&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.B)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.e)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.H)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=P(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),et=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[G,tt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=tt&&tt.isAvailable(),o=i&&!tt.previouslyFailed();if(e.webSocketOnly&&(i||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[tt];else{var s=this.transports_=[];try{for(var u=Object(a.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),nt=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new et(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=M(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?k("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),M(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):M(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),rt=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),it=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(a.f)([],Object(a.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.e)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ot=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.v)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(a.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(it),at=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function st(){return new at("")}function ut(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ct(t){return t.pieces_.length-t.pieceNum_}function lt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function ht(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ft(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function dt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function pt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new at(n,0)}function vt(t){return t.pieceNum_>=t.pieces_.length}function yt(t,e){var n=ut(t),r=ut(e);if(null===n)return e;if(n===r)return yt(lt(t),lt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gt(t,e){for(var n=ft(t,0),r=ft(e,0),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function mt(t,e){if(ct(t)!==ct(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ct(t)>ct(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var _t=function(t,e){this.errorPrefix_=e,this.parts_=ft(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.F)(this.parts_[n]);wt(this)};function wt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+kt(t))}function kt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Ot,Ct,St=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(a.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(it),Et=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.x)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),St.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&ot.getInstance().on("online",l.onOnline_,l),l}return Object(a.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.H)(i)),Object(o.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.i)(t,"w")){var n=Object(o.E)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.p)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.A)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.H)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):k("Unrecognized action received from server: "+Object(o.H)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new nt(a,s.repoInfo_,s.applicationId_,n,r,i,function(t){C(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},u))}).then(null,function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&C(e),h())})}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.t)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return j(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new at(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Object(a.g)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.g)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.x)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+J.replace(/\./g,"-")]=1,Object(o.v)()?t["framework.cordova"]=1:Object(o.y)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ot.getInstance().currentlyOnline();return Object(o.t)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(rt),Tt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),It=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Tt(E,t),r=new Tt(E,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Tt.MIN},t}(),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ot},set:function(t){Ot=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.f)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(T,Ot)},e.prototype.makePost=function(t,e){return Object(o.e)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Tt(t,Ot)},e.prototype.toString=function(){return".key"},e}(It),At=new xt,jt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Rt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new jt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new jt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Rt,t}();function Dt(t,e){return I(t.name,e.name)}function Lt(t,e){return I(t,e)}var Ft,Mt,Ut,Vt,qt,Bt=function(t){return"number"==typeof t?"number:"+N(t):"string:"+t},Ht=function(t){if(t.isLeafNode()){var e=t.val();Object(o.e)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.i)(e,".sv"),"Priority must be a string or number.")}else Object(o.e)(t===Ct||t.isEmpty(),"priority of unexpected type.");Object(o.e)(t===Ct||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},zt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.e)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ht(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ft},set:function(t){Ft=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return vt(e)?this:".priority"===ut(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ut(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.e)(".priority"!==r||1===ct(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(lt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Bt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?N(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.e)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.e)(i>=0,"Unknown leaf type: "+n),Object(o.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Yt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(T,new zt("[PRIORITY-POST]",Ut))},e.prototype.makePost=function(t,e){var n=Mt(t);return new Tt(e,new zt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(It)),Xt=Math.log(2),Wt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Kt=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Pt(a,o.node,Pt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Pt(a,o.node,Pt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Pt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Pt.BLACK):(s(h,Pt.BLACK),s(h,Pt.RED))}return o}(new Wt(t.length));return new Nt(r||e,o)},Gt={},Qt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.e)(Gt&&Yt,"ChildrenNode.ts has not been loaded"),Vt=Vt||new t({".priority":Gt},{".priority":Yt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.E)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return Object(o.i)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.e)(e!==At,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Tt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?Kt(i,e.getCompare()):Gt;var l=e.toString(),h=Object(a.a)({},this.indexSet_);h[l]=e;var f=Object(a.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.C)(this.indexes_,function(t,i){var a=Object(o.E)(r.indexSet_,i);if(Object(o.e)(a,"Missing index implementation for "+i),t===Gt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Tt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Kt(s,a.getCompare())}return Gt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Tt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.C)(this.indexes_,function(t){if(t===Gt)return t;var r=n.get(e.name);return r?t.remove(new Tt(e.name,r)):t}),this.indexSet_)},t}(),Jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ht(this.priorityNode_),this.children_.isEmpty()&&Object(o.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return qt||(qt=new t(new Nt(Lt),null,Qt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||qt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?qt:e},t.prototype.getChild=function(t){var e=ut(t);return null===e?this:this.getImmediateChild(e).getChild(lt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.e)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Tt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?qt:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=ut(t);if(null===n)return e;Object(o.e)(".priority"!==ut(t)||1===ct(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(lt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Yt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Bt(this.getPriority().val())+":"),this.forEachChild(Yt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Tt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zt?-1:0},t.prototype.withIndex=function(e){if(e===At||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===At||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Yt),r=e.getIterator(Yt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===At?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Zt=new(function(t){function e(){return t.call(this,new Nt(Lt),Jt.EMPTY_NODE,Qt.Default)||this}return Object(a.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Jt));function $t(t,e){if(void 0===e&&(e=null),null===t)return Jt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.e)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new zt(t,$t(e));if(t instanceof Array){var n=Jt.EMPTY_NODE;return R(t,function(e,r){if(Object(o.i)(t,e)&&"."!==e.substring(0,1)){var i=$t(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority($t(e))}var r=[],i=!1;if(R(t,function(t,e){if("."!==t.substring(0,1)){var n=$t(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Tt(t,n)))}}),0===r.length)return Jt.EMPTY_NODE;var a=Kt(r,Dt,function(t){return t.name},Lt);if(i){var s=Kt(r,Yt.getCompare());return new Jt(a,$t(e),new Qt({".priority":s},{".priority":Yt}))}return new Jt(a,$t(e),Qt.Default)}Object.defineProperties(Tt,{MIN:{value:new Tt(E,Jt.EMPTY_NODE)},MAX:{value:new Tt(T,Zt)}}),xt.__EMPTY_NODE=Jt.EMPTY_NODE,zt.__childrenNodeConstructor=Jt,Ct=Zt,Ut=Zt,Mt=$t;var te,ee,ne=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.e)(!vt(e)&&".priority"!==ut(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=$t(t),r=Jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tt(e,r)},e.prototype.maxPost=function(){var t=Jt.EMPTY_NODE.updateChild(this.indexPath_,Zt);return new Tt(T,t)},e.prototype.toString=function(){return ft(this.indexPath_,0).join("/")},e}(It),re=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return Tt.MAX},e.prototype.makePost=function(t,e){var n=$t(t);return new Tt(e,n)},e.prototype.toString=function(){return".value"},e}(It)),ie="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oe=(te=0,ee=[],function(t){var e,n=t===te;te=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=ie.charAt(t%64),t=Math.floor(t/64);Object(o.e)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===ee[e];e--)ee[e]=0;ee[e]++}else for(e=0;e<12;e++)ee[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=ie.charAt(ee[e]);return Object(o.e)(20===i.length,"nextPushId: Length should be 20."),i}),ae=function(t){if("2147483647"===t)return"-";var e=L(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var o=ie.charAt(ie.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},se=function(t){if("-2147483648"===t)return E;var e=L(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ie.charAt(ie.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ue(t){return{type:"value",snapshotNode:t}}function ce(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function le(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function he(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var fe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.e)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(le(e,s)):Object(o.e)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(ce(e,n)):a.trackChildChange(he(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Yt,function(t,r){e.hasChild(t)||n.trackChildChange(le(t,r))}),e.isLeafNode()||e.forEachChild(Yt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(he(e,r,i))}else n.trackChildChange(ce(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),de=function(){function t(e){this.indexedFilter_=new fe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Tt(e,n))||(n=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Jt.EMPTY_NODE);var i=this;return e.forEachChild(Yt,function(t,e){i.matches(new Tt(t,e))||(r=r.updateImmediateChild(t,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),pe=function(){function t(t){this.rangedFilter_=new de(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Tt(e,n))||(n=Jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Jt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Jt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.e)(u.numChildren()===this.limit_,"");var c=new Tt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(he(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(le(e,f));var v=u.updateImmediateChild(e,Jt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ce(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(le(l.name,l.node)),i.trackChildChange(ce(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Jt.EMPTY_NODE)):t},t}(),ve=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:E},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Yt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function ye(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ge(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function me(t,e){var n=t.copy();return n.index_=e,n}function be(t){var e,n={};return t.isDefault()||(t.index_===Yt?e="$priority":t.index_===re?e="$value":t.index_===At?e="$key":(Object(o.e)(t.index_ instanceof ne,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.H)(e),t.startSet_&&(n.startAt=Object(o.H)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.H)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.H)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.H)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function _e(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Yt&&(e.i=t.index_.toString()),e}var we=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(a.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.e)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=be(t._queryParams);this.restRequest_(s+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.E)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=be(t._queryParams),r=t._path.toString(),i=new o.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.D)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.B)(u.responseText)}catch(e){C("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&C("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},e}(rt),ke=function(){function t(){this.rootNode_=Jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Oe(){return{value:null,children:new Map}}function Ce(t,e,n){if(vt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ut(e);t.children.has(r)||t.children.set(r,Oe()),Ce(t.children.get(r),e=lt(e),n)}}function Se(t,e){if(vt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Yt,function(e,n){Ce(t,new at(e),n)}),Se(t,e)}if(t.children.size>0){var r=ut(e);return e=lt(e),t.children.has(r)&&Se(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Ee(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Ee(r,new at(e.toString()+"/"+t),n)})}var Te=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(a.a)({},t);return this.last_&&R(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ie=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Te(t);var n=1e4+2e4*Math.random();M(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,function(e,i){i>0&&Object(o.i)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),M(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),xe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ae(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var je,Pe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=xe.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(vt(this.path)){if(null!=this.affectedTree.value)return Object(o.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new at(e));return new t(st(),n,this.revert)}return Object(o.e)(ut(this.path)===e,"operationForChild called for unrelated child."),new t(lt(this.path),this.affectedTree,this.revert)},t}(),Re=function(){function t(t,e){this.source=t,this.path=e,this.type=xe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return vt(this.path)?new t(this.source,st()):new t(this.source,lt(this.path))},t}(),Ne=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=xe.OVERWRITE}return t.prototype.operationForChild=function(e){return vt(this.path)?new t(this.source,st(),this.snap.getImmediateChild(e)):new t(this.source,lt(this.path),this.snap)},t}(),De=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=xe.MERGE}return t.prototype.operationForChild=function(e){if(vt(this.path)){var n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new Ne(this.source,st(),n.value):new t(this.source,st(),n)}return Object(o.e)(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,lt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Le=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(vt(t))return this.isFullyInitialized()&&!this.filtered_;var e=ut(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Fe=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function Me(t,e,n,r,i,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.f)("Should only compare child_ events.");var r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Ue(t,e){return{eventCache:t,serverCache:e}}function Ve(t,e,n,r){return Ue(new Le(e,n,r),t.serverCache)}function qe(t,e,n,r){return Ue(t.eventCache,new Le(e,n,r))}function Be(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function He(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var ze=function(){function t(t,e){void 0===e&&(je||(je=new Nt(x)),e=je),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return R(e,function(t,e){n=n.set(new at(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:st(),value:this.value};if(vt(t))return null;var n=ut(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(lt(t),e);return null!=i?{path:pt(new at(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(vt(e))return this;var n=ut(e),r=this.children.get(n);return null!==r?r.subtree(lt(e)):new t(null)},t.prototype.set=function(e,n){if(vt(e))return new t(n,this.children);var r=ut(e),i=(this.children.get(r)||new t(null)).set(lt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(vt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ut(e),r=this.children.get(n);if(r){var i=r.remove(lt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(vt(t))return this.value;var e=ut(t),n=this.children.get(e);return n?n.get(lt(t)):null},t.prototype.setTree=function(e,n){if(vt(e))return n;var r,i=ut(e),o=(this.children.get(i)||new t(null)).setTree(lt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(st(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(pt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,st(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(vt(t))return null;var i=ut(t),o=this.children.get(i);return o?o.findOnPath_(lt(t),pt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,st(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(vt(e))return this;this.value&&r(n,this.value);var i=ut(e),o=this.children.get(i);return o?o.foreachOnPath_(lt(e),pt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(st(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(pt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Ye=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new ze(null))},t}();function Xe(t,e,n){if(vt(e))return new Ye(new ze(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=yt(i,e);return o=o.updateChild(a,n),new Ye(t.writeTree_.set(i,o))}var s=new ze(n),u=t.writeTree_.setTree(e,s);return new Ye(u)}function We(t,e,n){var r=t;return R(n,function(t,n){r=Xe(r,pt(e,t),n)}),r}function Ke(t,e){if(vt(e))return Ye.empty();var n=t.writeTree_.setTree(e,new ze(null));return new Ye(n)}function Ge(t,e){return null!=Qe(t,e)}function Qe(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function Je(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Yt,function(t,n){e.push(new Tt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Tt(t,n.value))}),e}function Ze(t,e){if(vt(e))return t;var n=Qe(t,e);return new Ye(null!=n?new ze(n):t.writeTree_.subtree(e))}function $e(t){return t.writeTree_.isEmpty()}function tn(t,e){return en(st(),t.writeTree_,e)}function en(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(Object(o.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=en(pt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(pt(t,".priority"),r)),n}function nn(t,e){return pn(e,t)}function rn(t,e){if(t.snap)return bt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&bt(pt(t.path,n),e))return!0;return!1}function on(t){return t.visible}function an(t,e,n){for(var r=Ye.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)bt(n,s)?r=Xe(r,u=yt(n,s),a.snap):bt(s,n)&&(u=yt(s,n),r=Xe(r,st(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.f)("WriteRecord should have .snap or .children");if(bt(n,s))r=We(r,u=yt(n,s),a.children);else if(bt(s,n))if(vt(u=yt(s,n)))r=We(r,st(),a.children);else{var c=Object(o.E)(a.children,ut(u));if(c){var l=c.getChild(lt(u));r=Xe(r,st(),l)}}}}}return r}function sn(t,e,n,r,i){if(r||i){var o=Ze(t.visibleWrites,e);return!i&&$e(o)?n:i||null!=n||Ge(o,st())?tn(an(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(bt(t.path,e)||bt(e,t.path))},e),n||Jt.EMPTY_NODE):null}var a=Qe(t.visibleWrites,e);if(null!=a)return a;var s=Ze(t.visibleWrites,e);return $e(s)?n:null!=n||Ge(s,st())?tn(s,n||Jt.EMPTY_NODE):null}function un(t,e,n,r){return sn(t.writeTree,t.treePath,e,n,r)}function cn(t,e){return function(t,e,n){var r=Jt.EMPTY_NODE,i=Qe(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Yt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=Ze(t.visibleWrites,e);return n.forEachChild(Yt,function(t,e){var n=tn(Ze(o,new at(t)),e);r=r.updateImmediateChild(t,n)}),Je(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return Je(Ze(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function ln(t,e,n,r){return function(t,e,n,r,i){Object(o.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=pt(e,n);if(Ge(t.visibleWrites,a))return null;var s=Ze(t.visibleWrites,a);return $e(s)?i.getChild(n):tn(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function hn(t,e){return function(t,e){return Qe(t.visibleWrites,e)}(t.writeTree,pt(t.treePath,e))}function fn(t,e,n){return function(t,e,n,r){var i=pt(e,n),o=Qe(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?tn(Ze(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function dn(t,e){return pn(pt(t.treePath,e),t.writeTree)}function pn(t,e){return{treePath:t,writeTree:e}}var vn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.e)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,he(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,le(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,ce(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.f)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,he(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),yn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),gn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Le(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:He(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=Ze(t.visibleWrites,e),c=Qe(u,st());if(null!=c)s=c;else{if(null==n)return[];s=tn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function mn(t,e,n,r,i,a){var s=e.eventCache;if(null!=hn(r,n))return e;var u=void 0,c=void 0;if(vt(n))if(Object(o.e)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=He(e),h=cn(r,l instanceof Jt?l:Jt.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var f=un(r,He(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var d=ut(n);if(".priority"===d){Object(o.e)(1===ct(n),"Can't have a priority with additional path components");var p=s.getNode(),v=ln(r,n,p,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(p,v):s.getNode()}else{var y=lt(n),g=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var m=ln(r,n,s.getNode(),c);g=null!=m?s.getNode().getImmediateChild(d).updateChild(y,m):s.getNode().getImmediateChild(d)}else g=fn(r,d,e.serverCache);u=null!=g?t.filter.updateChild(s.getNode(),d,g,y,i,a):s.getNode()}}return Ve(e,u,s.isFullyInitialized()||vt(n),t.filter.filtersNodes())}function bn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(vt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ut(n);if(!c.isCompleteForPath(n)&&ct(n)>1)return e;var d=lt(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,yn,null)}var v=qe(e,u,c.isFullyInitialized()||vt(n),l.filtersNodes());return mn(t,v,n,i,new gn(i,v,o),s)}function _n(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new gn(i,e,o);if(vt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Ve(e,u,!0,t.filter.filtersNodes());else{var h=ut(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=Ve(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=lt(n),d=c.getNode().getImmediateChild(h),p=void 0;if(vt(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===ht(f)&&v.getChild(dt(f)).isEmpty()?v:v.updateChild(f,r):Jt.EMPTY_NODE}s=d.equals(p)?e:Ve(e,t.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function wn(t,e){return t.eventCache.isCompleteForChild(e)}function kn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function On(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=vt(n)?r:new ze(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=kn(0,e.serverCache.getNode().getImmediateChild(n),r);c=bn(t,c,new at(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=kn(0,e.serverCache.getNode().getImmediateChild(n),r);c=bn(t,c,new at(n),h,i,o,a,s)}}),c}var Cn,Sn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new fe(r.getIndex()),o=(n=r).loadsAllData()?new fe(n.getIndex()):n.hasLimit()?new pe(n):new de(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(Jt.EMPTY_NODE,s.getNode(),null),l=new Le(u,a.isFullyInitialized(),i.filtersNodes()),h=new Le(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ue(h,l),this.eventGenerator_=new Fe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function En(t,e){var n=He(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!vt(e)&&!n.getImmediateChild(ut(e)).isEmpty())?n.getChild(e):null}function Tn(t){return 0===t.eventRegistrations_.length}function In(t,e,n){var r=[];if(n){Object(o.e)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function xn(t,e,n,r){e.type===xe.MERGE&&null!==e.source.queryId&&(Object(o.e)(He(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.e)(Be(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=t.viewCache_,u=function(t,e,n,r,i){var a,s,u=new vn;if(n.type===xe.OVERWRITE){var c=n;c.source.fromUser?a=_n(t,e,c.path,c.snap,r,i,u):(Object(o.e)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!vt(c.path),a=bn(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===xe.MERGE){var l=n;l.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=pt(n,r);wn(e,ut(c))&&(s=_n(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=pt(n,r);wn(e,ut(c))||(s=_n(t,s,c,u,i,o,a))}),s}(t,e,l.path,l.children,r,i,u):(Object(o.e)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=On(t,e,l.path,l.children,r,i,s,u))}else if(n.type===xe.ACK_USER_WRITE){var h=n;a=h.revert?function(t,e,n,r,i,a){var s;if(null!=hn(r,n))return e;var u=new gn(r,e,i),c=e.eventCache.getNode(),l=void 0;if(vt(n)||".priority"===ut(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=un(r,He(e));else{var f=e.serverCache.getNode();Object(o.e)(f instanceof Jt,"serverChildren would be complete if leaf node"),h=cn(r,f)}l=t.filter.updateFullNode(c,h=h,a)}else{var d=ut(n),p=fn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,lt(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,Jt.EMPTY_NODE,lt(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=un(r,He(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,a))}return s=e.serverCache.isFullyInitialized()||null!=hn(r,st()),Ve(e,l,s,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=hn(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(vt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return bn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(vt(n)){var c=new ze(null);return u.getNode().forEachChild(At,function(t,e){c=c.set(new at(t),e)}),On(t,e,n,c,i,o,s,a)}return e}var l=new ze(null);return r.foreach(function(t,e){var r=pt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),On(t,e,n,l,i,o,s,a)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==xe.LISTEN_COMPLETE)throw Object(o.f)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache;return mn(t,qe(e,o.getNode(),o.isFullyInitialized()||vt(n),o.isFiltered()),n,r,yn,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Be(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ue(Be(e)))}}(e,a,f),{viewCache:a,changes:f}}(t.processor_,s,e,n,r);return i=t.processor_,a=u.viewCache,Object(o.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.e)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,An(t,u.changes,u.viewCache.eventCache.getNode(),null)}function An(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),Me(t,i,"child_removed",e,r,n),Me(t,i,"child_added",e,r,n),Me(t,i,"child_moved",o,r,n),Me(t,i,"child_changed",e,r,n),Me(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var jn,Pn=function(){this.views=new Map};function Rn(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.e)(null!=c,"SyncTree gave us an op for an invalid query."),xn(c,e,n,r)}var l=[];try{for(var h=Object(a.g)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(xn(c=f.value,e,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Nn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var a=un(n,i?r:null),s=!1;a?s=!0:r instanceof Jt?(a=cn(n,r),s=!1):(a=Jt.EMPTY_NODE,s=!1);var u=Ue(new Le(a,s,!1),new Le(r,i,!1));return new Sn(e,u)}return o}function Dn(t){var e,n,r=[];try{for(var i=Object(a.g)(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ln(t,e){var n,r,i=null;try{for(var o=Object(a.g)(t.views.values()),s=o.next();!s.done;s=o.next())i=i||En(s.value,e)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Fn(t,e){return e._queryParams.loadsAllData()?Vn(t):t.views.get(e._queryIdentifier)}function Mn(t,e){return null!=Fn(t,e)}function Un(t){return null!=Vn(t)}function Vn(t){var e,n;try{for(var r=Object(a.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var qn=1,Bn=function(t){this.listenProvider_=t,this.syncPointTree_=new ze(null),this.pendingWriteTree_={visibleWrites:Ye.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Hn(t,e,n,r,i){return function(t,e,n,r,i){Object(o.e)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Gn(t,new Ne({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function zn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(o.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&rn(u,r.path)?i=!1:bt(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(t){t.visibleWrites=an(t.allWrites,on,st()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Ke(t.visibleWrites,r.path):R(r.children,function(e){t.visibleWrites=Ke(t.visibleWrites,pt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new ze(null);return null!=r.snap?i=i.set(st(),!0):R(r.children,function(t){i=i.set(new at(t),!0)}),Gn(t,new Pe(r.path,i,n))}return[]}function Yn(t,e,n){return Gn(t,new Ne({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Xn(t,e,n,r){var i=e._path,s=t.syncPointTree_.get(i),u=[];if(s&&("default"===e._queryIdentifier||Mn(s,e))){var c=function(t,e,n,r){var i,s,u=e._queryIdentifier,c=[],l=[],h=Un(t);if("default"===u)try{for(var f=Object(a.g)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=Object(a.e)(d.value,2),y=v[0];l=l.concat(In(p=v[1],n,r)),Tn(p)&&(t.views.delete(y),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(In(p,n,r)),Tn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Un(t)&&c.push(new(Object(o.e)(Cn,"Reference.ts has not been loaded"),Cn)(e._repo,e._path)),{removed:c,events:l}}(s,e,n,r);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),f=t.syncPointTree_.findOnPath(i,function(t,e){return Un(e)});if(h&&!f){var d=t.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Un(e))return[Vn(e)];var r=[];return e&&(r=Dn(e)),R(n,function(t,e){r=r.concat(e)}),r})}(d),v=0;v<p.length;++v){var y=p[v],g=y.query,m=Zn(t,y);t.listenProvider_.startListening(ir(g),$n(t,g),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(ir(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(tr(e));t.listenProvider_.stopListening(ir(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=tr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function Wn(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=yt(t,r);i=i||Ln(e,n),a=a||Un(e)});var s,u=t.syncPointTree_.get(r);u?(a=a||Un(u),i=i||Ln(u,st())):(u=new Pn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Jt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Ln(e,st());n&&(i=i.updateImmediateChild(t,n))}));var c=Mn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=tr(e);Object(o.e)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=qn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var a=Nn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Yt,function(t,e){r.push(ce(t,e))}),n.isFullyInitialized()&&r.push(ue(n.getNode())),An(t,r,n.getNode(),e)}(a,n)}(u,e,n,nn(t.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Fn(u,e);f=f.concat(function(t,e,n){var r=e._path,i=$n(t,e),a=Zn(t,n),s=t.listenProvider_.startListening(ir(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.e)(!Un(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!vt(t)&&e&&Un(e))return[Vn(e).query];var r=[];return e&&(r=r.concat(Dn(e).map(function(t){return t.query}))),R(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(ir(h),$n(t,h))}return s}(t,e,d))}return f}function Kn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Ln(n,yt(t,e));if(r)return r});return sn(r,e,i,n,!0)}function Gn(t,e){return Qn(e,t.syncPointTree_,null,nn(t.pendingWriteTree_,st()))}function Qn(t,e,n,r){if(vt(t.path))return Jn(t,e,n,r);var i=e.get(st());null==n&&null!=i&&(n=Ln(i,st()));var o=[],a=ut(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=dn(r,a);o=o.concat(Qn(s,u,c,l))}return i&&(o=o.concat(Rn(i,t,r,n))),o}function Jn(t,e,n,r){var i=e.get(st());null==n&&null!=i&&(n=Ln(i,st()));var o=[];return e.children.inorderTraversal(function(e,i){var a=n?n.getImmediateChild(e):null,s=dn(r,e),u=t.operationForChild(e);u&&(o=o.concat(Jn(u,i,a,s)))}),i&&(o=o.concat(Rn(i,t,r,n))),o}function Zn(t,e){var n=e.query,r=$n(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Jt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=er(t,n);if(r){var i=nr(r),o=i.path,a=i.queryId,s=yt(o,e);return rr(t,o,new Re(Ae(a),s))}return[]}(t,n._path,r):function(t,e){return Gn(t,new Re({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Xn(t,n,null,i)}}}function $n(t,e){var n=tr(e);return t.queryToTagMap.get(n)}function tr(t){return t._path.toString()+"$"+t._queryIdentifier}function er(t,e){return t.tagToQueryMap.get(e)}function nr(t){var e=t.indexOf("$");return Object(o.e)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function rr(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.e)(r,"Missing sync point for query tag that we're tracking"),Rn(r,n,nn(t.pendingWriteTree_,e),null)}function ir(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(o.e)(jn,"Reference.ts has not been loaded"),jn)(t._repo,t._path):t}var or=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ar=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=pt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Kn(this.syncTree_,this.path_)},t}(),sr=function(t,e,n){return t&&"object"==typeof t?(Object(o.e)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ur(t[".sv"],e,n):"object"==typeof t[".sv"]?cr(t[".sv"],e):void Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ur=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.e)(!1,"Unexpected server value: "+t)}},cr=function(t,e,n){t.hasOwnProperty("increment")||Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.e)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.e)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},lr=function(t,e,n,r){return fr(e,new ar(n,t),r)},hr=function(t,e,n){return fr(t,new or(e),n)};function fr(t,e,n){var r,i=t.getPriority().val(),o=sr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=sr(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new zt(s,$t(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new zt(o))),u.forEachChild(Yt,function(t,i){var o=fr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var dr=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function pr(t,e){for(var n=e instanceof at?e:new at(e),r=t,i=ut(n);null!==i;){var a=Object(o.E)(r.node.children,i)||{children:{},childCount:0};r=new dr(i,r,a),i=ut(n=lt(n))}return r}function vr(t){return t.node.value}function yr(t,e){t.node.value=e,wr(t)}function gr(t){return t.node.childCount>0}function mr(t,e){R(t.node.children,function(n,r){e(new dr(n,t,r))})}function br(t,e,n,r){n&&!r&&e(t),mr(t,function(t){br(t,e,!0,r)}),n&&r&&e(t)}function _r(t){return new at(null===t.parent?t.name:_r(t.parent)+"/"+t.name)}function wr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===vr(t)&&!gr(t)}(n),i=Object(o.i)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,wr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,wr(t))}(t.parent,t.name,t)}var kr=/[\[\].#$\/\u0000-\u001F\u007F]/,Or=/[\[\].#$\u0000-\u001F\u007F]/,Cr=function(t){return"string"==typeof t&&0!==t.length&&!kr.test(t)},Sr=function(t){return"string"==typeof t&&0!==t.length&&!Or.test(t)},Er=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.i)(t,".sv")},Tr=function(t,e,n,r){r&&void 0===e||Ir(Object(o.m)(t,"value"),e,n)},Ir=function t(e,n,r){var i=r instanceof at?new _t(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+kt(i));if("function"==typeof n)throw new Error(e+"contains a function "+kt(i)+" with contents = "+n.toString());if(S(n))throw new Error(e+"contains "+n.toString()+" "+kt(i));if("string"==typeof n&&n.length>10485760/3&&Object(o.F)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+kt(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(R(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Cr(n)))throw new Error(e+" contains an invalid key ("+n+") "+kt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(o.F)(e),wt(t)}(i,n),t(e,r,i),c=(u=i).parts_.pop(),u.byteLength_-=Object(o.F)(c),u.parts_.length>0&&(u.byteLength_-=1)}),a&&s)throw new Error(e+' contains ".value" child '+kt(i)+" in addition to actual children.")}},xr=function(t,e,n,r){if(!r||void 0!==e){var i=Object(o.m)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];R(e,function(t,e){var r=new at(t);if(Ir(i,e,pt(n,r)),".priority"===ht(r)&&!Er(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=ft(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Cr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(gt);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&bt(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Ar=function(t,e,n){if(!n||void 0!==e){if(S(e))throw new Error(Object(o.m)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Er(e))throw new Error(Object(o.m)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.m)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Pr=function(t,e,n,r){if(!(r&&void 0===n||Cr(n)))throw new Error(Object(o.m)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Rr=function(t,e,n,r){if(!(r&&void 0===n||Sr(n)))throw new Error(Object(o.m)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Nr=function(t,e){if(".info"===ut(e))throw new Error(t+" failed = Can't modify data under /.info/")},Dr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Cr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Sr(t)}(n))throw new Error(Object(o.m)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Lr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.m)(t,e)+"must be a boolean.")},Fr=function(){this.eventLists_=[],this.recursionDepth_=0};function Mr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||mt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ur(t,e,n){Mr(t,n),qr(t,function(t){return mt(t,e)})}function Vr(t,e,n){Mr(t,n),qr(t,function(t){return bt(t,e)||bt(e,t)})}function qr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Br(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Br(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();g&&_("event: "+n.toString()),F(r)}}}var Hr=function(){function t(t,e,n){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oe(),this.transactionQueueTree_=new dr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function zr(t){var e=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Yr(t){return(e=(e={timestamp:zr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Xr(t,e,n,r,i){t.dataUpdateCount++;var a=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=Object(o.C)(n,function(t){return $t(t)});s=function(t,e,n,r){var i=er(t,r);if(i){var o=nr(i),a=o.path,s=o.queryId,u=yt(a,e),c=ze.fromObject(n);return rr(t,a,new De(Ae(s),u,c))}return[]}(t.serverSyncTree_,a,u,i)}else{var c=$t(n);s=function(t,e,n,r){var i=er(t,r);if(null!=i){var o=nr(i),a=o.path,s=o.queryId,u=yt(a,e);return rr(t,a,new Ne(Ae(s),u,n))}return[]}(t.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.C)(n,function(t){return $t(t)});s=function(t,e,n){var r=ze.fromObject(n);return Gn(t,new De({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,l)}else{var h=$t(n);s=Yn(t.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=oi(t,a)),Vr(t.eventQueue_,f,s)}function Wr(t,e){Kr(t,"connected",e),!1===e&&function(t){ei(t,"onDisconnectEvents");var e=Yr(t),n=Oe();Ee(t.onDisconnect_,st(),function(r,i){var o=lr(r,i,t.serverSyncTree_,e);Ce(n,r,o)});var r=[];Ee(n,st(),function(e,n){r=r.concat(Yn(t.serverSyncTree_,e,n));var i=li(t,e);oi(t,i)}),t.onDisconnect_=Oe(),Vr(t.eventQueue_,st(),r)}(t)}function Kr(t,e,n){var r=new at("/.info/"+e),i=$t(n);t.infoData_.updateSnapshot(r,i);var o=Yn(t.infoSyncTree_,r,i);Vr(t.eventQueue_,r,o)}function Gr(t){return t.nextWriteId_++}function Qr(t,e,n,r,i){ei(t,"set",{path:e.toString(),value:n,priority:r});var o=Yr(t),a=$t(n,r),s=Kn(t.serverSyncTree_,e),u=hr(a,s,o),c=Gr(t),l=Hn(t.serverSyncTree_,e,u,c,!0);Mr(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||C("set at "+e+" failed: "+n);var a=zn(t.serverSyncTree_,c,!o);Vr(t.eventQueue_,e,a),ni(0,i,n,r)});var h=li(t,e);oi(t,h),Vr(t.eventQueue_,h,[])}function Jr(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Se(t.onDisconnect_,e),ni(0,n,r,i)})}function Zr(t,e,n,r){var i=$t(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Ce(t.onDisconnect_,e,i),ni(0,r,n,o)})}function $r(t,e,n){var r;r=".info"===ut(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Ur(t.eventQueue_,e._path,r)}function ti(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function ei(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),_.apply(void 0,Object(a.f)([r],Object(a.e)(e)))}function ni(t,e,n,r){e&&F(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function ri(t,e,n){return Kn(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function ii(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||ci(t,e),vr(e)){var n=si(t,e);Object(o.e)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=ri(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.e)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=yt(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=e;t.server_.put(f.toString(),h,function(r){ei(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(zn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},s=0;s<n.length;s++)a(s);for(ci(t,pr(t.transactionQueueTree_,e)),ii(t,t.transactionQueueTree_),Vr(t.eventQueue_,e,i),s=0;s<o.length;s++)F(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(C("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;oi(t,e)}},s)}(t,_r(e),n)}else gr(e)&&mr(e,function(e){ii(t,e)})}function oi(t,e){var n=ai(t,e),r=_r(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=function(s){var u,c=e[s],l=yt(n,c.path),h=!1;if(Object(o.e)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(zn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(zn(t.serverSyncTree_,c.currentWriteId,!0));else{var f=ri(t,c.path,a);c.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){Ir("transaction failed: Data returned ",d,c.path);var p=$t(d);"object"==typeof d&&null!=d&&Object(o.i)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,y=Yr(t),g=hr(p,f,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=Gr(t),a.splice(a.indexOf(v),1),i=(i=i.concat(Hn(t.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(zn(t.serverSyncTree_,v,!0))}else h=!0,u="nodata",i=i.concat(zn(t.serverSyncTree_,c.currentWriteId,!0))}Vr(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete&&r.push("nodata"===u?function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}:function(){return e[s].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)s(u);for(ci(t,t.transactionQueueTree_),u=0;u<r.length;u++)F(r[u]);ii(t,t.transactionQueueTree_)}}(t,si(t,n),r),r}function ai(t,e){var n,r=t.transactionQueueTree_;for(n=ut(e);null!==n&&void 0===vr(r);)r=pr(r,n),n=ut(e=lt(e));return r}function si(t,e){var n=[];return ui(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function ui(t,e,n){var r=vr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);mr(e,function(e){ui(t,e,n)})}function ci(t,e){var n=vr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,yr(e,n.length>0?n:void 0)}mr(e,function(e){ci(t,e)})}function li(t,e){var n=_r(ai(t,e)),r=pr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){hi(t,e)}),hi(t,r),br(r,function(e){hi(t,e)}),n}function hi(t,e){var n=vr(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.e)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.e)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(zn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?yr(e,void 0):n.length=a+1,Vr(t.eventQueue_,_r(e),i),s=0;s<r.length;s++)F(r[s])}}var fi=function(t,e){var n=di(t),r=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new B(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new at(n.pathString)}},di=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(a.g)(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},pi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.H)(this.snapshot.exportVal())},t}(),vi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),yi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(o.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),gi=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.a;return Jr(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Nr("OnDisconnect.remove",this._path);var t=new o.a;return Zr(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Nr("OnDisconnect.set",this._path),Tr("OnDisconnect.set",t,this._path,!1);var e=new o.a;return Zr(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Nr("OnDisconnect.setWithPriority",this._path),Tr("OnDisconnect.setWithPriority",t,this._path,!1),Ar("OnDisconnect.setWithPriority",e,!1);var n=new o.a;return function(t,e,n,r,i){var o=$t(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Ce(t.onDisconnect_,e,o),ni(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Nr("OnDisconnect.update",this._path),xr("OnDisconnect.update",t,this._path,!1);var e=new o.a;return function(t,e,n,r){if(Object(o.t)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void ni(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&R(n,function(n,r){var i=$t(r);Ce(t.onDisconnect_,pt(e,n),i)}),ni(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),mi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return vt(this._path)?null:ht(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ki(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=_e(this._queryParams),e=j(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return _e(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(o.n)(e))instanceof t))return!1;var n=this._repo===e._repo,r=mt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function bi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function _i(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===At){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==E)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Yt){if(null!=e&&!Er(e)||null!=n&&!Er(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.e)(t.getIndex()instanceof ne||t.getIndex()===re,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ki=function(t){function e(e,n){return t.call(this,e,n,new ve,!1)||this}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=dt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(mi),Oi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new at(e),r=Ei(this.ref,e);return new t(this._node.getChild(n),r,Yt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Ei(n.ref,r),Yt))})},t.prototype.hasChild=function(t){var e=new at(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Ci(t,e){return(t=Object(o.n)(t))._checkNotDeleted("ref"),void 0!==e?Ei(t._root,e):t._root}function Si(t,e){(t=Object(o.n)(t))._checkNotDeleted("refFromURL");var n=fi(e,t._repo.repoInfo_.nodeAdmin);Dr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||O("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ci(t,n.path.toString())}function Ei(t,e){var n;return null===ut((t=Object(o.n)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Rr("child","path",n,!1)):Rr("child","path",e,!1),new ki(t._repo,pt(t._path,e))}function Ti(t,e){t=Object(o.n)(t),Nr("push",t._path),Tr("push",e,t._path,!0);var n,r=zr(t._repo),i=oe(r),a=Ei(t,i),s=Ei(t,i);return n=null!=e?xi(s,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ii(t){return Nr("remove",t._path),xi(t,null)}function xi(t,e){t=Object(o.n)(t),Nr("set",t._path),Tr("set",e,t._path,!1);var n=new o.a;return Qr(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Ai(t,e){t=Object(o.n)(t),Nr("setPriority",t._path),Ar("setPriority",e,!1);var n=new o.a;return Qr(t._repo,pt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function ji(t,e,n){if(Nr("setWithPriority",t._path),Tr("setWithPriority",e,t._path,!1),Ar("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.a;return Qr(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Pi(t,e){xr("update",e,t._path,!1);var n=new o.a;return function(t,e,n,r){ei(t,"update",{path:e.toString(),value:n});var i=!0,a=Yr(t),s={};if(R(n,function(n,r){i=!1,s[n]=lr(pt(e,n),$t(r),t.serverSyncTree_,a)}),i)_("update() called with empty data.  Don't do anything."),ni(0,r,"ok",void 0);else{var u=Gr(t),c=function(t,e,n,r){!function(t,e,n,r){Object(o.e)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=We(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=ze.fromObject(n);return Gn(t,new De({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,u);Mr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||C("update at "+e+" failed: "+n);var a=zn(t.serverSyncTree_,u,!o),s=a.length>0?oi(t,e):e;Vr(t.eventQueue_,s,a),ni(0,r,n,i)}),R(n,function(n){var r=li(t,pt(e,n));oi(t,r)}),Vr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Ri=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new pi("value",this,new Oi(t.snapshotNode,new ki(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new vi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Ni=function(){function t(t){this.callbacks=t}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.i)(this.callbacks,e)},t.prototype.createCancelEvent=function(t,e){return this.callbacks.cancel.hasCancelCallback?new vi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.e)(null!=t.childName,"Child events should have a childName.");var n=Ei(new ki(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new pi(t.type,this,new Oi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){if("cancel"===t.getEventType()){var e=this.callbacks.cancel;return function(){return e.onCancel(t.error)}}var n=this.callbacks[t.eventType];return function(){return n.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks||!e.callbacks)return!0;var r=Object.keys(e.callbacks),i=Object.keys(this.callbacks),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!e.callbacks[a]||!this.callbacks[s]||e.callbacks[a].matches(this.callbacks[s]))}return i.every(function(t){return e.callbacks[t].matches(n.callbacks[t])})}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks},t}();function Di(t,e,n,r,i){var o,a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){var s=n,u=function(e,n){s(e,n),$r(t._repo,t,l)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new yi(n,a||void 0),l="value"===e?new Ri(c):new Ni(((o={})[e]=c,o));return function(t,e,n){var r;r=".info"===ut(e._path)?Wn(t.infoSyncTree_,e,n):Wn(t.serverSyncTree_,e,n),Ur(t.eventQueue_,e._path,r)}(t._repo,t,l),function(){return $r(t._repo,t,l)}}function Li(t,e,n,r){return Di(t,"value",e,n,r)}function Fi(t,e,n,r){return Di(t,"child_added",e,n,r)}function Mi(t,e,n,r){return Di(t,"child_changed",e,n,r)}function Ui(t,e,n,r){return Di(t,"child_moved",e,n,r)}function Vi(t,e,n,r){return Di(t,"child_removed",e,n,r)}function qi(t,e,n){var r=null,i=null,o=n?new yi(n):null;"value"===e?r=new Ri(o):e&&(n&&((i={})[e]=o),r=new Ni(i)),$r(t._repo,t,r)}var Bi=function(){},Hi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.c)(e,t),e.prototype._apply=function(t){Tr("endAt",this._value,t._path,!0);var e=ge(t._queryParams,this._value,this._key);if(wi(e),_i(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(t._repo,t._path,e,t._orderByCalled)},e}(Bi);function zi(t,e){return Pr("endAt","key",e,!0),new Hi(t,e)}var Yi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.c)(e,t),e.prototype._apply=function(t){Tr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===At?("string"==typeof n&&(n=se(n)),i=ge(e,n,r)):i=ge(e,n,null==r?E:se(r)),i.endBeforeSet_=!0,i);if(wi(o),_i(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(t._repo,t._path,o,t._orderByCalled)},e}(Bi);function Xi(t,e){return Pr("endBefore","key",e,!0),new Yi(t,e)}var Wi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.c)(e,t),e.prototype._apply=function(t){Tr("startAt",this._value,t._path,!0);var e=ye(t._queryParams,this._value,this._key);if(wi(e),_i(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mi(t._repo,t._path,e,t._orderByCalled)},e}(Bi);function Ki(t,e){return void 0===t&&(t=null),Pr("startAt","key",e,!0),new Wi(t,e)}var Gi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.c)(e,t),e.prototype._apply=function(t){Tr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===At?("string"==typeof n&&(n=ae(n)),i=ye(e,n,r)):i=ye(e,n,null==r?T:ae(r)),i.startAfterSet_=!0,i);if(wi(o),_i(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mi(t._repo,t._path,o,t._orderByCalled)},e}(Bi);function Qi(t,e){return Pr("startAfter","key",e,!0),new Gi(t,e)}var Ji=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(a.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Bi);function Zi(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ji(t)}var $i=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(a.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Bi);function to(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $i(t)}var eo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(a.c)(e,t),e.prototype._apply=function(t){bi(t,"orderByChild");var e=new at(this._path);if(vt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ne(e),r=me(t._queryParams,n);return _i(r),new mi(t._repo,t._path,r,!0)},e}(Bi);function no(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rr("orderByChild","path",t,!1),new eo(t)}var ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype._apply=function(t){bi(t,"orderByKey");var e=me(t._queryParams,At);return _i(e),new mi(t._repo,t._path,e,!0)},e}(Bi);function io(){return new ro}var oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype._apply=function(t){bi(t,"orderByPriority");var e=me(t._queryParams,Yt);return _i(e),new mi(t._repo,t._path,e,!0)},e}(Bi);function ao(){return new oo}var so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype._apply=function(t){bi(t,"orderByValue");var e=me(t._queryParams,re);return _i(e),new mi(t._repo,t._path,e,!0)},e}(Bi);function uo(){return new so}var co,lo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.c)(e,t),e.prototype._apply=function(t){if(Tr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hi(this._value,this._key)._apply(new Wi(this._value,this._key)._apply(t))},e}(Bi);function ho(t,e){return Pr("equalTo","key",e,!0),new lo(t,e)}function fo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.n)(t);try{for(var u=Object(a.g)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}co=ki,Object(o.e)(!Cn,"__referenceConstructor has already been defined"),Cn=co,function(t){Object(o.e)(!jn,"__referenceConstructor has already been defined"),jn=t}(ki);var po={},vo=!1;function yo(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=fi(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,s=(a=fi(i="http://"+u+"?ns="+s.namespace,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new V:new U(t.name,t.options,e);Dr("Invalid Firebase Database URL",a),vt(a.path)||O("Database URL must point to the root of a Firebase Database (not including a child path).");var l=function(t,e,n){var r=po[e.name];r||(po[e.name]=r={});var i=r[t.toURLString()];return i&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Hr(t,vo,n),r[t.toURLString()]=i,i}(s,t,c);return new go(l,t)}var go=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=W(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new we(t.repoInfo_,function(e,n,r,i){Xr(t,e,n,r,i)},t.authTokenProvider_),setTimeout(function(){return Wr(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.H)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new Et(t.repoInfo_,e,function(e,n,r,i){Xr(t,e,n,r,i)},function(e){Wr(t,e)},function(e){!function(t,e){R(e,function(e,n){Kr(t,e,n)})}(t,e)},t.authTokenProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.statsReporter_=(r=function(){return new Ie(t.stats_,t.server_)},i=t.repoInfo_.toString(),X[i]||(X[i]=r()),X[i]),t.infoData_=new ke,t.infoSyncTree_=new Bn({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=Yn(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),Kr(t,"connected",!1),t.serverSyncTree_=new Bn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Vr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ki(this._repo,st())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=po[e=this.app.name])&&n[t.key]===t||O("Database "+e+"("+t.repoInfo_+") has already been deleted."),ti(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&O("Cannot call "+t+" on a deleted database.")},t}();function mo(t){(t=Object(o.n)(t))._checkNotDeleted("goOffline"),ti(t._repo)}function bo(t){var e;(t=Object(o.n)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}function _o(t,e){b(t,e)}var wo={".sv":"timestamp"},ko=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Oo(t,e,n){var r;if(t=Object(o.n)(t),Nr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.a,s=Li(t,function(){});return function(e,n,r,i,s,u){ei(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?a.reject(e):(i=new Oi(r,new ki(t._repo,t._path),Yt),a.resolve(new ko(n,i)))},status:null,order:p(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=ri(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ir("transaction failed: Data returned ",h,c.path),c.status=0;var f=pr(e.transactionQueueTree_,n),d=vr(f)||[];d.push(c),yr(f,d);var v=void 0;"object"==typeof h&&null!==h&&Object(o.i)(h,".priority")?(v=Object(o.E)(h,".priority"),Object(o.e)(Er(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):v=(Kn(e.serverSyncTree_,n)||Jt.EMPTY_NODE).getPriority().val();var y=Yr(e),g=$t(h,v),m=hr(g,l,y);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=m,c.currentWriteId=Gr(e);var b=Hn(e.serverSyncTree_,n,m,c.currentWriteId,c.applyLocally);Vr(e.eventQueue_,n,b),ii(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,s,i),a.promise}var Co=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(o.I)("OnDisconnect.cancel",0,1,arguments.length),Object(o.J)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(o.I)("OnDisconnect.remove",0,1,arguments.length),Object(o.J)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(o.I)("OnDisconnect.set",1,2,arguments.length),Object(o.J)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(o.I)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.J)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if(Object(o.I)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.J)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),So=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.I)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Eo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(o.I)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(o.I)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(o.I)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(o.I)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(o.I)("DataSnapshot.child",0,1,arguments.length),e=String(e),Rr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(o.I)("DataSnapshot.hasChild",1,1,arguments.length),Rr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(o.I)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(o.I)("DataSnapshot.forEach",1,1,arguments.length),Object(o.J)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Object(o.I)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.I)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(o.I)("DataSnapshot.ref",0,0,arguments.length),new Io(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),To=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;Object(o.I)("Query.on",2,4,arguments.length),Object(o.J)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Eo(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Li(this._delegate,c,l),n;case"child_added":return Fi(this._delegate,c,l),n;case"child_removed":return Vi(this._delegate,c,l),n;case"child_changed":return Mi(this._delegate,c,l),n;case"child_moved":return Ui(this._delegate,c,l),n;default:throw new Error(Object(o.m)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(o.I)("Query.off",0,3,arguments.length),jr("Query.off",t,!0),Object(o.J)("Query.off","callback",e,!0),Object(o.K)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,qi(this._delegate,t,r)}else qi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=yt(t,n);r=r||Ln(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Ln(i,st()):(i=new Pn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new Le(r,!0,!1):null;return Be(Nn(i,e,nn(t.pendingWriteTree_,e._path),o?a.getNode():Jt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=$t(n),i=Yn(t.serverSyncTree_,e._path,r);return Ur(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ei(t,"get for query "+Object(o.H)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(o.n)(t))._repo,t).then(function(e){return new Oi(e,new ki(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Eo(t.database,e)})},t.prototype.once=function(e,n,r,i){var a=this;Object(o.I)("Query.once",1,4,arguments.length),Object(o.J)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.on",r,i),u=new o.a,c=function(t,e){var r=new Eo(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Li(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Fi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Vi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Mi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Ui(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(o.m)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Object(o.I)("Query.limitToFirst",1,1,arguments.length),new t(this.database,fo(this._delegate,Zi(e)))},t.prototype.limitToLast=function(e){return Object(o.I)("Query.limitToLast",1,1,arguments.length),new t(this.database,fo(this._delegate,to(e)))},t.prototype.orderByChild=function(e){return Object(o.I)("Query.orderByChild",1,1,arguments.length),new t(this.database,fo(this._delegate,no(e)))},t.prototype.orderByKey=function(){return Object(o.I)("Query.orderByKey",0,0,arguments.length),new t(this.database,fo(this._delegate,io()))},t.prototype.orderByPriority=function(){return Object(o.I)("Query.orderByPriority",0,0,arguments.length),new t(this.database,fo(this._delegate,ao()))},t.prototype.orderByValue=function(){return Object(o.I)("Query.orderByValue",0,0,arguments.length),new t(this.database,fo(this._delegate,uo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(o.I)("Query.startAt",0,2,arguments.length),new t(this.database,fo(this._delegate,Ki(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(o.I)("Query.startAfter",0,2,arguments.length),new t(this.database,fo(this._delegate,Qi(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(o.I)("Query.endAt",0,2,arguments.length),new t(this.database,fo(this._delegate,zi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(o.I)("Query.endBefore",0,2,arguments.length),new t(this.database,fo(this._delegate,Xi(e,n)))},t.prototype.equalTo=function(e,n){return Object(o.I)("Query.equalTo",1,2,arguments.length),new t(this.database,fo(this._delegate,ho(e,n)))},t.prototype.toString=function(){return Object(o.I)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(o.I)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(o.I)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(o.J)(t,"cancel",r.cancel,!0),r.context=n,Object(o.K)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.m)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Io(this.database,new ki(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Io=function(t){function e(e,n){var r=t.call(this,e,new mi(n._repo,n._path,new ve,!1))||this;return r.database=e,r._delegate=n,r}return Object(a.c)(e,t),e.prototype.getKey=function(){return Object(o.I)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(o.I)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ei(this._delegate,t))},e.prototype.getParent=function(){Object(o.I)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(o.I)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(o.I)("Reference.set",1,2,arguments.length),Object(o.J)("Reference.set","onComplete",e,!0);var n=xi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(o.I)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Nr("Reference.update",this._delegate._path),Object(o.J)("Reference.update","onComplete",e,!0);var i=Pi(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){Object(o.I)("Reference.setWithPriority",2,3,arguments.length),Object(o.J)("Reference.setWithPriority","onComplete",n,!0);var r=ji(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){Object(o.I)("Reference.remove",0,1,arguments.length),Object(o.J)("Reference.remove","onComplete",t,!0);var e=Ii(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;Object(o.I)("Reference.transaction",1,3,arguments.length),Object(o.J)("Reference.transaction","transactionUpdate",t,!1),Object(o.J)("Reference.transaction","onComplete",e,!0),Lr("Reference.transaction","applyLocally",n,!0);var i=Oo(this._delegate,t,{applyLocally:n}).then(function(t){return new So(t.committed,new Eo(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){Object(o.I)("Reference.setPriority",1,2,arguments.length),Object(o.J)("Reference.setPriority","onComplete",e,!0);var n=Ai(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;Object(o.I)("Reference.push",0,2,arguments.length),Object(o.J)("Reference.push","onComplete",n,!0);var i=Ti(this._delegate,t),a=i.then(function(t){return new e(r.database,t)});n&&a.then(function(){return n(null)},function(t){return n(t)});var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return Nr("Reference.onDisconnect",this._delegate._path),new Co(new gi(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(To),xo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e){!function(t,e,n){(t=Object(o.n)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&O("Cannot call useEmulator() after instance has already been initialized."),function(t,e,n){t.repoInfo_=new B(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new V)}(t._repo,e,n)}(this._delegate,t,e)},t.prototype.ref=function(t){if(Object(o.I)("database.ref",0,1,arguments.length),t instanceof Io){var e=Si(this._delegate,t.toString());return new Io(this,e)}return e=Ci(this._delegate,t),new Io(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(o.I)(e,1,1,arguments.length);var n=Si(this._delegate,t);return new Io(this,n)},t.prototype.goOffline=function(){return Object(o.I)("database.goOffline",0,0,arguments.length),mo(this._delegate)},t.prototype.goOnline=function(){return Object(o.I)("database.goOnline",0,0,arguments.length),bo(this._delegate)},t.ServerValue={TIMESTAMP:wo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Ao=Object.freeze({__proto__:null,forceLongPolling:function(){tt.forceDisallow(),G.forceAllow()},forceWebSockets:function(){G.forceDisallow()},isWebSocketsAvailable:function(){return tt.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Te(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);R(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;Z(t.version);var u=new i.c("auth-internal",new i.b("database-standalone"));return u.setComponent(new i.a("auth-internal",function(){return r},"PRIVATE")),{instance:new xo(yo(e,u,n,s),e),namespace:o}}}),jo=Et;Et.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Et.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Po=Object.freeze({__proto__:null,DataConnection:jo,RealTimeConnection:nt,hijackHash:function(t){var e=Et.prototype.put;return Et.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Et.prototype.put=e}},ConnectionTarget:B,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){vo=t}(t)}}),Ro=xo.ServerValue;!function(e){Z(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.a("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new xo(yo(r,i,n),r)},"PUBLIC").setServiceProps({Reference:Io,Query:To,Database:xo,DataSnapshot:Eo,enableLogging:_o,INTERNAL:Ao,ServerValue:Ro,TEST_ACCESS:Po}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.10"),Object(o.x)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var a;switch(f(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(b(a))):(a.syncErrorThrowable=!0,a.destination=new l(b(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(b(a),t,r,o)}return a}return p(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,h(w(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,a,s){var u,c;f(this,n),(u=e.call(this))._parentSubscriber=t;var l=b(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(b(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),u=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),h(w(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),h(w(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){f(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?u.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;f(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return f(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):h(w(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return f(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return h(w(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return Rn}),r.d(n,"b",function(){return Dd}),r.d(n,"c",function(){return Ad}),r.d(n,"d",function(){return Id}),r.d(n,"e",function(){return xd}),r.d(n,"f",function(){return Tp}),r.d(n,"g",function(){return gp}),r.d(n,"h",function(){return W}),r.d(n,"i",function(){return Th}),r.d(n,"j",function(){return Xd}),r.d(n,"k",function(){return bd}),r.d(n,"l",function(){return Jl}),r.d(n,"m",function(){return Md}),r.d(n,"n",function(){return md}),r.d(n,"o",function(){return eh}),r.d(n,"p",function(){return Ei}),r.d(n,"q",function(){return Ef}),r.d(n,"r",function(){return Pa}),r.d(n,"s",function(){return cr}),r.d(n,"t",function(){return H}),r.d(n,"u",function(){return Pn}),r.d(n,"v",function(){return Wa}),r.d(n,"w",function(){return wd}),r.d(n,"x",function(){return _h}),r.d(n,"y",function(){return kh}),r.d(n,"z",function(){return Fd}),r.d(n,"A",function(){return Ed}),r.d(n,"B",function(){return Fh}),r.d(n,"C",function(){return bp}),r.d(n,"D",function(){return Lh}),r.d(n,"E",function(){return fp}),r.d(n,"F",function(){return Gd}),r.d(n,"G",function(){return lr}),r.d(n,"H",function(){return kd}),r.d(n,"I",function(){return Nd}),r.d(n,"J",function(){return Rd}),r.d(n,"K",function(){return _d}),r.d(n,"L",function(){return ih}),r.d(n,"M",function(){return rh}),r.d(n,"N",function(){return Li}),r.d(n,"O",function(){return ah}),r.d(n,"P",function(){return di}),r.d(n,"Q",function(){return fr}),r.d(n,"R",function(){return kp}),r.d(n,"S",function(){return Rh}),r.d(n,"T",function(){return np}),r.d(n,"U",function(){return Ln}),r.d(n,"V",function(){return uh}),r.d(n,"W",function(){return sh}),r.d(n,"X",function(){return Uh}),r.d(n,"Y",function(){return K}),r.d(n,"Z",function(){return dp}),r.d(n,"ab",function(){return lp}),r.d(n,"bb",function(){return S}),r.d(n,"cb",function(){return cp}),r.d(n,"db",function(){return Sp}),r.d(n,"eb",function(){return ip}),r.d(n,"fb",function(){return Ld}),r.d(n,"gb",function(){return Na}),r.d(n,"hb",function(){return Fc}),r.d(n,"ib",function(){return hi}),r.d(n,"jb",function(){return Wr}),r.d(n,"kb",function(){return Dr}),r.d(n,"lb",function(){return Fr}),r.d(n,"mb",function(){return qr}),r.d(n,"nb",function(){return Ur}),r.d(n,"ob",function(){return Mr}),r.d(n,"pb",function(){return Vr}),r.d(n,"qb",function(){return Rc}),r.d(n,"rb",function(){return Cp}),r.d(n,"sb",function(){return Nc}),r.d(n,"tb",function(){return Dc}),r.d(n,"ub",function(){return Lr}),r.d(n,"vb",function(){return $}),r.d(n,"wb",function(){return ss}),r.d(n,"xb",function(){return Gs}),r.d(n,"yb",function(){return Ws}),r.d(n,"zb",function(){return Ks}),r.d(n,"Ab",function(){return Pc}),r.d(n,"Bb",function(){return Qh}),r.d(n,"Cb",function(){return Ut}),r.d(n,"Db",function(){return k}),r.d(n,"Eb",function(){return Nr}),r.d(n,"Fb",function(){return Qa}),r.d(n,"Gb",function(){return Nt}),r.d(n,"Hb",function(){return Kl}),r.d(n,"Ib",function(){return jo}),r.d(n,"Jb",function(){return vs}),r.d(n,"Kb",function(){return Au}),r.d(n,"Lb",function(){return Tu}),r.d(n,"Mb",function(){return Vf}),r.d(n,"Nb",function(){return ht}),r.d(n,"Ob",function(){return bt}),r.d(n,"Pb",function(){return R}),r.d(n,"Qb",function(){return N}),r.d(n,"Rb",function(){return yt}),r.d(n,"Sb",function(){return _t}),r.d(n,"Tb",function(){return Ls}),r.d(n,"Ub",function(){return Bs}),r.d(n,"Vb",function(){return zs}),r.d(n,"Wb",function(){return Hs}),r.d(n,"Xb",function(){return qs}),r.d(n,"Yb",function(){return Vs}),r.d(n,"Zb",function(){return Xs}),r.d(n,"ac",function(){return wn}),r.d(n,"bc",function(){return Tc}),r.d(n,"cc",function(){return or}),r.d(n,"dc",function(){return On}),r.d(n,"ec",function(){return Xf}),r.d(n,"fc",function(){return Qs}),r.d(n,"gc",function(){return qf}),r.d(n,"hc",function(){return eu}),r.d(n,"ic",function(){return gf}),r.d(n,"jc",function(){return bf}),r.d(n,"kc",function(){return Ms}),r.d(n,"lc",function(){return ou}),r.d(n,"mc",function(){return au}),r.d(n,"nc",function(){return ef}),r.d(n,"oc",function(){return Mf}),r.d(n,"pc",function(){return Ds}),r.d(n,"qc",function(){return se}),r.d(n,"rc",function(){return pi}),r.d(n,"sc",function(){return yi}),r.d(n,"tc",function(){return gt}),r.d(n,"uc",function(){return Eu}),r.d(n,"vc",function(){return Ic}),r.d(n,"wc",function(){return Ns}),r.d(n,"xc",function(){return Hu}),r.d(n,"yc",function(){return zu}),r.d(n,"zc",function(){return Yu}),r.d(n,"Ac",function(){return Xu});var a=r("XNiG"),s=r("quSY"),u=r("HDdC"),d=r("VRyK"),y=r("w1tV");function m(t){for(var e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function _(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function O(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var C=m({__forward_ref__:m});function S(t){return t.__forward_ref__=S,t.toString=function(){return k(this())},t}function E(t){return T(t)?t():t}function T(t){return"function"==typeof t&&t.hasOwnProperty(C)&&t.__forward_ref__===S}var I=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function x(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():x(t)}function j(t,e){var n=e?" in ".concat(e):"";throw new I("201","No provider for ".concat(A(t)," found").concat(n))}function P(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function N(t){return{providers:t.providers||[],imports:t.imports||[]}}function D(t){return L(t,U)||L(t,q)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function F(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(B))?t[V]:null}var M,U=m({"\u0275prov":m}),V=m({"\u0275inj":m}),q=m({ngInjectableDef:m}),B=m({ngInjectorDef:m}),H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function z(t){var e=M;return M=t,e}function Y(t,e,n){var r=D(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void j(k(t),"Injector")}function X(t){return{toString:t}.toString()}var W=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),G="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,J="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,$=G||Z||Q||J,tt={},et=[],nt=[],rt=m({"\u0275cmp":m}),it=m({"\u0275dir":m}),ot=m({"\u0275pipe":m}),at=m({"\u0275mod":m}),st=m({"\u0275loc":m}),ut=m({"\u0275fac":m}),ct=m({__NG_ELEMENT_ID__:m}),lt=0;function ht(t){return X(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,id:"c",styles:t.styles||nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=lt++,n.inputs=mt(t.inputs,e),n.outputs=mt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(dt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(pt)}:null,n})}function ft(t,e,n){var r=t.\u0275cmp;r.directiveDefs=function(){return e.map(dt)},r.pipeDefs=function(){return n.map(pt)}}function dt(t){return wt(t)||kt(t)}function pt(t){return Ot(t)}var vt={};function yt(t){var e={type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&X(function(){vt[t.id]=t.type}),e}function gt(t,e){return X(function(){var n=Ct(t,!0);n.declarations=e.declarations||nt,n.imports=e.imports||nt,n.exports=e.exports||nt})}function mt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var bt=ht;function _t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[rt]||null}function kt(t){return t[it]||null}function Ot(t){return t[ot]||null}function Ct(t,e){var n=t[at]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}function St(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function Tt(t){return 0!=(8&t.flags)}function It(t){return 2==(2&t.flags)}function xt(t){return 1==(1&t.flags)}function At(t){return null!==t.template}function jt(t,e){return t.hasOwnProperty(ut)?t[ut]:null}var Pt,Rt=function(){function t(e,n,r){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Nt(){return Dt}function Dt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ft),Lt}function Lt(){var t=Mt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ft(t,e,n,r){var i=Mt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Rt(u&&u.currentValue,e,a===tt),t[r]=e}function Mt(t){return t.__ngSimpleChanges__||null}function Ut(t){Pt=t}function Vt(){return void 0!==Pt?Pt:"undefined"!=typeof document?document:void 0}function qt(t){return!!t.listen}Nt.ngInherit=!0;var Bt={createRenderer:function(t,e){return Vt()}};function Ht(t){for(;Array.isArray(t);)t=t[0];return t}function zt(t,e){return Ht(e[t])}function Yt(t,e){return Ht(e[t.index])}function Xt(t,e){return t.data[e]}function Wt(t,e){return t[e]}function Kt(t,e){var n=e[t];return St(n)?n:n[0]}function Gt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Qt(t){return 4==(4&t[2])}function Jt(t){return 128==(128&t[2])}function Zt(t,e){return null==e?null:t[e]}function $t(t){t[18]=0}function te(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var ee={lFrame:Ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ne(){return ee.bindingsEnabled}function re(){ee.bindingsEnabled=!0}function ie(){ee.bindingsEnabled=!1}function oe(){return ee.lFrame.lView}function ae(){return ee.lFrame.tView}function se(t){ee.lFrame.contextLView=t}function ue(){for(var t=ce();null!==t&&64===t.type;)t=t.parent;return t}function ce(){return ee.lFrame.currentTNode}function le(){var t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function he(t,e){var n=ee.lFrame;n.currentTNode=t,n.isParent=e}function fe(){return ee.lFrame.isParent}function de(){ee.lFrame.isParent=!1}function pe(){return ee.isInCheckNoChangesMode}function ve(t){ee.isInCheckNoChangesMode=t}function ye(){var t=ee.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ge(){return ee.lFrame.bindingIndex}function me(t){return ee.lFrame.bindingIndex=t}function be(){return ee.lFrame.bindingIndex++}function _e(t){var e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function we(t){ee.lFrame.inI18n=t}function ke(t){ee.lFrame.currentDirectiveIndex=t}function Oe(t){var e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ce(){return ee.lFrame.currentQueryIndex}function Se(t){ee.lFrame.currentQueryIndex=t}function Ee(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Te(t,e,n){if(n&H.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&H.Host||(r=Ee(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=ee.lFrame=xe();return o.currentTNode=e,o.lView=t,!0}function Ie(t){var e=xe(),n=t[1];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xe(){var t=ee.lFrame,e=null===t?null:t.child;return null===e?Ae(t):e}function Ae(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function je(){var t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pe=je;function Re(){var t=je();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ne(){return ee.lFrame.selectedIndex}function De(t){ee.lFrame.selectedIndex=t}function Le(){var t=ee.lFrame;return Xt(t.tView,t.selectedIndex)}function Fe(){ee.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Me(){ee.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function Ue(){ee.lFrame.currentNamespace=null}function Ve(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function qe(t,e,n){ze(t,e,3,n)}function Be(t,e,n,r){(3&t[2])===n&&ze(t,e,n,r)}function He(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ze(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Ye(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ye(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Xe=function t(e,n,r){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function We(t,e,n){for(var r=qt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ge(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ke(t){return 3===t||4===t||6===t}function Ge(t){return 64===t.charCodeAt(0)}function Qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Je(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Je(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ze(t){return-1!==t}function $e(t){return 32767&t}function tn(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var en=!0;function nn(t){var e=en;return en=t,e}var rn=0;function on(t,e){var n=sn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,an(r.data,t),an(e,null),an(r.blueprint,null));var i=un(t,e),o=t.injectorIndex;if(Ze(i))for(var a=$e(i),s=tn(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function an(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function cn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=rn++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function ln(t,e,n){if(n&H.Optional)return t;j(e,"NodeInjector")}function hn(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){var i=t[9],o=z(void 0);try{return i?i.get(e,r,n&H.Optional):Y(e,r,n&H.Optional)}finally{z(o)}}return ln(r,e,n)}function fn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ct)?t[ct]:void 0;return"number"==typeof e?e>=0?255&e:pn:e}(n);if("function"==typeof o){if(!Te(e,t,r))return r&H.Host?ln(i,n,r):hn(e,n,r,i);try{var a=o();if(null!=a||r&H.Optional)return a;j(n)}finally{Pe()}}else if("number"==typeof o){var s=null,u=sn(t,e),c=-1,l=r&H.Host?e[16][6]:null;for((-1===u||r&H.SkipSelf)&&(-1!==(c=-1===u?un(t,e):e[u+8])&&bn(r,!1)?(s=e[1],u=$e(c),e=tn(c,e)):u=-1);-1!==u;){var h=e[1];if(mn(o,u,h.data)){var f=vn(u,e,n,s,r,l);if(f!==dn)return f}-1!==(c=e[u+8])&&bn(r,e[1].data[u+8]===l)&&mn(o,u,e)?(s=h,u=$e(c),e=tn(c,e)):u=-1}}}return hn(e,n,r,i)}var dn={};function pn(){return new _n(ue(),oe())}function vn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=yn(s,a,n,null==r?It(s)&&en:r!=a&&0!=(3&s.type),i&H.Host&&o===s);return null!==u?gn(e,a,u,s):dn}function yn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&At(d)&&d.type===n)return u}return null}function gn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Xe){var a=i;a.resolving&&function(t,e){throw new I("200","Circular dependency in DI detected for ".concat(t))}(A(o[n]));var s=nn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?z(a.injectImpl):null;Te(t,r,H.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Dt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&z(u),nn(s),a.resolving=!1,Pe()}}return i}function mn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function bn(t,e){return!(t&H.Self||t&H.Host&&e)}var _n=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return fn(this._tNode,this._lView,t,void 0,e)}}]),t}();function wn(t){return X(function(){for(var e=t.prototype.constructor,n=e[ut]||kn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[ut]||kn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function kn(t){return T(t)?function(){var e=kn(E(t));return e&&e()}:jt(t)}function On(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ke(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ue(),t)}var Cn="__annotations__",Sn="__parameters__",En="__prop__metadata__";function Tn(t,e,n,r,i){return X(function(){var o=In(e);function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof a)return o.call.apply(o,[this].concat(e)),this;var s=l(a,e);return function(t){return i&&i.apply(void 0,[t].concat(e)),(t.hasOwnProperty(Cn)?t[Cn]:Object.defineProperty(t,Cn,{value:[]})[Cn]).push(s),r&&r(t),t}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}function In(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}function xn(t,e,n){return X(function(){var r=In(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(Sn)?t[Sn]:Object.defineProperty(t,Sn,{value:[]})[Sn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function An(t,e,n,r){return X(function(){var i=In(e);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=l(o,e);return function(t,n){var i=t.constructor,o=i.hasOwnProperty(En)?i[En]:Object.defineProperty(i,En,{value:{}})[En];o[n]=o.hasOwnProperty(n)&&o[n]||[],o[n].unshift(a),r&&r.apply(void 0,[t,n].concat(e))}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var jn=xn("Attribute",function(t){return{attributeName:t,__NG_ELEMENT_ID__:function(){return On(t)}}}),Pn=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Rn=new Pn("AnalyzeForEntryComponents"),Nn=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function Dn(){var t=$.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}var Ln=Function;function Fn(t){return"function"==typeof t}function Mn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Mn(r,e)):e!==t&&e.push(r)}return e}function Un(t,e){t.forEach(function(t){return Array.isArray(t)?Un(t,e):e(t)})}function Vn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Bn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function Hn(t,e,n){var r=Yn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function zn(t,e){var n=Yn(t,e);if(n>=0)return t[1|n]}function Yn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Xn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Wn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Kn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Gn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/,Qn=function(){function t(e){f(this,t),this._reflect=e||$.Reflect}return p(t,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return l(t,n)}}},{key:"_zipTypesAndAnnotations",value:function(t,e){var n;n=Bn(void 0===t?e.length:t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}},{key:"_ownParameters",value:function(t,e){if(n=t.toString(),Xn.test(n)||Gn.test(n)||Wn.test(n)&&!Kn.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&Jn(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(Sn)&&t[Sn],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):Bn(t.length)}},{key:"parameters",value:function(t){if(!Fn(t))return[];var e=Zn(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}},{key:"_ownAnnotations",value:function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?Jn(t.decorators):t.hasOwnProperty(Cn)?t[Cn]:null}},{key:"annotations",value:function(t){if(!Fn(t))return[];var e=Zn(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}},{key:"_ownPropMetadata",value:function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=Jn(r[t])}),i}return t.hasOwnProperty(En)?t[En]:null}},{key:"propMetadata",value:function(t){if(!Fn(t))return{};var e=Zn(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,o(n[t])),e.push.apply(e,o(i[t])),n[t]=e}),n}},{key:"ownPropMetadata",value:function(t){return Fn(t)&&this._ownPropMetadata(t,Zn(t))||{}}},{key:"hasLifecycleHook",value:function(t,e){return t instanceof Ln&&e in t.prototype}},{key:"guards",value:function(t){return{}}},{key:"getter",value:function(t){return new Function("o","return o."+t+";")}},{key:"setter",value:function(t){return new Function("o","v","return o."+t+" = v;")}},{key:"method",value:function(t){return new Function("o","args","if (!o.".concat(t,") throw new Error('\"").concat(t,"\" is undefined');\n        return o.").concat(t,".apply(o, args);"))}},{key:"importUri",value:function(t){return"object"==typeof t&&t.filePath?t.filePath:"./".concat(k(t))}},{key:"resourceUri",value:function(t){return"./".concat(k(t))}},{key:"resolveIdentifier",value:function(t,e,n,r){return r}},{key:"resolveEnum",value:function(t,e){return t[e]}}]),t}();function Jn(t){return t?t.map(function(t){return l(t.type.annotationCls,o(t.args?t.args:[]))}):[]}function Zn(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var $n,tr={},er=/\n/gm,nr=m({provide:String,useValue:m});function rr(t){var e=$n;return $n=t,e}function ir(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;if(void 0===$n)throw new Error("inject() must be called from an injection context");return null===$n?Y(t,void 0,e):$n.get(t,e&H.Optional?null:void 0,e)}function or(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;return(M||ir)(E(t),e)}function ar(t){throw new Error("invalid")}function sr(t){for(var e=[],n=0;n<t.length;n++){var r=E(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=H.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(or(i,o))}else e.push(or(r))}return e}function ur(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var cr=ur(xn("Inject",function(t){return{token:t}}),-1),lr=ur(xn("Optional"),8),hr=ur(xn("Self"),2),fr=ur(xn("SkipSelf"),4),dr=ur(xn("Host"),1),pr=null;function vr(){return pr=pr||new Qn}function yr(t){return e=vr().parameters(t),n=Dn(),e.map(function(t){return function(t,e){var n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(var i=0;i<e.length;i++){var o=e[i];if(void 0!==o){var a=Object.getPrototypeOf(o);if(o instanceof lr||"Optional"===a.ngMetadataName)n.optional=!0;else if(o instanceof fr||"SkipSelf"===a.ngMetadataName)n.skipSelf=!0;else if(o instanceof hr||"Self"===a.ngMetadataName)n.self=!0;else if(o instanceof dr||"Host"===a.ngMetadataName)n.host=!0;else if(o instanceof cr)n.token=o.token;else if(o instanceof jn){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else!0===o.__ChangeDetectorRef__?(n.token=o,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=Nn.Invalid):r(e);return n}(n,t)});var e,n}var gr,mr,br=new Map,_r=new Set;function wr(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function kr(){if(void 0===gr&&(gr=null,$.trustedTypes))try{gr=$.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(t){}return gr}function Or(t){var e;return(null===(e=kr())||void 0===e?void 0:e.createHTML(t))||t}function Cr(){if(void 0===mr&&(mr=null,$.trustedTypes))try{mr=$.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(t){}return mr}function Sr(t){var e;return(null===(e=Cr())||void 0===e?void 0:e.createHTML(t))||t}function Er(t){var e;return(null===(e=Cr())||void 0===e?void 0:e.createScript(t))||t}function Tr(t){var e;return(null===(e=Cr())||void 0===e?void 0:e.createScriptURL(t))||t}var Ir=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),xr=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ir),Ar=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ir),jr=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ir),Pr=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ir),Rr=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ir);function Nr(t){return t instanceof Ir?t.changingThisBreaksApplicationSecurity:t}function Dr(t,e){var n=Lr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Lr(t){return t instanceof Ir&&t.getTypeName()||null}function Fr(t){return new xr(t)}function Mr(t){return new Ar(t)}function Ur(t){return new jr(t)}function Vr(t){return new Pr(t)}function qr(t){return new Rr(t)}function Br(t){var e=new zr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Or(""),"text/html")}catch(t){return!1}}()?new Hr(e):e}var Hr=function(){function t(e){f(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Or(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),zr=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Or(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Or(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Yr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wr(t){return(t=String(t)).match(Yr)||t.match(Xr)?t:"unsafe:"+t}function Kr(t){return(t=String(t)).split(",").map(function(t){return Wr(t.trim())}).join(", ")}function Gr(t){var e,n={},r=i(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(o){r.e(o)}finally{r.f()}return n}function Qr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Jr,Zr=Gr("area,br,col,hr,img,wbr"),$r=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ti=Gr("rp,rt"),ei=Qr(ti,$r),ni=Qr(Zr,Qr($r,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qr(ti,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ei),ri=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ii=Gr("srcset"),oi=Qr(ri,ii,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ai=Gr("script,style,template"),si=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ni.hasOwnProperty(e))return this.sanitizedSomething=!0,!ai.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(oi.hasOwnProperty(a)){var s=i.value;ri[a]&&(s=Wr(s)),ii[a]&&(s=Kr(s)),this.buf.push(" ",o,'="',li(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ni.hasOwnProperty(e)&&!Zr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(li(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),ui=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ci=/([^\#-~ |!])/g;function li(t){return t.replace(/&/g,"&amp;").replace(ui,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ci,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hi(t,e){var n=null;try{Jr=Jr||Br(t);var r=e?String(e):"";n=Jr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Jr.getInertBodyElement(r)}while(r!==o);return Or((new si).sanitizeChildren(fi(n)||n))}finally{if(n)for(var a=fi(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function fi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function pi(t){var e=ki();return e?Sr(e.sanitize(di.HTML,t)||""):Dr(t,"HTML")?Sr(Nr(t)):hi(Vt(),x(t))}function vi(t){var e=ki();return e?e.sanitize(di.STYLE,t)||"":Dr(t,"Style")?Nr(t):x(t)}function yi(t){var e=ki();return e?e.sanitize(di.URL,t)||"":Dr(t,"URL")?Nr(t):Wr(x(t))}function gi(t){var e=ki();if(e)return Tr(e.sanitize(di.RESOURCE_URL,t)||"");if(Dr(t,"ResourceURL"))return Tr(Nr(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function mi(t){var e=ki();if(e)return Er(e.sanitize(di.SCRIPT,t)||"");if(Dr(t,"Script"))return Er(Nr(t));throw new Error("unsafe value used in a script context")}function bi(t){return Or(t[0])}function _i(t){return function(t){var e;return(null===(e=kr())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function wi(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?gi:yi}(e,n)(t)}function ki(){var t=oe();return t&&t[12]}function Oi(t){return t.ngDebugContext}function Ci(t){return t.ngOriginalError}function Si(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Ei=function(){function t(){f(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Si}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Oi(t)?Oi(t):this._findContext(Ci(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Ci(t);e&&Ci(e);)e=Ci(e);return e}}]),t}(),Ti=/^>|^->|<!--|-->|--!>|<!-$/g,Ii=/(<|>)/;function xi(t,e){t.__ngContext__=e}var Ai=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function ji(t){return{name:"window",target:t.ownerDocument.defaultView}}function Pi(t){return{name:"document",target:t.ownerDocument}}function Ri(t){return{name:"body",target:t.ownerDocument.body}}function Ni(t){return t instanceof Function?t():t}var Di,Li=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Fi(t,e){return Di(t,e)}function Mi(t){var e=t[3];return Et(e)?e[3]:e}function Ui(t){return qi(t[13])}function Vi(t){return qi(t[4])}function qi(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Bi(t,e,n,r,i){if(null!=r){var o,a=!1;Et(r)?o=r:St(r)&&(a=!0,r=r[0]);var s=Ht(r);0===t&&null!==n?null==i?to(e,n,s):$i(e,n,s,i||null,!0):1===t&&null!==n?$i(e,n,s,i||null,!0):2===t?fo(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ht(n)&&Bi(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];vo(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Hi(t,e){return qt(t)?t.createText(e):t.createTextNode(e)}function zi(t,e,n){qt(t)?t.setValue(e,n):e.textContent=n}function Yi(t,e){return t.createComment(function(t){return t.replace(Ti,function(t){return t.replace(Ii,"\u200b$1\u200b")})}(e))}function Xi(t,e,n){return qt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Wi(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,te(i,-1)),n.splice(r,1)}function Ki(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Wi(o,i),e>0&&(t[r-1][4]=i[4]);var a=qn(t,10+e);vo(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Gi(t,e){if(!(256&e[2])){var n=e[11];qt(n)&&n.destroyNode&&vo(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Qi(t[1],t);for(;e;){var n=null;if(St(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)St(e)&&Qi(e[1],e),e=e[3];null===e&&(e=t),St(e)&&Qi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Qi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Xe)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Ht(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&qt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Wi(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Ji(t,e,n){return Zi(t,e.parent,n)}function Zi(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===K.None||i===K.Emulated)return null}return Yt(r,n)}function $i(t,e,n,r,i){qt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function to(t,e,n){qt(t)?t.appendChild(e,n):e.appendChild(n)}function eo(t,e,n,r,i){null!==r?$i(t,e,n,r,i):to(t,e,n)}function no(t,e){return qt(t)?t.parentNode(e):e.parentNode}function ro(t,e,n){return ao(t,e,n)}function io(t,e,n){return 40&t.type?Yt(t,n):null}var oo,ao=io;function so(t,e){ao=t,oo=e}function uo(t,e,n,r){var i=Ji(t,r,e),o=e[11],a=ro(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)eo(o,i,n[s],a,!1);else eo(o,i,n,a,!1);void 0!==oo&&oo(o,r,e,n,i)}function co(t,e){if(null!==e){var n=e.type;if(3&n)return Yt(e,t);if(4&n)return ho(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return co(t,r);var i=t[e.index];return Et(i)?ho(-1,i):Ht(i)}if(32&n)return Fi(e,t)()||Ht(t[e.index]);var o=lo(t,e);return null!==o?Array.isArray(o)?o[0]:co(Mi(t[16]),o):co(t,e.next)}return null}function lo(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ho(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return co(r,i)}return e[7]}function fo(t,e,n){var r=no(t,e);r&&function(t,e,n,r){qt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function po(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&xi(Ht(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)po(t,e,n.child,r,i,o,!1),Bi(e,t,i,s,o);else if(32&u){for(var c=Fi(n,r),l=void 0;l=c();)Bi(e,t,i,l,o);Bi(e,t,i,s,o)}else 16&u?yo(t,e,r,n,i,o):Bi(e,t,i,s,o);n=a?n.projectionNext:n.next}}function vo(t,e,n,r,i,o){po(n,r,t.firstChild,e,i,o,!1)}function yo(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Bi(e,t,i,s[u],o);else po(t,e,s,a[3],i,o,!0)}function go(t,e,n){qt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function mo(t,e,n){qt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function bo(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function _o(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==bo((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function wo(t){return 4===t.type&&"ng-template"!==t.value}function ko(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Oo(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ke(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ko(t,u,n)||""===u&&1===e.length){if(Co(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!_o(t.attrs,c,n)){if(Co(r))return!1;a=!0}continue}var l=So(8&r?"class":u,i,wo(t),n);if(-1===l){if(Co(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==bo(f,c,0)||2&r&&c!==h){if(Co(r))return!1;a=!0}}}}else{if(!a&&!Co(r)&&!Co(u))return!1;if(a&&Co(u))continue;a=!1,r=u|1&r}}return Co(r)||a}function Co(t){return 0==(1&t)}function So(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Eo(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Oo(t,e[r],n))return!0;return!1}function To(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Io(t,e){return t?":not("+e.trim()+")":e}function xo(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Co(a)||(e+=Io(o,i),i=""),r=a,o=o||!Co(r);n++}return""!==i&&(e+=Io(o,i)),e}var Ao={};function jo(t){Po(ae(),oe(),Ne()+t,pe())}function Po(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&qe(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Be(e,o,0,n)}De(n)}function Ro(t,e){return t<<17|e<<2}function No(t){return t>>17&32767}function Do(t){return 2|t}function Lo(t){return(131068&t)>>2}function Fo(t,e){return-131069&t|e<<2}function Mo(t){return 1|t}function Uo(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];Se(i),a.contentQueries(2,e[o],o)}}}function Vo(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,$t(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function qo(t,e,n,r,i){var o=t.data[e];if(null===o)o=Bo(t,e,n,r,i),ee.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=le();o.injectorIndex=null===a?-1:a.injectorIndex}return he(o,!0),o}function Bo(t,e,n,r,i){var o=ce(),a=fe(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Ho(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zo(t,e,n){Ie(e);try{var r=t.viewQuery;null!==r&&ka(1,r,n);var i=t.template;null!==i&&Wo(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Uo(t,e),t.staticViewQueries&&ka(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)ga(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Re()}}function Yo(t,e,n,r){var i=e[2];if(256!=(256&i)){Ie(e);var o=pe();try{$t(e),me(t.bindingStartIndex),null!==n&&Wo(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&qe(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Be(e,u,0,null),He(e,0)}if(function(t){for(var e=Ui(t);null!==e;e=Vi(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&te(o,1),i[2]|=1024}}(e),function(t){for(var e=Ui(t);null!==e;e=Vi(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Jt(r)&&Yo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Uo(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&qe(e,c)}else{var l=t.contentHooks;null!==l&&Be(e,l,1),He(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)De(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=ee.lFrame).bindingIndex=i.bindingRootIndex=n,ke(r),l(2,e[u])}}}finally{De(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)va(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&ka(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&qe(e,d)}else{var p=t.viewHooks;null!==p&&Be(e,p,2),He(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,te(e[3],-1))}finally{Re()}}}function Xo(t,e,n,r){var i=e[10],o=!pe(),a=Qt(e);try{o&&!a&&i.begin&&i.begin(),a&&zo(t,e,r),Yo(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Wo(t,e,n,r,i){var o=Ne(),a=2&r;try{De(-1),a&&e.length>20&&Po(t,e,20,pe()),n(r,i)}finally{De(o)}}function Ko(t,e,n){if(Tt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Go(t,e,n){ne()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||on(n,e),xi(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=At(u);c&&ca(e,n,u);var l=gn(e,t,s,n);xi(l,e),null!==a&&fa(0,s-i,l,u,0,a),c&&(Kt(n.index,e)[8]=l)}}(t,e,n,Yt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=ee.lFrame.currentDirectiveIndex;try{De(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];ke(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||ia(u,c)}}finally{De(-1),ke(a)}}(t,e,n))}function Qo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Jo(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zo(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ao);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function $o(t,e,n,r){var i=Ca(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Sa(t).push(r,i.length-1))}function ta(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ea(t,e,n,r,i,o,a,s){var u,c,l=Yt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(Ia(t,n,u,r,i),It(e)&&function(t,e){var n=Kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,qt(o)?o.setProperty(l,r,i):Ge(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function na(t,e,n,r){var i=!1;if(ne()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Eo(n,a.selectors,!1)&&(i||(i=[]),cn(on(n,e),t,a.type),At(a)?(oa(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,sa(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ho(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Qe(n.mergedAttrs,d.hostAttrs),ua(t,n,e,h,d),aa(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||wo(e)?null:da(l,i);o.push(h),a=ta(l,u,a),s=ta(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new I("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Qe(n.mergedAttrs,n.attrs),i}function ra(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function ia(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oa(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function aa(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;At(e)&&(n[""]=t)}}function sa(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ua(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=jt(i.type)),a=new Xe(o,At(i),null);t.blueprint[r]=a,n[r]=a,ra(t,e,0,r,Ho(t,n,i.hostVars,Ao),i)}function ca(t,e,n){var r=Yt(e,t),i=Jo(n),o=t[10],a=ma(t,Vo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function la(t,e,n,r,i,o){var a=Yt(t,e);ha(e[11],a,o,t.value,n,r,i)}function ha(t,e,n,r,i,o,a){if(null==o)qt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?x(o):a(o,r||"",i);qt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function fa(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function da(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function pa(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function va(t,e){var n=Kt(e,t);if(Jt(n)){var r=n[1];80&n[2]?Yo(r,n,r.template,n[8]):n[5]>0&&ya(n)}}function ya(t){for(var e=Ui(t);null!==e;e=Vi(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Yo(i,r,i.template,r[8])}else r[5]>0&&ya(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Kt(o[a],t);Jt(s)&&s[5]>0&&ya(s)}}function ga(t,e){var n=Kt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zo(r,n,n[8])}function ma(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ba(t){for(;t;){t[2]|=64;var e=Mi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function _a(t,e,n){var r=e[10];r.begin&&r.begin();try{Yo(t,e,t.template,n)}catch(i){throw Ta(e,i),i}finally{r.end&&r.end()}}function wa(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Gt(n),i=r[1];Xo(i,r,i.template,n)}}(t[8])}function ka(t,e,n){Se(0),e(t,n)}var Oa=Promise.resolve(null);function Ca(t){return t[7]||(t[7]=[])}function Sa(t){return t.cleanup||(t.cleanup=[])}function Ea(t,e,n){return(null===t||At(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ta(t,e){var n=t[9],r=n?n.get(Ei,null):null;r&&r.handleError(e)}function Ia(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function xa(t,e,n){var r=zt(e,t);zi(t[11],r,n)}function Aa(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=O(i,s):2==o&&(r=O(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ja,Pa=new Pn("INJECTOR",-1),Ra=function(){function t(){f(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr;if(e===tr){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Na=new Pn("Set Injector scope."),Da={},La={},Fa=[];function Ma(){return void 0===ja&&(ja=new Ra),ja}function Ua(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Va(t,n,e||Ma(),r)}var Va=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&Un(n,function(t){return i.processProvider(t,e,n)}),Un([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(Pa,Ha(void 0,this));var s=this.records.get(Na);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:k(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;this.assertNotDestroyed();var r,i=rr(this);try{if(!(n&H.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Pn)&&D(t);o=a&&this.injectableDefInScope(a)?Ha(qa(t),Da):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&H.Self?Ma():this.parent).get(t,e=n&H.Optional&&e===tr?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(k(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):k(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(er,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{rr(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=E(t)))return!1;var i=F(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=F(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{Un(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;Un(i,function(t){return r.processProvider(t,n,i||Fa)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=jt(a)||function(){return new a};this.records.set(a,Ha(h,Da));var f=i.providers;if(null!=f&&!s){var d=t;Un(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Ya(t=E(t))?t:E(t&&t.provide),i=function(t,e,n){return za(t)?Ha(void 0,t.useValue):Ha(Ba(t),Da)}(t);if(Ya(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Ha(void 0,Da,!0)).factory=function(){return sr(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Da&&(e.value=La,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function qa(t){var e=D(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;if(t instanceof Pn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=Bn(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[U]||t[q]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Ba(t,e,n){var r,i;if(Ya(t)){var a=E(t);return jt(a)||qa(a)}if(za(t))r=function(){return E(t.useValue)};else if((i=t)&&i.useFactory)r=function(){return t.useFactory.apply(t,o(sr(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return or(E(t.useExisting))};else{var s=E(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return jt(s)||qa(s);r=function(){return l(s,o(sr(t.deps)))}}return r}function Ha(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function za(t){return null!==t&&"object"==typeof t&&nr in t}function Ya(t){return"function"==typeof t}var Xa=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Ua(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Wa=function(){var t=function(){function t(){f(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Xa(t,e,""):Xa(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=tr,t.NULL=new Ra,t.\u0275prov=R({token:t,providedIn:"any",factory:function(){return or(Pa)}}),t.__NG_ELEMENT_ID__=-1,t}();function Ka(t,e){Ve(Gt(t)[1],ue())}function Ga(t){return Object.getPrototypeOf(t.prototype).constructor}function Qa(t){for(var e=Ga(t.type),n=!0,r=[t];e;){var i=void 0;if(At(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Ja(t.inputs),o.declaredInputs=Ja(t.declaredInputs),o.outputs=Ja(t.outputs);var a=i.hostBindings;a&&ts(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Za(t,s),u&&$a(t,u),_(t.inputs,i.inputs),_(t.declaredInputs,i.declaredInputs),_(t.outputs,i.outputs),At(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Qa&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qe(i.hostAttrs,n=Qe(n,i.hostAttrs))}}(r)}function Ja(t){return t===tt?{}:t===nt?[]:t}function Za(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function $a(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function ts(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var es=["providersResolver"],ns=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function rs(t){var e,n=Ga(t.type);e=At(t)?n.\u0275cmp:n.\u0275dir;var r,o=t,a=i(es);try{for(a.s();!(r=a.n()).done;){var s=r.value;o[s]=e[s]}}catch(h){a.e(h)}finally{a.f()}if(At(e)){var u,c=i(ns);try{for(c.s();!(u=c.n()).done;){var l=u.value;o[l]=e[l]}}catch(h){c.e(h)}finally{c.f()}}}var is=null;function os(){if(!is){var t=$.Symbol;if(t&&t.iterator)is=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(is=r)}}return is}var as=function(){function t(e){f(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ss(t){return!!us(t)&&(Array.isArray(t)||!(t instanceof Map)&&os()in t)}function us(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function cs(t,e,n){return t[e]=n}function ls(t,e){return t[e]}function hs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fs(t,e,n,r){var i=hs(t,e,n);return hs(t,e+1,r)||i}function ds(t,e,n,r,i){var o=fs(t,e,n,r);return hs(t,e+2,i)||o}function ps(t,e,n,r,i,o){var a=fs(t,e,n,r);return fs(t,e+2,i,o)||a}function vs(t,e,n,r){var i=oe();return hs(i,be(),e)&&(ae(),la(Le(),i,t,e,n,r)),vs}function ys(t,e){for(var n=!1,r=ge(),i=1;i<e.length;i+=2)n=hs(t,r++,e[i])||n;if(me(r),!n)return Ao;for(var o=e[0],a=1;a<e.length;a+=2)o+=x(e[a])+e[a+1];return o}function gs(t,e,n,r){return hs(t,be(),n)?e+x(n)+r:Ao}function ms(t,e,n,r,i,o){var a=fs(t,ge(),n,i);return _e(2),a?e+x(n)+r+x(i)+o:Ao}function bs(t,e,n,r,i,o,a,s){var u=ds(t,ge(),n,i,a);return _e(3),u?e+x(n)+r+x(i)+o+x(a)+s:Ao}function _s(t,e,n,r,i,o,a,s,u,c){var l=ps(t,ge(),n,i,a,u);return _e(4),l?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c:Ao}function ws(t,e,n,r,i,o,a,s,u,c,l,h){var f=ge(),d=ps(t,f,n,i,a,u);return d=hs(t,f+4,l)||d,_e(5),d?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c+x(l)+h:Ao}function ks(t,e,n,r,i,o,a,s,u,c,l,h,f,d){var p=ge(),v=ps(t,p,n,i,a,u);return v=fs(t,p+4,l,f)||v,_e(6),v?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c+x(l)+h+x(f)+d:Ao}function Os(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v){var y=ge(),g=ps(t,y,n,i,a,u);return g=ds(t,y+4,l,f,p)||g,_e(7),g?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c+x(l)+h+x(f)+d+x(p)+v:Ao}function Cs(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g){var m=ge(),b=ps(t,m,n,i,a,u);return b=ps(t,m+4,l,f,p,y)||b,_e(8),b?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c+x(l)+h+x(f)+d+x(p)+v+x(y)+g:Ao}function Ss(t,e,n,r,i,o){var a=oe(),s=gs(a,e,n,r);return s!==Ao&&la(Le(),a,t,s,i,o),Ss}function Es(t,e,n,r,i,o,a,s){var u=oe(),c=ms(u,e,n,r,i,o);return c!==Ao&&la(Le(),u,t,c,a,s),Es}function Ts(t,e,n,r,i,o,a,s,u,c){var l=oe(),h=bs(l,e,n,r,i,o,a,s);return h!==Ao&&la(Le(),l,t,h,u,c),Ts}function Is(t,e,n,r,i,o,a,s,u,c,l,h){var f=oe(),d=_s(f,e,n,r,i,o,a,s,u,c);return d!==Ao&&la(Le(),f,t,d,l,h),Is}function xs(t,e,n,r,i,o,a,s,u,c,l,h,f,d){var p=oe(),v=ws(p,e,n,r,i,o,a,s,u,c,l,h);return v!==Ao&&la(Le(),p,t,v,f,d),xs}function As(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v){var y=oe(),g=ks(y,e,n,r,i,o,a,s,u,c,l,h,f,d);return g!==Ao&&la(Le(),y,t,g,p,v),As}function js(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g){var m=oe(),b=Os(m,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v);return b!==Ao&&la(Le(),m,t,b,y,g),js}function Ps(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m,b){var _=oe(),w=Cs(_,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g);return w!==Ao&&la(Le(),_,t,w,m,b),Ps}function Rs(t,e,n,r){var i=oe(),o=ys(i,e);return o!==Ao&&la(Le(),i,t,o,n,r),Rs}function Ns(t,e,n,r,i,o,a,s){var u=oe(),c=ae(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=qo(e,t,4,a||null,Zt(c,s));na(e,n,l,Zt(c,u)),Ve(e,l);var h=l.tViews=Zo(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];he(h,!1);var f=u[11].createComment("");uo(c,u,f,h),xi(f,u),ma(u,u[l]=pa(f,u,f,h)),xt(h)&&Go(c,u,h),null!=a&&Qo(u,h,s)}function Ds(t){return Wt(ee.lFrame.contextLView,20+t)}function Ls(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default,n=oe();return null===n?or(t,e):fn(ue(),n,E(t),e)}function Fs(){throw new Error("invalid")}function Ms(t,e,n){var r=oe();return hs(r,be(),e)&&ea(ae(),Le(),r,t,e,r[11],n,!1),Ms}function Us(t,e,n,r,i){var o=i?"class":"style";Ia(t,n,e.inputs[o],o,r)}function Vs(t,e,n,r){var i=oe(),o=ae(),a=20+t,s=i[11],u=i[a]=Xi(s,e,ee.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=qo(e,t,2,i,Zt(s,o));return na(e,n,u,Zt(s,a)),null!==u.attrs&&Aa(u,u.attrs,!1),null!==u.mergedAttrs&&Aa(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];he(c,!0);var l=c.mergedAttrs;null!==l&&We(s,u,l);var h=c.classes;null!==h&&mo(s,u,h);var f=c.styles;null!==f&&go(s,u,f),64!=(64&c.flags)&&uo(o,i,u,c),0===ee.lFrame.elementDepthCount&&xi(u,i),ee.lFrame.elementDepthCount++,xt(c)&&(Go(o,i,c),Ko(o,c,i)),null!==r&&Qo(i,c)}function qs(){var t=ue();fe()?de():he(t=t.parent,!1);var e=t;ee.lFrame.elementDepthCount--;var n=ae();n.firstCreatePass&&(Ve(n,t),Tt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Us(n,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Us(n,e,oe(),e.stylesWithoutHost,!1)}function Bs(t,e,n,r){Vs(t,e,n,r),qs()}function Hs(t,e,n){var r=oe(),i=ae(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Zt(o,r),s=qo(e,t,8,"ng-container",a);return null!==a&&Aa(s,a,!0),na(e,n,s,Zt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];he(a,!0);var s=r[o]=r[11].createComment("");uo(i,r,s,a),xi(s,r),xt(a)&&(Go(i,r,a),Ko(i,a,r)),null!=n&&Qo(r,a)}function zs(){var t=ue(),e=ae();fe()?de():he(t=t.parent,!1),e.firstCreatePass&&(Ve(e,t),Tt(t)&&e.queries.elementEnd(t))}function Ys(t,e,n){Hs(t,e,n),zs()}function Xs(){return oe()}function Ws(t){return!!t&&"function"==typeof t.then}function Ks(t){return!!t&&"function"==typeof t.subscribe}var Gs=Ks;function Qs(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=oe(),o=ae(),a=ue();return Zs(o,i,i[11],a,t,e,n,r),Qs}function Js(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ue(),o=oe(),a=ae();return Zs(a,o,Ea(Oe(a.data),i,o),i,t,e,n,r),Js}function Zs(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=xt(r),c=t.firstCreatePass&&Sa(t),l=Ca(e),h=!0;if(3&r.type){var f=Yt(r,e),d=s?s(f):tt,p=d.target||f,v=l.length,y=s?function(t){return s(Ht(t[r.index])).target}:r.index;if(qt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=tu(r,e,0,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=tu(r,e,0,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=tu(r,e,0,o,!1);var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var O=e[b[k]][b[k+1]].subscribe(o),C=l.length;l.push(o,O),c&&c.push(i,r.index,C,-(C+1))}}}function $s(t,e,n,r){try{return!1!==n(r)}catch(i){return Ta(t,i),!1}}function tu(t,e,n,r,i){return function n(o){if(o===Function)return r;var a=2&t.flags?Kt(t.index,e):e;0==(32&e[2])&&ba(a);for(var s=$s(e,0,r,o),u=n.__ngNextListenerFn__;u;)s=$s(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function eu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(ee.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ee.lFrame.contextLView))[8]}(t)}function nu(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Eo(t,o,!0):To(r,o))return i}else n=i}return n}function ru(t){var e=oe()[16][6];if(!e.projection)for(var n=e.projection=Bn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?nu(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function iu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=oe(),i=ae(),o=qo(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),de(),64!=(64&o.flags)&&function(t,e,n){yo(e[11],0,e,n,Ji(t,n,e),ro(n.parent||e[6],n,e))}(i,r,o)}function ou(t,e,n){return au(t,"",e,"",n),ou}function au(t,e,n,r,i){var o=oe(),a=gs(o,e,n,r);return a!==Ao&&ea(ae(),Le(),o,t,a,o[11],i,!1),au}function su(t,e,n,r,i,o,a){var s=oe(),u=ms(s,e,n,r,i,o);return u!==Ao&&ea(ae(),Le(),s,t,u,s[11],a,!1),su}function uu(t,e,n,r,i,o,a,s,u){var c=oe(),l=bs(c,e,n,r,i,o,a,s);return l!==Ao&&ea(ae(),Le(),c,t,l,c[11],u,!1),uu}function cu(t,e,n,r,i,o,a,s,u,c,l){var h=oe(),f=_s(h,e,n,r,i,o,a,s,u,c);return f!==Ao&&ea(ae(),Le(),h,t,f,h[11],l,!1),cu}function lu(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=oe(),p=ws(d,e,n,r,i,o,a,s,u,c,l,h);return p!==Ao&&ea(ae(),Le(),d,t,p,d[11],f,!1),lu}function hu(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p){var v=oe(),y=ks(v,e,n,r,i,o,a,s,u,c,l,h,f,d);return y!==Ao&&ea(ae(),Le(),v,t,y,v[11],p,!1),hu}function fu(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){var g=oe(),m=Os(g,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v);return m!==Ao&&ea(ae(),Le(),g,t,m,g[11],y,!1),fu}function du(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m){var b=oe(),_=Cs(b,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g);return _!==Ao&&ea(ae(),Le(),b,t,_,b[11],m,!1),du}function pu(t,e,n){var r=oe(),i=ys(r,e);return i!==Ao&&ea(ae(),Le(),r,t,i,r[11],n,!1),pu}function vu(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?No(o):Lo(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];yu(t[s],e)&&(u=!0,t[s+1]=r?Mo(c):Do(c)),s=r?No(c):Lo(c)}u&&(t[n+1]=r?Do(o):Mo(o))}function yu(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Yn(t,e)>=0}var gu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mu(t){return t.substring(gu.key,gu.keyEnd)}function bu(t){return t.substring(gu.value,gu.valueEnd)}function _u(t,e){var n=gu.textEnd;return n===e?-1:(e=gu.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,gu.key=e,n),Ou(t,e,n))}function wu(t,e){var n=gu.textEnd,r=gu.key=Ou(t,e,n);return n===r?-1:(r=gu.keyEnd=function(t,e,n){for(var r;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Cu(t,r,n),r=gu.value=Ou(t,r,n),r=gu.valueEnd=function(t,e,n){for(var r=-1,i=-1,o=-1,a=e,s=a;a<n;){var u=t.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=Su(t,u,a,n):e===a-4&&85===o&&82===i&&76===r&&40===u?s=a=Su(t,41,a,n):u>32&&(s=a),o=i,i=r,r=-33&u}return s}(t,r,n),Cu(t,r,n))}function ku(t){gu.key=0,gu.keyEnd=0,gu.value=0,gu.valueEnd=0,gu.textEnd=t.length}function Ou(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Cu(t,e,n,r){return(e=Ou(t,e,n))<n&&e++,e}function Su(t,e,n,r){for(var i=-1,o=n;o<r;){var a=t.charCodeAt(o++);if(a==e&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function Eu(t,e,n){return Pu(t,e,n,!1),Eu}function Tu(t,e){return Pu(t,e,null,!0),Tu}function Iu(t){Ru(Mu,xu,t,!1)}function xu(t,e){for(var n=function(t){return ku(t),wu(t,Ou(t,0,gu.textEnd))}(e);n>=0;n=wu(e,n))Mu(t,mu(e),bu(e))}function Au(t){Ru(Hn,ju,t,!0)}function ju(t,e){for(var n=function(t){return ku(t),_u(t,Ou(t,0,gu.textEnd))}(e);n>=0;n=_u(e,n))Hn(t,mu(e),!0)}function Pu(t,e,n,r){var i=oe(),o=ae(),a=_e(2);o.firstUpdatePass&&Du(o,t,a,r),e!==Ao&&hs(i,a,e)&&Uu(o,o.data[Ne()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Nr(t)))),t}(e,n),r,a)}function Ru(t,e,n,r){var i=ae(),o=_e(2);i.firstUpdatePass&&Du(i,null,o,r);var a=oe();if(n!==Ao&&hs(a,o,n)){var s=i.data[Ne()];if(Bu(s,r)&&!Nu(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=O(u,n||"")),Us(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Ao&&(i=et);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&Uu(t,e,n,r,v,p,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return et;var r=[],i=Nr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Nu(t,e){return e>=t.expandoStartIndex}function Du(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ne()],a=Nu(t,n);Bu(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=Oe(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fu(n=Lu(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Lu(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Lo(r))return t[No(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[No(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Fu(s=Lu(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Fu(r,t[o].hostAttrs,n);return Fu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=No(a),u=Lo(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||Yn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=No(t[s+1]);t[r+1]=Ro(f,s),0!==f&&(t[f+1]=Fo(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ro(s,0),0!==s&&(t[s+1]=Fo(t[s+1],r)),s=r;else t[r+1]=Ro(u,0),0===s?s=r:t[u+1]=Fo(t[u+1],r),u=r;l&&(t[r+1]=Do(t[r+1])),vu(t,c,r,!0),vu(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Yn(o,e)>=0&&(n[r+1]=Mo(n[r+1]))}(e,c,t,r,o),a=Ro(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Lu(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Fu(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Fu(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hn(t,a,!!n||e[++o]))}return void 0===t?null:t}function Mu(t,e,n){Hn(t,e,Nr(n))}function Uu(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];qu(1==(1&c)?Vu(u,e,n,i,Lo(c),a):void 0)||(qu(o)||2==(2&c)&&(o=Vu(u,null,n,i,s,a)),function(t,e,n,r,i){var o=qt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Li.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Li.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,zt(Ne(),n),i,o))}}function Vu(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ao&&(f=h?et:void 0);var d=h?zn(f,r):l===r?f:void 0;if(c&&!qu(d)&&(d=zn(u,r)),qu(d)&&(a=d,s))return a;var p=t[i+1];i=s?No(p):Lo(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=zn(v,r))}return a}function qu(t){return void 0!==t}function Bu(t,e){return 0!=(t.flags&(e?16:32))}function Hu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=oe(),r=ae(),i=t+20,o=r.firstCreatePass?qo(r,i,1,e,null):r.data[i],a=n[i]=Hi(n[11],e);uo(r,n,a,o),he(o,!1)}function zu(t){return Yu("",t,""),zu}function Yu(t,e,n){var r=oe(),i=gs(r,t,e,n);return i!==Ao&&xa(r,Ne(),i),Yu}function Xu(t,e,n,r,i){var o=oe(),a=ms(o,t,e,n,r,i);return a!==Ao&&xa(o,Ne(),a),Xu}function Wu(t,e,n,r,i,o,a){var s=oe(),u=bs(s,t,e,n,r,i,o,a);return u!==Ao&&xa(s,Ne(),u),Wu}function Ku(t,e,n,r,i,o,a,s,u){var c=oe(),l=_s(c,t,e,n,r,i,o,a,s,u);return l!==Ao&&xa(c,Ne(),l),Ku}function Gu(t,e,n,r,i,o,a,s,u,c,l){var h=oe(),f=ws(h,t,e,n,r,i,o,a,s,u,c,l);return f!==Ao&&xa(h,Ne(),f),Gu}function Qu(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=oe(),p=ks(d,t,e,n,r,i,o,a,s,u,c,l,h,f);return p!==Ao&&xa(d,Ne(),p),Qu}function Ju(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p){var v=oe(),y=Os(v,t,e,n,r,i,o,a,s,u,c,l,h,f,d,p);return y!==Ao&&xa(v,Ne(),y),Ju}function Zu(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){var g=oe(),m=Cs(g,t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y);return m!==Ao&&xa(g,Ne(),m),Zu}function $u(t){var e=oe(),n=ys(e,t);return n!==Ao&&xa(e,Ne(),n),$u}function tc(t,e,n){Ru(Hn,ju,gs(oe(),t,e,n),!0)}function ec(t,e,n,r,i){Ru(Hn,ju,ms(oe(),t,e,n,r,i),!0)}function nc(t,e,n,r,i,o,a){Ru(Hn,ju,bs(oe(),t,e,n,r,i,o,a),!0)}function rc(t,e,n,r,i,o,a,s,u){Ru(Hn,ju,_s(oe(),t,e,n,r,i,o,a,s,u),!0)}function ic(t,e,n,r,i,o,a,s,u,c,l){Ru(Hn,ju,ws(oe(),t,e,n,r,i,o,a,s,u,c,l),!0)}function oc(t,e,n,r,i,o,a,s,u,c,l,h,f){Ru(Hn,ju,ks(oe(),t,e,n,r,i,o,a,s,u,c,l,h,f),!0)}function ac(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p){Ru(Hn,ju,Os(oe(),t,e,n,r,i,o,a,s,u,c,l,h,f,d,p),!0)}function sc(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){Ru(Hn,ju,Cs(oe(),t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y),!0)}function uc(t){Ru(Hn,ju,ys(oe(),t),!0)}function cc(t,e,n){Iu(gs(oe(),t,e,n))}function lc(t,e,n,r,i){Iu(ms(oe(),t,e,n,r,i))}function hc(t,e,n,r,i,o,a){Iu(bs(oe(),t,e,n,r,i,o,a))}function fc(t,e,n,r,i,o,a,s,u){Iu(_s(oe(),t,e,n,r,i,o,a,s,u))}function dc(t,e,n,r,i,o,a,s,u,c,l){Iu(ws(oe(),t,e,n,r,i,o,a,s,u,c,l))}function pc(t,e,n,r,i,o,a,s,u,c,l,h,f){Iu(ks(oe(),t,e,n,r,i,o,a,s,u,c,l,h,f))}function vc(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p){Iu(Os(oe(),t,e,n,r,i,o,a,s,u,c,l,h,f,d,p))}function yc(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){Iu(Cs(oe(),t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y))}function gc(t){Iu(ys(oe(),t))}function mc(t,e,n,r,i){return Pu(t,gs(oe(),e,n,r),i,!1),mc}function bc(t,e,n,r,i,o,a){return Pu(t,ms(oe(),e,n,r,i,o),a,!1),bc}function _c(t,e,n,r,i,o,a,s,u){return Pu(t,bs(oe(),e,n,r,i,o,a,s),u,!1),_c}function wc(t,e,n,r,i,o,a,s,u,c,l){return Pu(t,_s(oe(),e,n,r,i,o,a,s,u,c),l,!1),wc}function kc(t,e,n,r,i,o,a,s,u,c,l,h,f){return Pu(t,ws(oe(),e,n,r,i,o,a,s,u,c,l,h),f,!1),kc}function Oc(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p){return Pu(t,ks(oe(),e,n,r,i,o,a,s,u,c,l,h,f,d),p,!1),Oc}function Cc(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){return Pu(t,Os(oe(),e,n,r,i,o,a,s,u,c,l,h,f,d,p,v),y,!1),Cc}function Sc(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m){return Pu(t,Cs(oe(),e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g),m,!1),Sc}function Ec(t,e,n){return Pu(t,ys(oe(),e),n,!1),Ec}function Tc(t,e,n){var r=oe();return hs(r,be(),e)&&ea(ae(),Le(),r,t,e,r[11],n,!0),Tc}function Ic(t,e,n){var r=oe();if(hs(r,be(),e)){var i=ae(),o=Le();ea(i,o,r,t,e,Ea(Oe(i.data),o,r),n,!0)}return Ic}var xc=void 0,Ac=["en",[["a","p"],["AM","PM"],xc],[["AM","PM"],xc,xc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xc,"{1} 'at' {0}",xc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],jc={};function Pc(t,e,n){"string"!=typeof e&&(n=e,e=t[Fc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),jc[e]=t,n&&(jc[e][Fc.ExtraData]=n)}function Rc(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Lc(e);if(n)return n;var r=e.split("-")[0];if(n=Lc(r))return n;if("en"===r)return Ac;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Nc(t){return Rc(t)[Fc.CurrencyCode]||null}function Dc(t){return Rc(t)[Fc.PluralCase]}function Lc(t){return t in jc||(jc[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),jc[t]}var Fc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),Mc=["zero","one","two","few","many"],Uc={marker:"element"},Vc={marker:"ICU"},qc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),Bc="en-US";function Hc(t){var e;null==(e=t)&&P("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Bc=t.toLowerCase().replace(/_/g,"-"))}function zc(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?io(t,0,n):Ht(n[i])}function Yc(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&e.type||(s=a,a=i),null!==a&&0==(2&e.flags))for(var u=1;u<o.length;u++)$i(t,a,n[o[u]],s,!1)}}function Xc(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];Wc(r)||Kc(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Gc(r,e.index)}var i}function Wc(t){return!(64&t.type)}function Kc(t,e){return Wc(e)||t.index>e.index}function Gc(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(so(zc,Yc),t.insertBeforeIndex=e)}function Qc(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Jc(t,e,n){var r=Bo(t,n,64,null,null);return Xc(e,r),r}function Zc(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var $c=0,tl=0;function el(t,e,n,r){for(var i,o=n[11],a=null,s=0;s<e.length;s++){var u=e[s];if("string"==typeof u){var c=e[++s];null===n[c]&&(n[c]=Hi(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,h=void 0,f=void 0;if(null===a&&(a=l,i=no(o,r)),l===a?(h=r,f=i):(h=null,f=Ht(n[l])),null!==f){var d=(131070&u)>>>1;$i(o,f,n[d],h,!1);var p=Qc(t,d);if(null!==p&&"object"==typeof p){var v=Zc(p,n);null!==v&&el(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var y=e[++s],g=e[++s];ha(o,zt(u>>>1,n),null,null,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case Vc:var m=e[++s],b=e[++s];null===n[b]&&xi(n[b]=Yi(o,m),n);break;case Uc:var _=e[++s],w=e[++s];null===n[w]&&xi(n[w]=Xi(o,_,null),n)}}}function nl(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=x(e[r-l]);else{var h=l>>>2;switch(3&l){case 1:var f=n[++c],d=n[++c],p=t.data[h];"string"==typeof p?ha(e[11],e[h],null,p,f,u,d):ea(t,p,e,f,u,e[11],d,!1);break;case 0:var v=e[h];null!==v&&zi(e[11],v,u);break;case 2:il(t,Qc(t,h),e,u);break;case 3:rl(t,Qc(t,h),r,e)}}}else{var y=n[o+1];if(y>0&&3==(3&y)){var g=Qc(t,y>>>2);e[g.currentCaseLViewIndex]<0&&rl(t,g,r,e)}}o+=s}}function rl(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=$c;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),nl(t,r,e.update[i],n,o)}}function il(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=Dc(e)(parseInt(t,10)),r=Mc[n];return void 0!==r?r:"other"}(e,Bc);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Zc(e,n)!==i&&(ol(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&el(t,e.create[i],n,o)}}function ol(t,e,n){var r=Zc(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=zt(a,n);null!==s&&fo(n[11],s)}else ol(t,Qc(t,~a),n)}}var al=/\ufffd(\d+):?\d*\ufffd/gi,sl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,ul=/\ufffd(\d+)\ufffd/,cl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ll=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hl=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fl=/\uE500/g;function dl(t,e,n,r,i,o,a){var s=Ho(t,r,1,null),u=s<<qc.SHIFT,c=le();e===c&&(c=null),null===c&&(u|=qc.APPEND_EAGERLY),a&&(u|=qc.COMMENT,void 0===Di&&(Di=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=Zc(t,n);e=null!==i?t.remove[i]:nt}function o(){if(r<e.length){var a=e[r++];return a>0?t[a]:(n.push(r,e),i(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(u,null===o?"":o);var l=Bo(t,s,a?32:1,null===o?"":o,null);Xc(n,l);var h=l.index;return he(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(so(zc,Yc),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&P("Expecting array here",n,!0,"=="),r.push(e))}(c,h),l}function pl(t,e,n,r,i,o,a){var s=a.match(al),u=dl(t,e,n,o,r,s?null:a,!1);s&&vl(i,a,u.index)}function vl(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,a=o+1;t.push(null,null);for(var s=o+2,u=e.split(al),c=0,l=0;l<u.length;l++){var h=u[l];if(1&l){var f=parseInt(h,10);t.push(-1-f),c|=yl(f)}else""!==h&&t.push(h)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[a]=t.length-s,c}function yl(t){return 1<<Math.min(t,31)}function gl(t){for(var e,n,r="",i=0,o=!1;null!==(e=ll.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function ml(t,e,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:Ho(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(yl(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=wl(t,s,e,n,r,i.cases[c],l.join(""),h)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function bl(t){for(var e=[],n=[],r=1,i=0,o=_l(t=t.replace(cl,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=_l(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function _l(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);cl.test(s)?i.push(bl(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function wl(t,e,n,r,i,o,a,s){var u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);var h=Br(Vt()).getInertBodyElement(a),f=fi(h)||h;return f?kl(t,e,n,r,u,c,l,f,i,s,0):0}function kl(t,e,n,r,i,o,a,s,u,c,l){for(var h=0,f=s.firstChild;f;){var d=Ho(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:var p=f,v=p.tagName.toLowerCase();if(ni.hasOwnProperty(v)){Sl(i,Uc,v,u,d),t.data[d]=v;for(var y=p.attributes,g=0;g<y.length;g++){var m=y.item(g),b=m.name.toLowerCase();m.value.match(al)?oi.hasOwnProperty(b)&&(ri[b]?vl(a,m.value,d,m.name,Wr):ii[b]?vl(a,m.value,d,m.name,Kr):vl(a,m.value,d,m.name)):El(i,d,m)}h=kl(t,e,n,r,i,o,a,f,d,c,l+1)|h,Ol(o,d,l)}break;case Node.TEXT_NODE:var _=f.textContent||"",w=_.match(al);Sl(i,null,w?"":_,u,d),Ol(o,d,l),w&&(h=vl(a,_,d)|h);break;case Node.COMMENT_NODE:var k=ul.exec(f.textContent||"");if(k){var O=c[parseInt(k[1],10)];Sl(i,Vc,"",u,d),ml(t,n,r,u,O,d),Cl(o,d,l)}}f=f.nextSibling}return h}function Ol(t,e,n){0===n&&t.push(e)}function Cl(t,e,n){0===n&&(t.push(~e),t.push(e))}function Sl(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function El(t,e,n){t.push(e<<1|1,n.name,n.value)}var Tl=/\[(\ufffd.+?\ufffd?)\]/,Il=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,xl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Al=/{([A-Z0-9_]+)}/g,jl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Pl=/\/\*/,Rl=/\d+\:(\d+)/;function Nl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=ae(),i=oe(),o=20+t,a=Zt(r.consts,e),s=le();r.firstCreatePass&&function(t,e,n,r,i,o){for(var a,s=le(),u=[],c=[],l=[[]],h=(a=i=function(t,e){if(function(t){return-1===t}(e))return gl(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return gl(t.substring(n,r))}(i,o),a.replace(fl," ")).split(hl),f=0;f<h.length;f++){var d=h[f];if(0==(1&f))for(var p=_l(d),v=0;v<p.length;v++){var y=p[v];if(0==(1&v)){var g=y;""!==g&&pl(t,s,l[0],u,c,n,g)}else{var m=y;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));ml(t,n,c,e,m,dl(t,s,l[0],n,u,"",!0).index)}}else{var b=47===d.charCodeAt(0),_=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)l.shift(),he(le(),!1);else{var w=Jc(t,l[0],_);l.unshift([]),he(w,!0)}}}t.data[r]={create:u,update:c}}(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=Zi(r,s===i[6]?null:s,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],u=(a&qc.COMMENT)===qc.COMMENT,c=(a&qc.APPEND_EAGERLY)===qc.APPEND_EAGERLY,l=a>>>qc.SHIFT,h=t[l];null===h&&(h=t[l]=u?i.createComment(s):Hi(i,s)),c&&null!==n&&$i(i,n,h,r,!1)}}(i,u.create,c,s&&8&s.type?i[s.index]:null),we(!0)}function Dl(){we(!1)}function Ll(t,e,n){Nl(t,e,n),Dl()}function Fl(t,e){var n=ae();!function(t,e,n){var r=ue().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(var o=0;o<n.length;o+=2){var a=n[o],s=n[o+1];if(""!==s){if(sl.test(s))throw new Error('ICU expressions are not supported in attributes. Message: "'.concat(s,'".'));vl(i,s,r,a)}}t.data[e]=i}}(n,t+20,Zt(n.consts,e))}function Ml(t){return hs(oe(),be(),t)&&($c|=1<<Math.min(tl,31)),tl++,Ml}function Ul(t){!function(t,e,n){if(tl>0){var r=t.data[n];nl(t,e,Array.isArray(r)?r:r.update,ge()-tl-1,$c)}$c=0,tl=0}(ae(),oe(),t+20)}function Vl(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t;if(Tl.test(t)){var i={},o=[0];r=r.replace(Il,function(t,n,r){var a=n||r,s=i[a]||[];if(s.length||(a.split("|").forEach(function(t){var e=t.match(Rl),n=e?parseInt(e[1],10):0,r=Pl.test(t);s.push([n,r,t])}),i[a]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - ".concat(a));for(var u=o[o.length-1],c=0,l=0;l<s.length;l++)if(s[l][0]===u){c=l;break}var h=e(s[c],3),f=h[0],d=h[1],p=h[2];return d?o.pop():u!==f&&o.push(f),s.splice(c,1),p})}return Object.keys(n).length?r=(r=(r=r.replace(xl,function(t,e,r,i,o,a){return n.hasOwnProperty(r)?"".concat(e).concat(n[r]).concat(a):t})).replace(Al,function(t,e){return n.hasOwnProperty(e)?n[e]:t})).replace(jl,function(t,e){if(n.hasOwnProperty(e)){var r=n[e];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(t," with key: ").concat(e));return r.shift()}return t}):r}(t,n)}function ql(t,e,n,r,i){if(t=E(t),Array.isArray(t))for(var o=0;o<t.length;o++)ql(t[o],e,n,r,i);else{var a=ae(),s=oe(),u=Ya(t)?t:E(t.provide),c=Ba(t),l=ue(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Ya(t)||!t.multi){var p=new Xe(c,i,Ls),v=zl(u,e,i?h:h+d,f);-1===v?(cn(on(l,s),a,u),Bl(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=zl(u,e,h+d,f),g=zl(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){cn(on(l,s),a,u);var _=function(t,e,n,r,i){var o=new Xe(t,n,Ls);return o.multi=[],o.index=e,o.componentProviders=0,Hl(o,i,r&&!n),o}(i?Xl:Yl,n.length,i,r,c);!i&&b&&(n[g].providerFactory=_),Bl(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),s.push(_)}else Bl(a,t,y>-1?y:g,Hl(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function Bl(t,e,n,r){var i=Ya(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Hl(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zl(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Yl(t,e,n,r){return Wl(this.multi,[])}function Xl(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=gn(n,n[1],this.providerFactory.index,r);Wl(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Wl(o,i=[]);return i}function Wl(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Kl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ae();if(r.firstCreatePass){var i=At(t);ql(n,r.data,r.blueprint,i,!0),ql(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Gl=function t(){f(this,t)},Ql=function(){function t(){f(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Jl=function(){var t=function t(){f(this,t)};return t.NULL=new Ql,t}();function Zl(){}function $l(t,e){return new eh(Yt(t,e))}var th=function(){return $l(ue(),oe())},eh=function(){var t=function t(e){f(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=th,t}();function nh(t){return t instanceof eh?t.nativeElement:t}var rh=function t(){f(this,t)},ih=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return oh()},t}(),oh=function(){var t=oe(),e=Kt(ue().index,t);return function(t){return t[11]}(St(e)?e:t)},ah=function(){var t=function t(){f(this,t)};return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return null}}),t}(),sh=function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},uh=new sh("11.2.10"),ch=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return ss(t)}},{key:"create",value:function(t){return new hh(t)}}]),t}(),lh=function(t,e){return e},hh=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lh}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<vh(n,r,i)?e:n,a=vh(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ss(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[os()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new fh(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ph),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ph),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),fh=function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},dh=function(){function t(){f(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ph=function(){function t(){f(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new dh,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function vh(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var yh=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||us(t)}},{key:"create",value:function(){return new gh}}]),t}(),gh=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||us(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new mh(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),mh=function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function bh(){return new _h([new ch])}var _h=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||bh())},deps:[[t,new fr,new lr]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:bh}),t}();function wh(){return new kh([new yh])}var kh=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||wh())},deps:[[t,new fr,new lr]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:wh}),t}();function Oh(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Ht(a)),Et(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Oh(u[1],u,c,r)}var l=n.type;if(8&l)Oh(t,e,n.child,r);else if(32&l)for(var h=Fi(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=lo(e,n);if(Array.isArray(d))r.push.apply(r,o(d));else{var p=Mi(e[16]);Oh(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var Ch=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Oh(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ki(t,n),qn(e,n))}this._attachedToViewContainer=!1}Gi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){$o(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){ba(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){_a(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ve(!0);try{_a(t,e,n)}finally{ve(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,vo(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Sh=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){wa(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ve(!0);try{wa(t)}finally{ve(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ch),Eh=Ih,Th=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Eh,t.__ChangeDetectorRef__=!0,t}();function Ih(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&It(t)){var r=Kt(t.index,e);return new Ch(r,r)}return 47&t.type?new Ch(e[16],e):null}(ue(),oe(),t)}var xh=[new yh],Ah=new _h([new ch]),jh=new kh(xh),Ph=function(){return Dh(ue(),oe())},Rh=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Ph,t}(),Nh=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Vo(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zo(e,n,t),new Ch(n)}}]),n}(Rh);function Dh(t,e){return 4&t.type?new Nh(e,t,$l(t,e)):null}var Lh=function t(){f(this,t)},Fh=function t(){f(this,t)},Mh=function(){return Hh(ue(),oe())},Uh=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Mh,t}(),Vh=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return $l(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new _n(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=un(this._hostTNode,this._hostLView);if(Ze(t)){var e=tn(t,this._hostLView),n=$e(t);return new _n(e[1].data[n+8],e)}return new _n(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=qh(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(Lh,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Vn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=ho(u,c),h=r[11],f=no(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,vo(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),Vn(Bh(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=qh(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Ki(this._lContainer,e);n&&(qn(Bh(this._lContainer),e),Gi(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Ki(this._lContainer,e);return n&&null!=qn(Bh(this._lContainer),e)?new Ch(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(Uh);function qh(t){return t[8]}function Bh(t){return t[8]||(t[8]=[])}function Hh(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Ht(r);else{var o=e[11];i=o.createComment("");var a=Yt(t,e);$i(o,no(o,a),i,function(t,e){return qt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=pa(r,e,i,t),ma(e,n)}return new Vh(n,t,e)}var zh={},Yh=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=wt(t);return new Kh(e,this.ngModule)}}]),n}(Jl);function Xh(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Wh=new Pn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ai}}),Kh=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(xo).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return Xh(this.componentDef.inputs)}},{key:"outputs",get:function(){return Xh(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,zh,i);return o!==zh||r===zh?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(rh,Bt),u=a.get(ah,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(qt(t))return t.selectRootElement(e,n===K.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Xi(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Ai,clean:Oa,playerHandler:null,flags:0},p=Zo(0,null,null,1,0,null,null,null,null,null),v=Vo(null,p,d,f,null,null,s,c,u,a);Ie(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=qo(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Aa(s,u,!0),null!==t&&(We(i,t,u),null!==s.classes&&mo(i,t,s.classes),null!==s.styles&&go(i,t,s.styles)));var c=r.createRenderer(t,e),l=Vo(n,Jo(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(cn(on(s,n),a,e.type),oa(a,s),sa(s,n.length,1)),ma(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)We(c,h,["ng-version",uh.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Co(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&We(c,h,m),b&&b.length>0&&mo(c,h,b.join(" "))}if(o=Xt(p,20),void 0!==e)for(var _=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=e[w];_.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ua(t,r,e,Ho(t,e,1,null),n));var i=gn(e,t,r.directiveStart,r);xi(i,e);var o=Yt(r,e);return o&&xi(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=ue();e.contentQueries(1,a,s.directiveStart)}var u=ue();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(De(u.index),ra(n[1],u,0,u.directiveStart,u.directiveEnd,e),ia(e,a)),a}(y,this.componentDef,v,d,[Ka]),zo(p,v,null)}finally{Re()}return new Gh(this.componentType,i,$l(o,v),v,o)}}]),n}(Gl),Gh=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Sh(o),s.componentType=t,s}return p(n,[{key:"injector",get:function(){return new _n(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){f(this,t)}}());function Qh(t,e,n,r){return X(function(){var i,a=t;null!==e&&(a.hasOwnProperty("decorators")&&void 0!==a.decorators?(i=a.decorators).push.apply(i,o(e)):a.decorators=e),null!==n&&(a.ctorParameters=n),null!==r&&(a.propDecorators=a.hasOwnProperty("propDecorators")&&void 0!==a.propDecorators?Object.assign(Object.assign({},a.propDecorators),r):r)})}var Jh=new Map,Zh=function(t){v(n,t);var e=g(n);function n(t,r){var i;f(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new Yh(b(i));var o=Ct(t),a=t[st]||null;return a&&Hc(a),i._bootstrapComponents=Ni(o.bootstrap),i._r3Injector=Ua(t,r,[{provide:Lh,useValue:b(i)},{provide:Jl,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wa.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;return t===Wa||t===Lh||t===Pa?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Lh),$h=function(t){v(n,t);var e=g(n);function n(t){var r,o,a;return f(this,n),(r=e.call(this)).moduleType=t,null!==Ct(t)&&(o=t,a=new Set,function t(e){var n=Ct(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,Jh.get(r),e),Jh.set(r,e));var o,s=i(Ni(n.imports));try{for(s.s();!(o=s.n()).done;){var u=o.value;a.has(u)||(a.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(o)),r}return p(n,[{key:"create",value:function(t){return new Zh(this.moduleType,t)}}]),n}(Fh);function tf(t,e,n){var r=ye()+t,i=oe();return i[r]===Ao?cs(i,r,n?e.call(n):e()):ls(i,r)}function ef(t,e,n,r){return ff(oe(),ye(),t,e,n,r)}function nf(t,e,n,r,i){return df(oe(),ye(),t,e,n,r,i)}function rf(t,e,n,r,i,o){return pf(oe(),ye(),t,e,n,r,i,o)}function of(t,e,n,r,i,o,a){return vf(oe(),ye(),t,e,n,r,i,o,a)}function af(t,e,n,r,i,o,a,s){var u=ye()+t,c=oe(),l=ps(c,u,n,r,i,o);return hs(c,u+4,a)||l?cs(c,u+5,s?e.call(s,n,r,i,o,a):e(n,r,i,o,a)):ls(c,u+5)}function sf(t,e,n,r,i,o,a,s,u){var c=ye()+t,l=oe(),h=ps(l,c,n,r,i,o);return fs(l,c+4,a,s)||h?cs(l,c+6,u?e.call(u,n,r,i,o,a,s):e(n,r,i,o,a,s)):ls(l,c+6)}function uf(t,e,n,r,i,o,a,s,u,c){var l=ye()+t,h=oe(),f=ps(h,l,n,r,i,o);return ds(h,l+4,a,s,u)||f?cs(h,l+7,c?e.call(c,n,r,i,o,a,s,u):e(n,r,i,o,a,s,u)):ls(h,l+7)}function cf(t,e,n,r,i,o,a,s,u,c,l){var h=ye()+t,f=oe(),d=ps(f,h,n,r,i,o);return ps(f,h+4,a,s,u,c)||d?cs(f,h+8,l?e.call(l,n,r,i,o,a,s,u,c):e(n,r,i,o,a,s,u,c)):ls(f,h+8)}function lf(t,e,n,r){return yf(oe(),ye(),t,e,n,r)}function hf(t,e){var n=t[e];return n===Ao?void 0:n}function ff(t,e,n,r,i,o){var a=e+n;return hs(t,a,i)?cs(t,a+1,o?r.call(o,i):r(i)):hf(t,a+1)}function df(t,e,n,r,i,o,a){var s=e+n;return fs(t,s,i,o)?cs(t,s+2,a?r.call(a,i,o):r(i,o)):hf(t,s+2)}function pf(t,e,n,r,i,o,a,s){var u=e+n;return ds(t,u,i,o,a)?cs(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):hf(t,u+3)}function vf(t,e,n,r,i,o,a,s,u){var c=e+n;return ps(t,c,i,o,a,s)?cs(t,c+4,u?r.call(u,i,o,a,s):r(i,o,a,s)):hf(t,c+4)}function yf(t,e,n,r,i,o){for(var a=e+n,s=!1,u=0;u<i.length;u++)hs(t,a++,i[u])&&(s=!0);return s?cs(t,a,r.apply(o,i)):hf(t,a)}function gf(t,e){var n,r=ae(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new I("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=jt(n.type)),a=z(Ls);try{var s=nn(!1),u=o();return nn(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,oe(),i,u),u}finally{z(a)}}function mf(t,e,n){var r=t+20,i=oe(),o=Wt(i,r);return Cf(i,Of(i,r)?ff(i,ye(),e,o.transform,n,o):o.transform(n))}function bf(t,e,n,r){var i=t+20,o=oe(),a=Wt(o,i);return Cf(o,Of(o,i)?df(o,ye(),e,a.transform,n,r,a):a.transform(n,r))}function _f(t,e,n,r,i){var o=t+20,a=oe(),s=Wt(a,o);return Cf(a,Of(a,o)?pf(a,ye(),e,s.transform,n,r,i,s):s.transform(n,r,i))}function wf(t,e,n,r,i,o){var a=t+20,s=oe(),u=Wt(s,a);return Cf(s,Of(s,a)?vf(s,ye(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o))}function kf(t,e,n){var r=t+20,i=oe(),o=Wt(i,r);return Cf(i,Of(i,r)?yf(i,ye(),e,o.transform,n,o):o.transform.apply(o,n))}function Of(t,e){return t[1].data[e].pure}function Cf(t,e){return as.isWrapped(e)&&(e=as.unwrap(e),t[ge()]=Ao),e}function Sf(t){return function(e){setTimeout(t,void 0,e)}}var Ef=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){h(w(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o,a,u=t,c=e||function(){return null},l=r;if(t&&"object"==typeof t){var f=t;u=null===(i=f.next)||void 0===i?void 0:i.bind(f),c=null===(o=f.error)||void 0===o?void 0:o.bind(f),l=null===(a=f.complete)||void 0===a?void 0:a.bind(f)}this.__isAsync&&(c=Sf(c),u&&(u=Sf(u)),l&&(l=Sf(l)));var d=h(w(n.prototype),"subscribe",this).call(this,{next:u,error:c,complete:l});return t instanceof s.a&&t.add(d),d}}]),n}(a.a);function Tf(){return this._results[os()]()}var If=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=os(),r=t.prototype;r[n]||(r[n]=Tf)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Ef)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=Mn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),xf=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Af=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==zf(t,e).matches&&this.queries[e].setDirty()}}]),t}(),jf=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,t),this.predicate=e,this.flags=n,this.read=r},Pf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Rf=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Nf(e,i)),this.matchTNodeWithReadOption(t,e,yn(e,t,i,!1,!1))}else n===Rh?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,yn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===eh||r===Uh||r===Rh&&4&e.type)this.addMatch(e.index,-2);else{var i=yn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Nf(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Df(t,e,n,r){return-1===n?function(t,e){return 11&t.type?$l(t,e):4&t.type?Dh(t,e):null}(e,t):-2===n?function(t,e,n){return n===eh?$l(e,t):n===Rh?Dh(e,t):n===Uh?Hh(e,t):void 0}(t,e,r):gn(t,t[1],n,e)}function Lf(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Df(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ff(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Lf(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Ff(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Ff(v[1],v,c,r)}}}return r}function Mf(t){var e=oe(),n=ae(),r=Ce();Se(r+1);var i=zf(n,r);if(t.dirty&&Qt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Ff(n,e,r,[]):Lf(n,e,i,r);t.reset(o,nh),t.notifyOnChanges()}return!0}return!1}function Uf(t,e,n){var r=ae();r.firstCreatePass&&(Hf(r,new jf(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bf(r,oe(),e)}function Vf(t,e,n,r){var i=ae();if(i.firstCreatePass){var o=ue();Hf(i,new jf(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Bf(i,oe(),n)}function qf(){return t=oe(),e=Ce(),t[19].queries[e].queryList;var t,e}function Bf(t,e,n){var r=new If(4==(4&n));$o(t,e,r,r.destroy),null===e[19]&&(e[19]=new Af),e[19].queries.push(new xf(r))}function Hf(t,e,n){null===t.queries&&(t.queries=new Pf),t.queries.track(new Rf(e,n))}function zf(t,e){return t.queries.getByIndex(e)}function Yf(t,e){return Dh(t,e)}function Xf(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.Default,e=Ih(!0);if(null!=e||t&H.Optional)return e;j("ChangeDetectorRef")}var Wf={"\u0275\u0275attribute":vs,"\u0275\u0275attributeInterpolate1":Ss,"\u0275\u0275attributeInterpolate2":Es,"\u0275\u0275attributeInterpolate3":Ts,"\u0275\u0275attributeInterpolate4":Is,"\u0275\u0275attributeInterpolate5":xs,"\u0275\u0275attributeInterpolate6":As,"\u0275\u0275attributeInterpolate7":js,"\u0275\u0275attributeInterpolate8":Ps,"\u0275\u0275attributeInterpolateV":Rs,"\u0275\u0275defineComponent":ht,"\u0275\u0275defineDirective":bt,"\u0275\u0275defineInjectable":R,"\u0275\u0275defineInjector":N,"\u0275\u0275defineNgModule":yt,"\u0275\u0275definePipe":_t,"\u0275\u0275directiveInject":Ls,"\u0275\u0275getInheritedFactory":wn,"\u0275\u0275inject":or,"\u0275\u0275injectAttribute":On,"\u0275\u0275invalidFactory":Fs,"\u0275\u0275invalidFactoryDep":ar,"\u0275\u0275injectPipeChangeDetectorRef":Xf,"\u0275\u0275templateRefExtractor":Yf,"\u0275\u0275NgOnChangesFeature":Nt,"\u0275\u0275ProvidersFeature":Kl,"\u0275\u0275CopyDefinitionFeature":rs,"\u0275\u0275InheritDefinitionFeature":Qa,"\u0275\u0275nextContext":eu,"\u0275\u0275namespaceHTML":Ue,"\u0275\u0275namespaceMathML":Me,"\u0275\u0275namespaceSVG":Fe,"\u0275\u0275enableBindings":re,"\u0275\u0275disableBindings":ie,"\u0275\u0275elementStart":Vs,"\u0275\u0275elementEnd":qs,"\u0275\u0275element":Bs,"\u0275\u0275elementContainerStart":Hs,"\u0275\u0275elementContainerEnd":zs,"\u0275\u0275elementContainer":Ys,"\u0275\u0275pureFunction0":tf,"\u0275\u0275pureFunction1":ef,"\u0275\u0275pureFunction2":nf,"\u0275\u0275pureFunction3":rf,"\u0275\u0275pureFunction4":of,"\u0275\u0275pureFunction5":af,"\u0275\u0275pureFunction6":sf,"\u0275\u0275pureFunction7":uf,"\u0275\u0275pureFunction8":cf,"\u0275\u0275pureFunctionV":lf,"\u0275\u0275getCurrentView":Xs,"\u0275\u0275restoreView":se,"\u0275\u0275listener":Qs,"\u0275\u0275projection":iu,"\u0275\u0275syntheticHostProperty":Ic,"\u0275\u0275syntheticHostListener":Js,"\u0275\u0275pipeBind1":mf,"\u0275\u0275pipeBind2":bf,"\u0275\u0275pipeBind3":_f,"\u0275\u0275pipeBind4":wf,"\u0275\u0275pipeBindV":kf,"\u0275\u0275projectionDef":ru,"\u0275\u0275hostProperty":Tc,"\u0275\u0275property":Ms,"\u0275\u0275propertyInterpolate":ou,"\u0275\u0275propertyInterpolate1":au,"\u0275\u0275propertyInterpolate2":su,"\u0275\u0275propertyInterpolate3":uu,"\u0275\u0275propertyInterpolate4":cu,"\u0275\u0275propertyInterpolate5":lu,"\u0275\u0275propertyInterpolate6":hu,"\u0275\u0275propertyInterpolate7":fu,"\u0275\u0275propertyInterpolate8":du,"\u0275\u0275propertyInterpolateV":pu,"\u0275\u0275pipe":gf,"\u0275\u0275queryRefresh":Mf,"\u0275\u0275viewQuery":Uf,"\u0275\u0275loadQuery":qf,"\u0275\u0275contentQuery":Vf,"\u0275\u0275reference":Ds,"\u0275\u0275classMap":Au,"\u0275\u0275classMapInterpolate1":tc,"\u0275\u0275classMapInterpolate2":ec,"\u0275\u0275classMapInterpolate3":nc,"\u0275\u0275classMapInterpolate4":rc,"\u0275\u0275classMapInterpolate5":ic,"\u0275\u0275classMapInterpolate6":oc,"\u0275\u0275classMapInterpolate7":ac,"\u0275\u0275classMapInterpolate8":sc,"\u0275\u0275classMapInterpolateV":uc,"\u0275\u0275styleMap":Iu,"\u0275\u0275styleMapInterpolate1":cc,"\u0275\u0275styleMapInterpolate2":lc,"\u0275\u0275styleMapInterpolate3":hc,"\u0275\u0275styleMapInterpolate4":fc,"\u0275\u0275styleMapInterpolate5":dc,"\u0275\u0275styleMapInterpolate6":pc,"\u0275\u0275styleMapInterpolate7":vc,"\u0275\u0275styleMapInterpolate8":yc,"\u0275\u0275styleMapInterpolateV":gc,"\u0275\u0275styleProp":Eu,"\u0275\u0275stylePropInterpolate1":mc,"\u0275\u0275stylePropInterpolate2":bc,"\u0275\u0275stylePropInterpolate3":_c,"\u0275\u0275stylePropInterpolate4":wc,"\u0275\u0275stylePropInterpolate5":kc,"\u0275\u0275stylePropInterpolate6":Oc,"\u0275\u0275stylePropInterpolate7":Cc,"\u0275\u0275stylePropInterpolate8":Sc,"\u0275\u0275stylePropInterpolateV":Ec,"\u0275\u0275classProp":Tu,"\u0275\u0275advance":jo,"\u0275\u0275template":Ns,"\u0275\u0275text":Hu,"\u0275\u0275textInterpolate":zu,"\u0275\u0275textInterpolate1":Yu,"\u0275\u0275textInterpolate2":Xu,"\u0275\u0275textInterpolate3":Wu,"\u0275\u0275textInterpolate4":Ku,"\u0275\u0275textInterpolate5":Gu,"\u0275\u0275textInterpolate6":Qu,"\u0275\u0275textInterpolate7":Ju,"\u0275\u0275textInterpolate8":Zu,"\u0275\u0275textInterpolateV":$u,"\u0275\u0275i18n":Ll,"\u0275\u0275i18nAttributes":Fl,"\u0275\u0275i18nExp":Ml,"\u0275\u0275i18nStart":Nl,"\u0275\u0275i18nEnd":Dl,"\u0275\u0275i18nApply":Ul,"\u0275\u0275i18nPostprocess":Vl,"\u0275\u0275resolveWindow":ji,"\u0275\u0275resolveDocument":Pi,"\u0275\u0275resolveBody":Ri,"\u0275\u0275setComponentScope":ft,"\u0275\u0275setNgModuleScope":gt,"\u0275\u0275sanitizeHtml":pi,"\u0275\u0275sanitizeStyle":vi,"\u0275\u0275sanitizeResourceUrl":gi,"\u0275\u0275sanitizeScript":mi,"\u0275\u0275sanitizeUrl":yi,"\u0275\u0275sanitizeUrlOrResourceUrl":wi,"\u0275\u0275trustConstantHtml":bi,"\u0275\u0275trustConstantResourceUrl":_i,forwardRef:S,resolveForwardRef:E},Kf=[],Gf=[],Qf=!1;function Jf(t){return Array.isArray(t)?t.every(Jf):!!E(t)}function Zf(t,e){var n=Mn(e.declarations||Kf),r=td(t);n.forEach(function(e){e.hasOwnProperty(rt)?$f(wt(e),r):e.hasOwnProperty(it)||e.hasOwnProperty(ot)||(e.ngSelectorScope=t)})}function $f(t,e){t.directiveDefs=function(){return Array.from(e.compilation.directives).map(function(t){return t.hasOwnProperty(rt)?wt(t):kt(t)}).filter(function(t){return!!t})},t.pipeDefs=function(){return Array.from(e.compilation.pipes).map(function(t){return Ot(t)})},t.schemas=e.schemas,t.tView=null}function td(t){if(!nd(t))throw new Error("".concat(t.name," does not have a module def (\u0275mod property)"));var e=Ct(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;var n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Ni(e.imports).forEach(function(t){var e=t;if(!nd(e))throw new Error("Importing ".concat(e.name," which does not have a \u0275mod property"));var r=td(e);r.exported.directives.forEach(function(t){return n.compilation.directives.add(t)}),r.exported.pipes.forEach(function(t){return n.compilation.pipes.add(t)})}),Ni(e.declarations).forEach(function(t){Ot(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),Ni(e.exports).forEach(function(t){var e=t;if(nd(e)){var r=td(e);r.exported.directives.forEach(function(t){n.compilation.directives.add(t),n.exported.directives.add(t)}),r.exported.pipes.forEach(function(t){n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else Ot(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function ed(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function nd(t){return!!Ct(t)}var rd=0;function id(t,e){var n=null;ad(t,e||{}),Object.defineProperty(t,it,{get:function(){if(null===n){var r=od(t,e||{});n=Dn().compileDirective(Wf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function od(t,e){var n=t&&t.name,r="ng:///".concat(n,"/\u0275dir.js"),i=Dn(),o=ud(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&cd(t),{metadata:o,sourceMapUrl:r}}function ad(t,e){var n=null;Object.defineProperty(t,ut,{get:function(){if(null===n){var r=od(t,e),i=Dn();n=i.compileFactory(Wf,"ng:///".concat(t.name,"/\u0275fac.js"),Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function sd(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function ud(t,e){var n,r=vr(),i=r.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:yr(t),host:e.host||tt,propMetadata:i,inputs:e.inputs||nt,outputs:e.outputs||nt,queries:ld(t,i,hd),lifecycle:{usesOnChanges:r.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!sd(t),exportAs:(n=e.exportAs,void 0===n?null:pd(n)),providers:e.providers||null,viewQueries:ld(t,i,fd)}}function cd(t){for(var e=Object.prototype,n=Object.getPrototypeOf(t.prototype).constructor;n&&n!==e;)kt(n)||wt(n)||!yd(n)||id(n,null),n=Object.getPrototypeOf(n)}function ld(t,e,n){var r=[],i=function(i){if(e.hasOwnProperty(i)){var o=e[i];o.forEach(function(e){if(n(e)){if(!e.selector)throw new Error("Can't construct a query for the property \"".concat(i,'" of "').concat(A(t),"\" since the query selector wasn't defined."));if(o.some(dd))throw new Error("Cannot combine @Input decorators with query decorators");r.push(function(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?pd(n):E(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}(i,e))}})}};for(var o in e)i(o);return r}function hd(t){var e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function fd(t){var e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function dd(t){return"Input"===t.ngMetadataName}function pd(t){return t.split(",").map(function(t){return t.trim()})}var vd=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function yd(t){var e=vr();if(vd.some(function(n){return e.hasLifecycleHook(t,n)}))return!0;var n=e.propMetadata(t);for(var r in n)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=a.ngMetadataName;if(dd(a)||hd(a)||fd(a)||"Output"===s||"HostBinding"===s||"HostListener"===s)return!0}return!1}function gd(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:yr(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}var md=Tn("Directive",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t},void 0,void 0,function(t,e){return Cd(t,e)}),bd=Tn("Component",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:W.Default},t)},md,void 0,function(t,e){return Od(t,e)}),_d=Tn("Pipe",function(t){return Object.assign({pure:!0},t)},void 0,void 0,function(t,e){return Sd(t,e)}),wd=An("Input",function(t){return{bindingPropertyName:t}}),kd=An("Output",function(t){return{bindingPropertyName:t}}),Od=function(t,e){var n=null;!function(t,e){wr(e)&&(br.set(t,e),_r.add(t))}(t,e),ad(t,e),Object.defineProperty(t,rt,{get:function(){if(null===n){var r=Dn();if(wr(e)){var i=["Component '".concat(t.name,"' is not resolved:")];throw e.templateUrl&&i.push(" - templateUrl: ".concat(e.templateUrl)),e.styleUrls&&e.styleUrls.length&&i.push(" - styleUrls: ".concat(JSON.stringify(e.styleUrls))),i.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(i.join("\n"))}var o=e.preserveWhitespaces;void 0===o&&(o=!1);var a=e.encapsulation;void 0===a&&(a=K.Emulated);var s=e.templateUrl||"ng:///".concat(t.name,"/template.html"),u=Object.assign(Object.assign({},ud(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,s),template:e.template||"",preserveWhitespaces:o,styles:e.styles||nt,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:a,interpolation:e.interpolation,viewProviders:e.viewProviders||null});rd++;try{u.usesInheritance&&cd(t),n=r.compileComponent(Wf,s,u)}finally{rd--}if(0===rd&&function(){if(!Qf){Qf=!0;try{for(var t=Gf.length-1;t>=0;t--){var e=Gf[t],n=e.moduleType,r=e.ngModule;r.declarations&&r.declarations.every(Jf)&&(Gf.splice(t,1),Zf(n,r))}}finally{Qf=!1}}}(),void 0!==t.ngSelectorScope){var c=td(t.ngSelectorScope);$f(n,c)}}return n},configurable:!1})},Cd=id,Sd=function(t,e){var n=null,r=null;Object.defineProperty(t,ut,{get:function(){if(null===r){var n=gd(t,e),i=Dn();r=i.compileFactory(Wf,"ng:///".concat(n.name,"/\u0275fac.js"),Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,ot,{get:function(){if(null===n){var r=gd(t,e);n=Dn().compilePipe(Wf,"ng:///".concat(r.name,"/\u0275pipe.js"),r)}return n},configurable:!1})},Ed=Tn("NgModule",function(t){return t},void 0,void 0,function(t,e){return Td(t,e)}),Td=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){var n=Mn(e.declarations||Kf),r=null;Object.defineProperty(t,at,{configurable:!0,get:function(){return null===r&&((r=Dn().compileNgModule(Wf,"ng:///".concat(t.name,"/\u0275mod.js"),{type:t,bootstrap:Mn(e.bootstrap||Kf).map(E),declarations:n.map(E),imports:Mn(e.imports||Kf).map(E).map(ed),exports:Mn(e.exports||Kf).map(E).map(ed),schemas:e.schemas?Mn(e.schemas):null,id:e.id||null})).schemas||(r.schemas=[])),r}});var i=null;Object.defineProperty(t,ut,{get:function(){if(null===i){var e=Dn();i=e.compileFactory(Wf,"ng:///".concat(t.name,"/\u0275fac.js"),{name:t.name,type:t,deps:yr(t),injectFn:"inject",target:e.R3FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!1});var o=null;Object.defineProperty(t,V,{get:function(){if(null===o){var n={name:t.name,type:t,providers:e.providers||Kf,imports:[(e.imports||Kf).map(E),(e.exports||Kf).map(E)]};o=Dn().compileInjector(Wf,"ng:///".concat(t.name,"/\u0275inj.js"),n)}return o},configurable:!1})}(t,e),function(t,e){Gf.push({moduleType:t,ngModule:e})}(t,e)},Id=new Pn("Application Initializer"),xd=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.resolve=Zl,this.reject=Zl,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ws(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(or(Id,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Ad=new Pn("AppId"),jd={provide:Ad,useFactory:function(){return"".concat(Pd()).concat(Pd()).concat(Pd())},deps:[]};function Pd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Rd=new Pn("Platform Initializer"),Nd=new Pn("Platform ID"),Dd=new Pn("appBootstrapListener"),Ld=function(){var t=function(){function t(){f(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Fd=new Pn("LocaleId"),Md=new Pn("DefaultCurrencyCode"),Ud=function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n},Vd=function(t){return new $h(t)},qd=Vd,Bd=function(t){return Promise.resolve(Vd(t))},Hd=function(t){var e=Vd(t),n=Ni(Ct(t).declarations).reduce(function(t,e){var n=wt(e);return n&&t.push(new Kh(n)),t},[]);return new Ud(e,n)},zd=Hd,Yd=function(t){return Promise.resolve(Hd(t))},Xd=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=qd,this.compileModuleAsync=Bd,this.compileModuleAndAllComponentsSync=zd,this.compileModuleAndAllComponentsAsync=Yd}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Wd=Promise.resolve(0);function Kd(t){"undefined"==typeof Zone?Wd.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Gd=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ef(!1),this.onMicrotaskEmpty=new Ef(!1),this.onStable=new Ef(!1),this.onError=new Ef(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Zd(t),Jd(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Zd(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return $d(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),tp(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return $d(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),tp(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Zd(n),Jd(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Qd,Zl,Zl);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Qd={};function Jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Zd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $d(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tp(t){t._nesting--,Jd(t)}var ep=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ef,this.onMicrotaskEmpty=new Ef,this.onStable=new Ef,this.onError=new Ef}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),np=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Gd.assertNotInAngularZone(),Kd(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Kd(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(or(Gd))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),rp=function(){var t=function(){function t(){f(this,t),this._applications=new Map,ap.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ap.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function ip(t){ap=t}var op,ap=new(function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),sp=!0,up=!1;function cp(){return up=!0,sp}function lp(){if(up)throw new Error("Cannot enable prod mode after platform setup.");sp=!1}var hp=new Pn("AllowMultipleToken"),fp=function t(e,n){f(this,t),this.name=e,this.token=n};function dp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new Pn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=pp();if(!o||o.injector.get(hp,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Na,useValue:"platform"});!function(t){if(op&&!op.destroyed&&!op.injector.get(hp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");op=t.get(vp);var e=t.get(Rd,null);e&&e.forEach(function(t){return t()})}(Wa.create({providers:a,name:r}))}return function(t){var e=pp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function pp(){return op&&!op.destroyed?op:null}var vp=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new ep:("zone.js"===n?void 0:n)||new Gd({enableLongStackTrace:cp(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Gd,useValue:o}];return o.run(function(){var e=Wa.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Ei,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){mp(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(xd)).runInitializers(),a.donePromise.then(function(){return Hc(n.injector.get(Fd,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Ws(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=yp({},n);return function(t,e,n){var r=new $h(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(gp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(or(Wa))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function yp(t,e){return Array.isArray(e)?e.reduce(yp,t):Object.assign(Object.assign({},t),e)}var gp=function(){var t=function(){function t(e,n,r,i,o){var a=this;f(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),c=new u.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Gd.assertNotInAngularZone(),Kd(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Gd.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(s,c.pipe(Object(y.a)()))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Gl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Lh),o=n.create(Wa.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(np,null),u=s&&o.injector.get(rp);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),mp(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=i(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(o){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(o)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;mp(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Dd,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(or(Gd),or(Wa),or(Ei),or(Jl),or(xd))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function mp(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var bp=function t(){f(this,t)},_p=function t(){f(this,t)},wp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},kp=function(){var t=function(){function t(e,n){f(this,t),this._compiler=e,this._config=n||wp}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return Op(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Op(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(or(Xd),or(_p,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Op(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Cp=function(t){return null},Sp=dp(null,"core",[{provide:Nd,useValue:"unknown"},{provide:vp,deps:[Wa]},{provide:rp,deps:[]},{provide:Ld,deps:[]}]),Ep=[{provide:gp,useClass:gp,deps:[Gd,Wa,Ei,Jl,xd]},{provide:Wh,deps:[Gd],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:xd,useClass:xd,deps:[[new lr,Id]]},{provide:Xd,useClass:Xd,deps:[]},jd,{provide:_h,useFactory:function(){return Ah},deps:[]},{provide:kh,useFactory:function(){return jh},deps:[]},{provide:Fd,useFactory:function(t){return Hc(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new cr(Fd),new lr,new fr]]},{provide:Md,useValue:"USD"}],Tp=function(){var t=function t(e){f(this,t)};return t.\u0275fac=function(e){return new(e||t)(or(gp))},t.\u0275mod=yt({type:t}),t.\u0275inj=N({providers:Ep}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){f(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){f(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a(function(e){return e.error(t)});case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new d(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),d=function t(e,n){f(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return C}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return F}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return P}),n.d(e,"j",function(){return M}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return B}),n.d(e,"n",function(){return W}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return j}),n.d(e,"q",function(){return y}),n.d(e,"r",function(){return g}),n.d(e,"s",function(){return b}),n.d(e,"t",function(){return N}),n.d(e,"u",function(){return _}),n.d(e,"v",function(){return p}),n.d(e,"w",function(){return v}),n.d(e,"x",function(){return k}),n.d(e,"y",function(){return m}),n.d(e,"z",function(){return w}),n.d(e,"A",function(){return A}),n.d(e,"B",function(){return T}),n.d(e,"C",function(){return D}),n.d(e,"D",function(){return L}),n.d(e,"E",function(){return R}),n.d(e,"F",function(){return X}),n.d(e,"G",function(){return Y}),n.d(e,"H",function(){return I}),n.d(e,"I",function(){return q}),n.d(e,"J",function(){return H}),n.d(e,"K",function(){return z});var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},c=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return d().indexOf("Electron/")>=0}function _(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function k(){return!1}var O=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return Object(r.c)(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new O(i,s,r);return u},t}();function S(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}function I(t){return JSON.stringify(t)}var x=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=T(c(o[0])||""),n=T(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},A=function(t){var e=x(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},j=function(t){var e=x(t).claims;return"object"==typeof e&&!0===e.admin};function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function N(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function L(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var F=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function M(t,e){var n=new U(t,e);return n.subscribe.bind(n)}var U=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function V(){}var q=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function B(t,e){return t+" failed: "+e+" argument "}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(B(t,e)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(B(t,e)+"must be a valid context object.")}var Y=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},X=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function W(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?h(w(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?h(w(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?h(w(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){f(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if(Object(o.a)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},spgP:function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return R}),i.d(e,"b",function(){return E}),i.d(e,"c",function(){return S}),i.d(e,"d",function(){return _}),i.d(e,"e",function(){return C}),i.d(e,"f",function(){return j}),i.d(e,"g",function(){return I}),i.d(e,"h",function(){return w}),i.d(e,"i",function(){return O}),i.d(e,"j",function(){return x});var u=i("qgXg"),c=i("D0XW"),l=i("vkgz"),h=i("tf+s"),d=i("pxpQ"),v=i("fXoL"),y=i("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.b;f(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){f(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),_=function t(e){f(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function w(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(h.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],O=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,a){return n.runOutsideAngular(function(){var i;if(t[a])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,i=t&&t.apply(void 0,o(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,i),i})}})})}})},C=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},S=new v.u("angularfire2.app.options"),E=new v.u("angularfire2.app.nameOrConfig"),T=new v.W("6.1.4");function I(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&A("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){A("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},A=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.cb)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,i,u,c,l){var h,f=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(h=f)||s(h)||a(h)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&A("error","".concat(i," was already initialized on the ").concat(u.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(o(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var P={provide:function t(){f(this,t)},useFactory:I,deps:[S,v.F,[new v.G,E]]},R=function(){var t=function(){function t(e){f(this,t),y.a.registerVersion("angularfire",T.full,e.toString()),y.a.registerVersion("angular",v.V.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:S,useValue:e},{provide:E,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.cc(v.I))},t.\u0275mod=v.Rb({type:t}),t.\u0275inj=v.Qb({providers:[P]}),t}()}).call(this,i("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?h(w(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return h(w(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("DH7j"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return f(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,i=o,(Object(y.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new _(t,e))}}var _=function(){function t(e,n){f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){f(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,a,s){var u;return f(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=b(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){f(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.k)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.i)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.i)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.l)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.l)(e,t)},createSubscribe:a.j,ErrorFactory:a.b,deepExtend:a.l}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.q)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.w)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,a){"use strict";a.r(r);var s=a("fXoL"),u=null;function c(){return u}var l,d=new s.u("DocumentToken"),y=((l=function t(){f(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(s.Pb)({factory:_,token:l,providedIn:"platform"}),l);function _(){return Object(s.cc)(C)}var k,O=new s.u("Location Initialized"),C=((k=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){S()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){S()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(y)).\u0275fac=function(t){return new(t||k)(s.cc(d))},k.\u0275prov=Object(s.Pb)({factory:E,token:k,providedIn:"platform"}),k);function S(){return!!window.history.pushState}function E(){return new C(Object(s.cc)(d))}function T(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function I(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function x(t){return t&&"?"!==t[0]?"?"+t:t}var A,j=((A=function t(){f(this,t)}).\u0275fac=function(t){return new(t||A)},A.\u0275prov=Object(s.Pb)({factory:P,token:A,providedIn:"root"}),A);function P(t){var e=Object(s.cc)(d).location;return new F(Object(s.cc)(y),e&&e.origin||"")}var R,N,D,L=new s.u("appBaseHref"),F=((D=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(f(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return T(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||D)(s.cc(y),s.cc(L,8))},D.\u0275prov=s.Pb({token:D,factory:D.\u0275fac}),D),M=((N=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=T(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||N)(s.cc(y),s.cc(L,8))},N.\u0275prov=s.Pb({token:N,factory:N.\u0275fac}),N),U=((R=function(){function t(e,n){var r=this;f(this,t),this._subject=new s.q,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=I(q(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+x(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,q(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||R)(s.cc(j),s.cc(y))},R.normalizeQueryParams=x,R.joinWithSlash=T,R.stripTrailingSlash=I,R.\u0275prov=Object(s.Pb)({factory:V,token:R,providedIn:"root"}),R);function V(){return new U(Object(s.cc)(j),Object(s.cc)(y))}function q(t){return t.replace(/\/index.html$/,"")}var B=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),H=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),z=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Y(t,e){var n=Object(s.qb)(t),r=n[s.hb.NumberSymbols][e];if(void 0===r){if(e===z.CurrencyDecimal)return n[s.hb.NumberSymbols][z.Decimal];if(e===z.CurrencyGroup)return n[s.hb.NumberSymbols][z.Group]}return r}var X=s.tb,W=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function K(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var G,Q=function t(){f(this,t)},J=((G=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(X(e||this.locale)(t)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}]),n}(Q)).\u0275fac=function(t){return new(t||G)(s.cc(s.z))},G.\u0275prov=s.Pb({token:G,factory:G.\u0275fac}),G);function Z(t,n){n=encodeURIComponent(n);var r,o=i(t.split(";"));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.indexOf("="),u=e(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}var $,tt,et=function(){function t(e,n,r,i){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return p(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),nt=(($=function(){function t(e,n,r){f(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return p(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new et(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new rt(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new rt(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||$)(s.Tb(s.X),s.Tb(s.S),s.Tb(s.x))},$.\u0275dir=s.Ob({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),$),rt=function t(e,n){f(this,t),this.record=e,this.view=n},it=((tt=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new ot,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return p(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){at("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){at("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||tt)(s.Tb(s.X),s.Tb(s.S))},tt.\u0275dir=s.Ob({type:tt,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),tt),ot=function t(){f(this,t),this.$implicit=null,this.ngIf=null};function at(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(s.Db)(e),"'."))}var st,ut,ct,lt=((ct=function(){function t(e,n,r){f(this,t),this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return p(t,[{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,n){var r=e(t.split("."),2),i=r[0],o=r[1];null!=(n=null!=n&&o?"".concat(n).concat(o):n)?this._renderer.setStyle(this._ngEl.nativeElement,i,n):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})}}]),t}()).\u0275fac=function(t){return new(t||ct)(s.Tb(s.o),s.Tb(s.y),s.Tb(s.L))},ct.\u0275dir=s.Ob({type:ct,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),ct),ht=((ut=function(){function t(e){f(this,t),this._locale=e}return p(t,[{key:"transform",value:function(e,n,r){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(t)){var c=function(t){var e,n,r,i,o,a=Math.abs(t)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))e=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(a.charAt(r))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);a&&(c=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));var l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var d=o.match(W);if(null===d)throw new Error("".concat(o," is not a valid digit info"));var p=d[1],v=d[3],y=d[5];null!=p&&(l=K(p)),null!=v&&(h=K(v)),null!=y?f=K(y):null!=v&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,d=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}(c,h,f);var g=c.digits,m=c.integerLen,b=c.exponent,_=[];for(u=g.every(function(t){return!t});m<l;m++)g.unshift(0);for(;m<0;m++)g.unshift(0);m>0?_=g.splice(m,g.length):(_=g,g=[0]);var w=[];for(g.length>=e.lgSize&&w.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)w.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&w.unshift(g.join("")),s=w.join(Y(n,r)),_.length&&(s+=Y(n,i)+_.join("")),b&&(s+=Y(n,z.Exponential)+"+"+b)}else s=Y(n,z.Infinity);return s=t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(s.qb)(t)[s.hb.NumberFormats][e]}(e,B.Decimal),Y(e,z.MinusSign)),e,z.Group,z.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error("".concat(t," is not a number"));return t}(e),r,n)}catch(i){throw function(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(s.Db)(t),"'"))}(t,i.message)}}}]),t}()).\u0275fac=function(t){return new(t||ut)(s.Tb(s.z))},ut.\u0275pipe=s.Sb({name:"number",type:ut,pure:!0}),ut),ft=((st=function t(){f(this,t)}).\u0275fac=function(t){return new(t||st)},st.\u0275mod=s.Rb({type:st}),st.\u0275inj=s.Qb({providers:[{provide:Q,useClass:J}]}),st);function dt(t){return"server"===t}var pt,vt=((pt=function t(){f(this,t)}).\u0275prov=Object(s.Pb)({token:pt,providedIn:"root",factory:function(){return new yt(Object(s.cc)(d),window)}}),pt),yt=function(){function t(e,n){f(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=gt(this.window.history)||gt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function gt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var mt,bt,_t,wt,kt=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Ot||(Ot=document.querySelector("base"))?Ot.getAttribute("href"):null;return null==n?null:(e=n,mt||(mt=document.createElement("a")),mt.setAttribute("href",e),"/"===mt.pathname.charAt(0)?mt.pathname:"/"+mt.pathname)}},{key:"resetBaseElement",value:function(){Ot=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Z(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,u||(u=t)}}]),n}(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){f(this,t)}}())),Ot=null,Ct=new s.u("TRANSITION_ID"),St=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Ct,d,s.v],multi:!0}],Et=function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){s.vb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.vb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.vb.getAllAngularRootElements=function(){return t.getAllRootElements()},s.vb.frameworkStabilizers||(s.vb.frameworkStabilizers=[]),s.vb.frameworkStabilizers.push(function(t){var e=s.vb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.eb)(new t)}}]),t}(),Tt=new s.u("EventManagerPlugins"),It=((bt=function(){function t(e,n){var r=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||bt)(s.cc(Tt),s.cc(s.F))},bt.\u0275prov=s.Pb({token:bt,factory:bt.\u0275fac}),bt),xt=function(){function t(e){f(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),At=((wt=function(){function t(){f(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||wt)},wt.\u0275prov=s.Pb({token:wt,factory:wt.\u0275fac}),wt),jt=((_t=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(At)).\u0275fac=function(t){return new(t||_t)(s.cc(d))},_t.\u0275prov=s.Pb({token:_t,factory:_t.\u0275fac}),_t),Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rt=/%COMP%/g;function Nt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Nt(t,i,n):(i=i.replace(Rt,t),n.push(i))}return n}function Dt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Lt,Ft,Mt,Ut,Vt,qt,Bt=((Lt=function(){function t(e,n,r){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ht(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.Y.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new zt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case s.Y.ShadowDom:return new Yt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Nt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Lt)(s.cc(It),s.cc(jt),s.cc(s.c))},Lt.\u0275prov=s.Pb({token:Lt,factory:Lt.\u0275fac}),Lt),Ht=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Pt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Pt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Pt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(s.N.DashCase|s.N.Important)?t.style.setProperty(e,n,r&s.N.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.N.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dt(n)):this.eventManager.addEventListener(t,e,Dt(n))}}]),t}(),zt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).component=i;var s=Nt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(Rt,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(Rt,o+"-"+i.id),a}return p(n,[{key:"applyToHost",value:function(t){h(w(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=h(w(n.prototype),"createElement",this).call(this,t,e);return h(w(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ht),Yt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Nt(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return h(w(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return h(w(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return h(w(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(h(w(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Ht),Xt=((Ft=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(xt)).\u0275fac=function(t){return new(t||Ft)(s.cc(d))},Ft.\u0275prov=s.Pb({token:Ft,factory:Ft.\u0275fac}),Ft),Wt=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Jt=((Vt=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Wt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Gt.hasOwnProperty(e)&&(e=Gt[e]))}return Kt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Wt.forEach(function(r){r!=n&&(0,Qt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(xt)).\u0275fac=function(t){return new(t||Vt)(s.cc(d))},Vt.\u0275prov=s.Pb({token:Vt,factory:Vt.\u0275fac}),Vt),Zt=((Ut=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Ut)},Ut.\u0275prov=Object(s.Pb)({factory:function(){return Object(s.cc)($t)},token:Ut,providedIn:"root"}),Ut),$t=((Mt=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r}return p(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case s.P.NONE:return e;case s.P.HTML:return Object(s.kb)(e,"HTML")?Object(s.Eb)(e):Object(s.ib)(this._doc,String(e)).toString();case s.P.STYLE:return Object(s.kb)(e,"Style")?Object(s.Eb)(e):e;case s.P.SCRIPT:if(Object(s.kb)(e,"Script"))return Object(s.Eb)(e);throw new Error("unsafe value used in a script context");case s.P.URL:return Object(s.ub)(e),Object(s.kb)(e,"URL")?Object(s.Eb)(e):Object(s.jb)(String(e));case s.P.RESOURCE_URL:if(Object(s.kb)(e,"ResourceURL"))return Object(s.Eb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return Object(s.lb)(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return Object(s.ob)(t)}},{key:"bypassSecurityTrustScript",value:function(t){return Object(s.nb)(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return Object(s.pb)(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return Object(s.mb)(t)}}]),n}(Zt)).\u0275fac=function(t){return new(t||Mt)(s.cc(d))},Mt.\u0275prov=Object(s.Pb)({factory:function(){return t=Object(s.cc)(s.r),new $t(t.get(d));var t},token:Mt,providedIn:"root"}),Mt),te=[{provide:s.I,useValue:"browser"},{provide:s.J,useValue:function(){kt.makeCurrent(),Et.init()},multi:!0},{provide:d,useFactory:function(){return Object(s.Cb)(document),document},deps:[]}],ee=Object(s.Z)(s.db,"browser",te),ne=[[],{provide:s.gb,useValue:"root"},{provide:s.p,useFactory:function(){return new s.p},deps:[]},{provide:Tt,useClass:Xt,multi:!0,deps:[d,s.F,s.I]},{provide:Tt,useClass:Jt,multi:!0,deps:[d]},[],{provide:Bt,useClass:Bt,deps:[It,jt,s.c]},{provide:s.M,useExisting:Bt},{provide:At,useExisting:jt},{provide:jt,useClass:jt,deps:[d]},{provide:s.T,useClass:s.T,deps:[s.F]},{provide:It,useClass:It,deps:[Tt,s.F]},[]],re=((qt=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:Ct,useExisting:s.c},St]}}}]),t}()).\u0275fac=function(t){return new(t||qt)(s.cc(qt,12))},qt.\u0275mod=s.Rb({type:qt}),qt.\u0275inj=s.Qb({providers:ne,imports:[ft,s.f]}),qt);"undefined"!=typeof window&&window;var ie=a("Jgta"),oe=a("XNiG"),ae=a("LRne"),se=a("HDdC"),ue=a("Cfvw"),ce=a("VRyK"),le=a("pxpQ"),he=a("lJxs"),fe=a("zx2A");function de(t,e){return"function"==typeof e?function(n){return n.pipe(de(function(n,r){return Object(ue.a)(t(n,r)).pipe(Object(he.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new pe(t))}}var pe=function(){function t(e){f(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ve(t,this.project))}}]),t}(),ve=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new fe.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(fe.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||h(w(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&h(w(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(fe.b),ye=a("qgXg"),ge=a("quSY"),me=a("9ppp"),be=a("Ylt2"),_e=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}h(w(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new we(this._getNow(),t)),this._trimBufferThenGetEvents()),h(w(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new me.a;if(this.isStopped||this.hasError?e=ge.a.EMPTY:(this.observers.push(t),e=new be.a(this,t)),i&&t.add(t=new le.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||ye.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(oe.a),we=function t(e,n){f(this,t),this.time=e,this.value=n};function ke(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new _e(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}var Oe=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Ce=a("7o/Q");function Se(t,e){return function(n){return n.lift(new Ee(t,e))}}var Ee=function(){function t(e,n){f(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Te(t,this.predicate,this.thisArg))}}]),t}(),Te=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Ce.a),Ie=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),xe=a("EY2u");function Ae(t){return function(e){return 0===t?Object(xe.b)():e.lift(new je(t))}}var je=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new Ie}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Pe(t,this.total))}}]),t}(),Pe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Ce.a);function Re(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Ne(t))}}var Ne=function(){function t(e){f(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new De(t,this.defaultValue))}}]),t}(),De=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Ce.a);function Le(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;return function(e){return e.lift(new Fe(t))}}var Fe=function(){function t(e){f(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Me(t,this.errorFactory))}}]),t}(),Me=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(O_){t=O_}this.destination.error(t)}}]),n}(Ce.a);function Ue(){return new Oe}var Ve=a("SpAZ");function qe(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Se(function(e,n){return t(e,n,r)}):Ve.a,Ae(1),n?Re(e):Le(function(){return new Oe}))}}function Be(t,e){return e?de(function(){return t},e):de(function(){return t})}var He,ze=a("tf+s"),Ye=a("spgP"),Xe=new s.u("angularfire2.auth.use-emulator"),We=new s.u("angularfire2.auth.settings"),Ke=new s.u("angularfire2.auth.tenant-id"),Ge=new s.u("angularfire2.auth.langugage-code"),Qe=new s.u("angularfire2.auth.use-device-language"),Je=new s.u("angularfire.auth.persistence"),Ze=((He=function t(e,n,r,i,o,s,u,c,l,h){f(this,t);var d=new Ye.d(i),p=Object(Ye.h)(d),v=new oe.a,y=Object(ae.a)(void 0).pipe(Object(le.b)(d.outsideAngular),de(function(){return i.runOutsideAngular(function(){return a.e(5).then(a.bind(null,"6nsN"))})}),Object(he.a)(function(){return Object(Ye.g)(e,i,n)}),Object(he.a)(function(t){return i.runOutsideAngular(function(){var e=o,n=s;return Object(Ye.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r},[e,u,c,l,n,h])})}),ke({bufferSize:1,refCount:!1}));if(dt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ae.a)(null);else{y.pipe(qe()).subscribe();var g=y.pipe(de(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,ke({bufferSize:1,refCount:!1})),m=function(t){return new se.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe(de(function(t){return m(t.onAuthStateChanged.bind(t))})),_=y.pipe(de(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(Be(b),Object(ze.a)(d.outsideAngular),Object(le.b)(d.insideAngular)),this.user=g.pipe(Be(_),Object(ze.a)(d.outsideAngular),Object(le.b)(d.insideAngular)),this.idToken=this.user.pipe(de(function(t){return t?Object(ue.a)(t.getIdToken()):Object(ae.a)(null)})),this.idTokenResult=this.user.pipe(de(function(t){return t?Object(ue.a)(t.getIdTokenResult()):Object(ae.a)(null)})),this.credential=Object(ce.a)(g,v,this.authState.pipe(Se(function(t){return!t}))).pipe(Object(he.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(ze.a)(d.outsideAngular),Object(le.b)(d.insideAngular))}return Object(Ye.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||He)(s.cc(Ye.c),s.cc(Ye.b,8),s.cc(s.I),s.cc(s.F),s.cc(Xe,8),s.cc(We,8),s.cc(Ke,8),s.cc(Ge,8),s.cc(Qe,8),s.cc(Je,8))},He.\u0275prov=Object(s.Pb)({factory:function(){return new He(Object(s.cc)(Ye.c),Object(s.cc)(Ye.b,8),Object(s.cc)(s.I),Object(s.cc)(s.F),Object(s.cc)(Xe,8),Object(s.cc)(We,8),Object(s.cc)(Ke,8),Object(s.cc)(Ge,8),Object(s.cc)(Qe,8),Object(s.cc)(Je,8))},token:He,providedIn:"any"}),He);Object(Ye.e)(Ze,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var $e,tn=(($e=function t(){f(this,t)}).\u0275fac=function(t){return new(t||$e)},$e.\u0275mod=s.Rb({type:$e}),$e.\u0275inj=s.Qb({providers:[Ze]}),$e),en=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=h(w(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new me.a;return this._value}},{key:"next",value:function(t){h(w(n.prototype),"next",this).call(this,this._value=t)}}]),n}(oe.a),nn=a("z+Ro"),rn=a("DH7j"),on=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(Ce.a),an=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(Ce.a),sn=a("SeVD");function un(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new an(t,n,r);if(!i.closed)return e instanceof se.a?e.subscribe(i):Object(sn.a)(e)(i)}var cn=a("yCtX"),ln={},hn=function(){function t(e){f(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new fn(t,this.resultSelector))}}]),t}(),fn=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(ln),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(un(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===ln?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(on),dn=a("bHdf");function pn(){return Object(dn.a)(1)(Object(ae.a).apply(void 0,arguments))}function vn(t){return new se.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ue.a)(n):Object(xe.b)()).subscribe(e)})}var yn=a("EQ5u");function gn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(nn.a)(r)?(e.pop(),function(t){return pn(e,t,r)}):function(t){return pn(e,t)}}function mn(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new bn(t,e,n))}}var bn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new _n(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),_n=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(Ce.a);function wn(t){return function(e){var n=new kn(t),r=e.lift(n);return n.caught=r}}var kn=function(){function t(e){f(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new On(t,this.selector,this.caught))}}]),t}(),On=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void h(w(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new fe.a(this);this.add(r);var i=Object(fe.c)(e,r);i!==r&&this.add(i)}}}]),n}(fe.b),Cn=a("5+tZ");function Sn(t,e){return Object(Cn.a)(t,e,1)}function En(t){return function(e){return 0===t?Object(xe.b)():e.lift(new Tn(t))}}var Tn=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new Ie}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new In(t,this.total))}}]),t}(),In=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Ce.a),xn=a("vkgz"),An=a("x+ZX");function jn(t){return function(e){return e.lift(new Pn(t))}}var Pn=function(){function t(e){f(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Rn(t,this.callback))}}]),t}(),Rn=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).add(new ge.a(r)),i}return n}(Ce.a),Nn=function t(e,n){f(this,t),this.id=e,this.url=n},Dn=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Nn),Ln=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Nn),Fn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Nn),Mn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Nn),Un=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Nn),Vn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Nn),qn=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Nn),Bn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Nn),Hn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Nn),zn=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Yn=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Xn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Wn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Kn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Gn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Qn=function(){function t(e,n,r){f(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Jn=function(){function t(e){f(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Zn(t){return new Jn(t)}function $n(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function tr(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function er(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!nr(t[n=r[o]],e[n]))return!1;return!0}function nr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=o(t).sort(),r=o(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function rr(t){return Array.prototype.concat.apply([],t)}function ir(t){return t.length>0?t[t.length-1]:null}function or(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ar(t){return Object(s.xb)(t)?t:Object(s.yb)(t)?Object(ue.a)(Promise.resolve(t)):Object(ae.a)(t)}function sr(t,e,n){return n?function(t,e){return er(t,e)}(t.queryParams,e.queryParams)&&ur(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return nr(t[n],e[n])})}(t.queryParams,e.queryParams)&&cr(t.root,e.root)}function ur(t,e){if(!pr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!ur(t.children[n],e.children[n]))return!1}return!0}function cr(t,e){return lr(t,e,e.segments)}function lr(t,e,n){if(t.segments.length>n.length)return!!pr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!pr(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!cr(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!pr(t.segments,i)&&!!t.children.primary&&lr(t.children.primary,e,o)}var hr=function(){function t(e,n,r){f(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return gr.serialize(this)}}]),t}(),fr=function(){function t(e,n){var r=this;f(this,t),this.segments=e,this.children=n,this.parent=null,or(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return mr(this)}}]),t}(),dr=function(){function t(e,n){f(this,t),this.path=e,this.parameters=n}return p(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Zn(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Sr(this)}}]),t}();function pr(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var vr=function t(){f(this,t)},yr=function(){function t(){f(this,t)}return p(t,[{key:"parse",value:function(t){var e=new Ar(t);return new hr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(br(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(wr(t),"=").concat(wr(e))}).join("&"):"".concat(wr(t),"=").concat(wr(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),gr=new yr;function mr(t){return t.segments.map(function(t){return Sr(t)}).join("/")}function br(t,e){if(!t.hasChildren())return mr(t);if(e){var n=t.children.primary?br(t.children.primary,!1):"",r=[];return or(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(br(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return or(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),or(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[br(t.children.primary,!1)]:["".concat(n,":").concat(br(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(mr(t),"/").concat(i[0]):"".concat(mr(t),"/(").concat(i.join("//"),")")}function _r(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wr(t){return _r(t).replace(/%3B/gi,";")}function kr(t){return _r(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Or(t){return decodeURIComponent(t)}function Cr(t){return Or(t.replace(/\+/g,"%20"))}function Sr(t){return"".concat(kr(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(kr(t),"=").concat(kr(e[t]))}).join("")));var e}var Er=/^[^\/()?;=#]+/;function Tr(t){var e=t.match(Er);return e?e[0]:""}var Ir=/^[^=?&#]+/,xr=/^[^?&#]+/,Ar=function(){function t(e){f(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fr([],{}):new fr([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new fr(t,e)),n}},{key:"parseSegment",value:function(){var t=Tr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new dr(Or(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Tr(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Tr(this.remaining);r&&(n=r,this.capture(n))}t[Or(e)]=Or(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Ir);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(xr);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Cr(e),o=Cr(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Tr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new fr([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),jr=function(){function t(e){f(this,t),this._root=e}return p(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Pr(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Pr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Rr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Rr(t,this._root).map(function(t){return t.value})}}]),t}();function Pr(t,e){if(t===e.value)return e;var n,r=i(e.children);try{for(r.s();!(n=r.n()).done;){var o=Pr(t,n.value);if(o)return o}}catch(a){r.e(a)}finally{r.f()}return null}function Rr(t,e){if(t===e.value)return[e];var n,r=i(e.children);try{for(r.s();!(n=r.n()).done;){var o=Rr(t,n.value);if(o.length)return o.unshift(e),o}}catch(a){r.e(a)}finally{r.f()}return[]}var Nr=function(){function t(e,n){f(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Dr(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Lr=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).snapshot=r,Br(b(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(jr);function Fr(t,e){var n=function(t,e){var n=new Vr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new qr("",new Nr(n,[]))}(t,e),r=new en([new dr("",{})]),i=new en({}),o=new en({}),a=new en({}),s=new en(""),u=new Mr(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Lr(new Nr(u,[]),n)}var Mr=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return p(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(he.a)(function(t){return Zn(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(he.a)(function(t){return Zn(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Ur(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Vr=function(){function t(e,n,r,i,o,a,s,u,c,l,h){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return p(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Zn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),qr=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,r)).url=t,Br(b(i),r),i}return p(n,[{key:"toString",value:function(){return Hr(this._root)}}]),n}(jr);function Br(t,e){e.value._routerState=t,e.children.forEach(function(e){return Br(t,e)})}function Hr(t){var e=t.children.length>0?" { ".concat(t.children.map(Hr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function zr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,er(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),er(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!er(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),er(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Yr(t,e){return er(t.params,e.params)&&function(t,e){return pr(t,e)&&t.every(function(t,n){return er(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Yr(t.parent,e.parent))}function Xr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var o=function(t,e,n){return e.children.map(function(e){var r,o=i(n.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(t.shouldReuseRoute(e.value,a.value.snapshot))return Xr(t,e,a)}}catch(s){o.e(s)}finally{o.f()}return Xr(t,e)})}(t,e,n);return new Nr(r,o)}var a=t.retrieve(e.value);if(a){var s=a.route;return Wr(e,s),s}var u,c=new Mr(new en((u=e.value).url),new en(u.params),new en(u.queryParams),new en(u.fragment),new en(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return Xr(t,e)});return new Nr(c,l)}function Wr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Wr(t.children[n],e.children[n])}function Kr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gr(t){return"object"==typeof t&&null!=t&&t.outlets}function Qr(t,e,n,r,i){var o={};return r&&or(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new hr(n.root===t?e:Jr(n.root,t,e),o,i)}function Jr(t,e,n){var r={};return or(t.children,function(t,i){r[i]=t===e?n:Jr(t,e,n)}),new fr(t.segments,r)}var Zr=function(){function t(e,n,r){if(f(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Kr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Gr);if(i&&i!==ir(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),$r=function t(e,n,r){f(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function ti(t,e,n){if(t||(t=new fr([],{})),0===t.segments.length&&t.hasChildren())return ei(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(Gr(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!oi(u,c,a))return o;r+=2}else{if(!oi(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new fr(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new fr(t.segments.slice(r.pathIndex),t.children),ei(o,0,i)}return r.match&&0===i.length?new fr(t.segments,{}):r.match&&!t.hasChildren()?ni(t,e,n):r.match?ei(t,0,i):ni(t,e,n)}function ei(t,e,n){if(0===n.length)return new fr(t.segments,{});var r=function(t){return Gr(t[0])?t[0].outlets:{primary:t}}(n),i={};return or(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ti(t.children[r],e,n))}),or(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new fr(t.segments,i)}function ni(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(Gr(o)){var a=ri(o.outlets);return new fr(r,a)}if(0===i&&Kr(n[0]))r.push(new dr(t.segments[e].path,ii(n[0]))),i++;else{var s=Gr(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&Kr(u)?(r.push(new dr(s,ii(u))),i+=2):(r.push(new dr(s,{})),i++)}}return new fr(r,{})}function ri(t){var e={};return or(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ni(new fr([],{}),0,t))}),e}function ii(t){var e={};return or(t,function(t,n){return e[n]="".concat(t)}),e}function oi(t,e,n){return t==n.path&&er(e,n.parameters)}var ai=function(){function t(e,n,r,i){f(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),zr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Dr(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),or(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Dr(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Dr(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Gn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Wn(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(zr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),si(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function si(t){zr(t.value),t.children.forEach(si)}var ui=function t(e,n){f(this,t),this.routes=e,this.module=n};function ci(t){return"function"==typeof t}function li(t){return t instanceof hr}var hi=Symbol("INITIAL_VALUE");function fi(){return de(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(nn.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(rn.a)(e[0])&&(e=e[0]),Object(cn.a)(e,i).lift(new hn(r))}(t.map(function(t){return t.pipe(Ae(1),gn(hi))})).pipe(mn(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==hi)return t;if(r===hi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||li(r))return r}return t},t)},hi),Se(function(t){return t!==hi}),Object(he.a)(function(t){return li(t)?t:!0===t}),Ae(1))})}var di,pi=((di=function t(){f(this,t)}).\u0275fac=function(t){return new(t||di)},di.\u0275cmp=s.Nb({type:di,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ub(0,"router-outlet")},directives:function(){return[yo]},encapsulation:2}),di);function vi(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];yi(r,gi(e,r))}}function yi(t,e){t.children&&vi(t.children,e)}function gi(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function mi(t){var e=t.children&&t.children.map(mi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=pi),n}function bi(t){return t.outlet||"primary"}function _i(t,e){var n=t.filter(function(t){return bi(t)===e});return n.push.apply(n,o(t.filter(function(t){return bi(t)!==e}))),n}var wi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ki(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},wi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||tr)(n,t,e);if(!i)return Object.assign({},wi);var o={};or(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Oi(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Ci(t,e,n)&&"primary"!==bi(n)})}(t,n,r)){var a=new fr(e,function(t,e,n,r){var o={};o.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var a,s=i(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""===u.path&&"primary"!==bi(u)){var c=new fr([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,o[bi(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return o}(t,e,r,new fr(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Ci(t,e,n)})}(t,n,r)){var s=new fr(t.segments,function(t,e,n,r,o,a){var s,u={},c=i(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Ci(t,n,l)&&!o[bi(l)]){var h=new fr([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===a?t.segments.length:e.length,u[bi(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},o),u)}(t,e,n,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new fr(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Ci(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Si(t,e,n,r){return!!(bi(t)===r||"primary"!==r&&Ci(e,n,t))&&("**"===t.path||ki(e,t,n).matched)}function Ei(t,e,n){return 0===e.length&&!t.children[n]}var Ti=function t(e){f(this,t),this.segmentGroup=e||null},Ii=function t(e){f(this,t),this.urlTree=e};function xi(t){return new se.a(function(e){return e.error(new Ti(t))})}function Ai(t){return new se.a(function(e){return e.error(new Ii(t))})}function ji(t){return new se.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Pi=function(){function t(e,n,r,i,o){f(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.D)}return p(t,[{key:"apply",value:function(){var t=this,e=Oi(this.urlTree.root,[],[],this.config).segmentGroup,n=new fr(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(he.a)(function(e){return t.createUrlTree(Ri(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(wn(function(e){if(e instanceof Ii)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ti)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(he.a)(function(n){return e.createUrlTree(Ri(n),t.queryParams,t.fragment)})).pipe(wn(function(t){if(t instanceof Ti)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new fr([],{primary:t}):t;return new hr(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(he.a)(function(t){return new fr([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object(ue.a)(i).pipe(Sn(function(i){var o=n.children[i],a=_i(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(he.a)(function(t){return{segment:t,outlet:i}}))}),mn(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Se(function(e,n){return t(e,n,r)}):Ve.a,En(1),n?Re(e):Le(function(){return new Oe}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(ue.a)(n).pipe(Sn(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(wn(function(t){if(t instanceof Ti)return Object(ae.a)(null);throw t}))}),qe(function(t){return!!t}),wn(function(t,n){if(t instanceof Oe||"EmptyError"===t.name){if(Ei(e,r,i))return Object(ae.a)(new fr([],{}));throw new Ti(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Si(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xi(e):xi(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ai(o):this.lineralizeSegments(n,o).pipe(Object(Cn.a)(function(n){var o=new fr(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=ki(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return xi(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ai(f):this.lineralizeSegments(r,f).pipe(Object(Cn.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(ae.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(he.a)(function(t){return n._loadedConfig=t,new fr(r,{})})):Object(ae.a)(new fr(r,{}));var a=ki(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return xi(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(Cn.a)(function(t){var r=t.module,a=t.routes,s=Oi(e,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new fr(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(Object(he.a)(function(t){return new fr(u,t)}));if(0===a.length&&0===h.length)return Object(ae.a)(new fr(u,{}));var d=bi(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe(Object(he.a)(function(t){return new fr(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(ae.a)(new ui(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ae.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Cn.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(he.a)(function(t){return e._loadedConfig=t,t})):function(t){return new se.a(function(e){return e.error($n("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(ae.a)(new ui([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(ae.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&ci(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!ci(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return ar(i)});return Object(ae.a)(o).pipe(fi(),Object(xn.a)(function(t){if(li(t)){var e=$n('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(he.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ae.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ji(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new hr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return or(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return or(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new fr(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,o=i(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.path===t.path)return e.splice(r),a;r++}}catch(s){o.e(s)}finally{o.f()}return t}}]),t}();function Ri(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=Ri(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new fr(t.segments.concat(e.segments),e.children)}return t}(new fr(t.segments,e))}var Ni=function t(e){f(this,t),this.path=e,this.route=this.path[this.path.length-1]},Di=function t(e,n){f(this,t),this.component=e,this.route=n};function Li(t,e,n){var r=t._root;return Mi(r,e?e._root:null,n,[r.value])}function Fi(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Mi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Dr(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pr(t.url,e.url)||!er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yr(t,e)||!er(t.queryParams,e.queryParams);case"paramsChange":default:return!Yr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ni(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Mi(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Di(s.outlet.component,a))}else a&&Ui(e,s,i),i.canActivateChecks.push(new Ni(r)),Mi(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),or(o,function(t,e){return Ui(t,n.getContext(e),i)}),i}function Ui(t,e,n){var r=Dr(t),i=t.value;or(r,function(t,r){Ui(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Di(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Vi=function t(){f(this,t)};function qi(t){return new se.a(function(e){return e.error(t)})}var Bi=function(){function t(e,n,r,i,o,a){f(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return p(t,[{key:"recognize",value:function(){var t=Oi(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Vr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nr(n,e),i=new qr(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Ur(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,a=Object.keys(e.children);r<a.length;r++){var s=a[r],u=e.children[s],c=_i(t,s),l=this.processSegmentGroup(c,u,s);if(null===l)return null;n.push.apply(n,o(l))}var h=function(t){var e,n=[],r=i(t);try{var a=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var i=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==i?(t=i.children).push.apply(t,o(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)a()}catch(s){r.e(s)}finally{r.f()}return n}(n);return h.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),h}},{key:"processSegment",value:function(t,e,n,r){var o,a=i(t);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.processSegmentAgainstRoute(s,e,n,r);if(null!==u)return u}}catch(c){a.e(c)}finally{a.f()}return Ei(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Si(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?ir(n).parameters:{};i=new Vr(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yi(t),bi(t),t.component,t,Hi(e),zi(e)+n.length,Xi(t))}else{var u=ki(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Vr(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yi(t),bi(t),t.component,t,Hi(e),zi(e)+o.length,Xi(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Oi(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new Nr(i,d)]}if(0===c.length&&0===f.length)return[new Nr(i,[])];var p=bi(t)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new Nr(i,v)]}}]),t}();function Hi(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function zi(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Yi(t){return t.data||{}}function Xi(t){return t.resolve||{}}function Wi(t){return de(function(e){var n=t(e);return n?Object(ue.a)(n).pipe(Object(he.a)(function(){return e})):Object(ae.a)(e)})}var Ki=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(function(){function t(){f(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Gi=new s.u("ROUTES"),Qi=function(){function t(e,n,r,i){f(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(he.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new ui(rr(i.injector.get(Gi,void 0,s.t.Self|s.t.Optional)).map(mi),i)}),wn(function(t){throw e._loader$=void 0,t}));return e._loader$=new yn.a(r,function(){return new oe.a}).pipe(Object(An.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(ue.a)(this.loader.load(t)):ar(t()).pipe(Object(Cn.a)(function(t){return t instanceof s.B?Object(ae.a)(t):Object(ue.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),Ji=function t(){f(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Zi,this.attachRef=null},Zi=function(){function t(){f(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Ji,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),$i=function(){function t(){f(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function to(t){throw t}function eo(t,e,n){return e.parse("/")}function no(t,e){return Object(ae.a)(null)}var ro,io,oo,ao=((oo=function(){function t(e,n,r,i,o,a,u,c){var l=this;f(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new oe.a,this.errorHandler=to,this.malformedUriErrorHandler=eo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:no,afterPreactivation:no},this.urlHandlingStrategy=new $i,this.routeReuseStrategy=new Ki,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(s.D),this.console=o.get(s.fb);var h=o.get(s.F);this.isNgZoneEnabled=h instanceof s.F&&s.F.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new hr(new fr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qi(a,u,function(t){return l.triggerEvent(new zn(t))},function(t){return l.triggerEvent(new Yn(t))}),this.routerState=Fr(this.currentUrlTree,this.rootComponentType),this.transitions=new en({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Se(function(t){return 0!==t.id}),Object(he.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),de(function(t){var r,i,o,a=!1,s=!1;return Object(ae.a)(t).pipe(Object(xn.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),de(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ae.a)(t).pipe(de(function(t){var r=e.transitions.getValue();return n.next(new Dn(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?xe.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,de(function(t){return function(t,e,n,r,i){return new Pi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(he.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(xn.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(Cn.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Bi(t,e,n,r,i,o).recognize();return null===a?qi(new Vi):Object(ae.a)(a)}catch(O_){return qi(O_)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(he.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(xn.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new Un(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Dn(u,e.serializeUrl(c),l,h);n.next(d);var p=Fr(c,e.rootComponentType).snapshot;return Object(ae.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),xe.a}),Wi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(xn.a)(function(t){var n=new Vn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(he.a)(function(t){return Object.assign(Object.assign({},t),{guards:Li(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(Cn.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(ae.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ue.a)(t).pipe(Object(Cn.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ae.a)(!0);var a=o.map(function(o){var a,s=Fi(o,e,i);if(function(t){return t&&ci(t.canDeactivate)}(s))a=ar(s.canDeactivate(t,e,n,r));else{if(!ci(s))throw new Error("Invalid CanDeactivate guard");a=ar(s(t,e,n,r))}return a.pipe(qe())});return Object(ae.a)(a).pipe(fi())}(t.component,t.route,n,e,r)}),qe(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(Cn.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(ue.a)(e).pipe(Sn(function(e){return pn(function(t,e){return null!==t&&e&&e(new Xn(t)),Object(ae.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Kn(t)),Object(ae.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return vn(function(){var i=e.guards.map(function(i){var o,a=Fi(i,e.node,n);if(function(t){return t&&ci(t.canActivateChild)}(a))o=ar(a.canActivateChild(r,t));else{if(!ci(a))throw new Error("Invalid CanActivateChild guard");o=ar(a(r,t))}return o.pipe(qe())});return Object(ae.a)(i).pipe(fi())})});return Object(ae.a)(i).pipe(fi())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ae.a)(!0);var i=r.map(function(r){return vn(function(){var i,o=Fi(r,e,n);if(function(t){return t&&ci(t.canActivate)}(o))i=ar(o.canActivate(e,t));else{if(!ci(o))throw new Error("Invalid CanActivate guard");i=ar(o(e,t))}return i.pipe(qe())})});return Object(ae.a)(i).pipe(fi())}(t,e.route,n))}),qe(function(t){return!0!==t},!0))}(r,a,t,e):Object(ae.a)(n)}),Object(he.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(xn.a)(function(t){if(li(t.guardsResult)){var n=$n('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new qn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),Se(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Fn(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),Wi(function(t){if(t.guards.canActivateChecks.length)return Object(ae.a)(t).pipe(Object(xn.a)(function(t){var n=new Bn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),de(function(t){var r,i,o=!1;return Object(ae.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(Cn.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(ae.a)(t);var o=0;return Object(ue.a)(n).pipe(Sn(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(ae.a)({});var o={};return Object(ue.a)(i).pipe(Object(Cn.a)(function(i){return function(t,e,n,r){var i=Fi(t,e,r);return ar(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(xn.a)(function(t){o[i]=t}))}),En(1),Object(Cn.a)(function(){return Object.keys(o).length===i.length?Object(ae.a)(o):xe.a}))}(t._resolve,t,e,r).pipe(Object(he.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ur(t,n).resolve),null}))}(t.route,e,r,i)}),Object(xn.a)(function(){return o++}),En(1),Object(Cn.a)(function(e){return o===n.length?Object(ae.a)(t):xe.a}))})),Object(xn.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new Fn(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(xn.a)(function(t){var n=new Hn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),Wi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(he.a)(function(t){var n=function(t,e,n){var r=Xr(t,e._root,n?n._root:void 0);return new Lr(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(xn.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},Object(he.a)(function(t){return new ai(i,t.targetRouterState,t.currentRouterState,o).activate(r),t})),Object(xn.a)({next:function(){a=!0},complete:function(){a=!0}}),jn(function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new Fn(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null}),wn(function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=li(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Fn(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Mn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Jh){t.reject(Jh)}}var u;return xe.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){vi(t),this.config=t.map(mi),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Qr(e.root,e.root,e,r,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Zr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return or(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(o(t),[{outlets:a}])}if(r.segmentPath)return[].concat(o(t),[r.segmentPath])}return"string"!=typeof r?[].concat(o(t),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(o(t),[r])},[]);return new Zr(n,e,r)}(n);if(a.toRoot())return Qr(e.root,new fr([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new $r(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new $r(r,r===e.root,0)}var i=Kr(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new $r(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?ei(s.segmentGroup,s.index,a.commands):ti(s.segmentGroup,s.index,a.commands);return Qr(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=li(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(O_){e=this.malformedUriErrorHandler(O_,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(li(t))return sr(this.currentUrlTree,t,e);var n=this.parseUrl(t);return sr(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Ln(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||oo)(s.cc(s.U),s.cc(vr),s.cc(Zi),s.cc(U),s.cc(s.v),s.cc(s.C),s.cc(s.j),s.cc(void 0))},oo.\u0275prov=s.Pb({token:oo,factory:oo.\u0275fac}),oo),so=((io=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new oe.a,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return p(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:co(this.skipLocationChange),replaceUrl:co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:co(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||io)(s.Tb(ao),s.Tb(Mr),s.dc("tabindex"),s.Tb(s.L),s.Tb(s.o))},io.\u0275dir=s.Ob({type:io,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&s.fc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.Gb]}),io),uo=((ro=function(){function t(e,n,r){var i=this;f(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new oe.a,this.subscription=e.events.subscribe(function(t){t instanceof Ln&&i.updateTargetUrlAndHref()})}return p(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:co(this.skipLocationChange),replaceUrl:co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:co(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ro)(s.Tb(ao),s.Tb(Mr),s.Tb(j))},ro.\u0275dir=s.Ob({type:ro,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&s.fc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(s.bc("href",e.href,s.sc),s.Jb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.Gb]}),ro);function co(t){return""===t||!!t}var lo,ho,fo,po,vo=((ho=function(){function t(e,n,r,i,o,a){var s=this;f(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof Ln&&s.update()})}return p(t,[{key:"ngAfterContentInit",value:function(){var t=this;Object(ae.a)(this.links.changes,this.linksWithHrefs.changes,Object(ae.a)(null)).pipe(Object(dn.a)()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(o(this.links.toArray()),o(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=Object(ue.a)(n).pipe(Object(dn.a)()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}]),t}()).\u0275fac=function(t){return new(t||ho)(s.Tb(ao),s.Tb(s.o),s.Tb(s.L),s.Tb(s.i),s.Tb(so,8),s.Tb(uo,8))},ho.\u0275dir=s.Ob({type:ho,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(s.Mb(n,so,1),s.Mb(n,uo,1)),2&t&&(s.oc(r=s.gc())&&(e.links=r),s.oc(r=s.gc())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[s.Gb]}),ho),yo=((lo=function(){function t(e,n,r,i,o){f(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.q,this.deactivateEvents=new s.q,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new go(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||lo)(s.Tb(Zi),s.Tb(s.X),s.Tb(s.l),s.dc("name"),s.Tb(s.i))},lo.\u0275dir=s.Ob({type:lo,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),lo),go=function(){function t(e,n,r){f(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===Mr?this.route:t===Zi?this.childContexts:this.parent.get(t,e)}}]),t}(),mo=function t(){f(this,t)},bo=function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(ae.a)(null)}}]),t}(),_o=((po=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Qi(n,r,function(t){return e.triggerEvent(new zn(t))},function(t){return e.triggerEvent(new Yn(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Se(function(t){return t instanceof Ln}),Sn(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(s.D);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],o=i(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children))}}catch(u){o.e(u)}finally{o.f()}return Object(ue.a)(r).pipe(Object(dn.a)(),Object(he.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(ae.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(Cn.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||po)(s.cc(ao),s.cc(s.C),s.cc(s.j),s.cc(s.v),s.cc(mo))},po.\u0275prov=s.Pb({token:po,factory:po.\u0275fac}),po),wo=((fo=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Dn?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ln&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Qn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Qn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||fo)(s.cc(ao),s.cc(vt),s.cc(void 0))},fo.\u0275prov=s.Pb({token:fo,factory:fo.\u0275fac}),fo),ko=new s.u("ROUTER_CONFIGURATION"),Oo=new s.u("ROUTER_FORROOT_GUARD"),Co=[U,{provide:vr,useClass:yr},{provide:ao,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new ao(null,t,e,n,r,i,o,rr(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,h),s.enableTracing){var f=c();h.events.subscribe(function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h},deps:[vr,Zi,U,s.v,s.C,s.j,Gi,ko,[function(){return function t(){f(this,t)}}(),new s.G],[function(){return function t(){f(this,t)}}(),new s.G]]},Zi,{provide:Mr,useFactory:function(t){return t.routerState.root},deps:[ao]},{provide:s.C,useClass:s.R},_o,bo,function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(wn(function(){return Object(ae.a)(null)}))}}]),t}(),{provide:ko,useValue:{enableTracing:!1}}];function So(){return new s.E("Router",ao)}var Eo,To=((Eo=function(){function t(e,n){f(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Co,jo(e),{provide:Oo,useFactory:Ao,deps:[[ao,new s.G,new s.Q]]},{provide:ko,useValue:n||{}},{provide:j,useFactory:xo,deps:[y,[new s.s(L),new s.G],ko]},{provide:wo,useFactory:Io,deps:[ao,vt,ko]},{provide:mo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bo},{provide:s.E,multi:!0,useFactory:So},[Ro,{provide:s.d,multi:!0,useFactory:No,deps:[Ro]},{provide:Lo,useFactory:Do,deps:[Ro]},{provide:s.b,multi:!0,useExisting:Lo}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[jo(e)]}}}]),t}()).\u0275fac=function(t){return new(t||Eo)(s.cc(Oo,8),s.cc(ao,8))},Eo.\u0275mod=s.Rb({type:Eo}),Eo.\u0275inj=s.Qb({}),Eo);function Io(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wo(t,e,n)}function xo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new M(t,e):new F(t,e)}function Ao(t){return"guarded"}function jo(t){return[{provide:s.a,multi:!0,useValue:t},{provide:Gi,multi:!0,useValue:t}]}var Po,Ro=((Po=function(){function t(e){f(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new oe.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(O,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(ao),i=t.injector.get(ko);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(ae.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(ko),n=this.injector.get(_o),r=this.injector.get(wo),i=this.injector.get(ao),o=this.injector.get(s.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||Po)(s.cc(s.v))},Po.\u0275prov=s.Pb({token:Po,factory:Po.\u0275fac}),Po);function No(t){return t.appInitializer.bind(t)}function Do(t){return t.bootstrapListener.bind(t)}var Lo=new s.u("Router Initializer"),Fo=a("D0XW"),Mo=a("w1tV");function Uo(t,e){return function(n){return n.lift(new Vo(t,e))}}var Vo=function(){function t(e,n){f(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new qo(t,this.compare,this.keySelector))}}]),t}(),qo=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Ce.a),Bo=function(){function t(e,n){f(this,t),this.observables=e,this.project=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ho(t,this.observables,this.project))}}]),t}(),Ho=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;f(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add(un(b(o),r[u],void 0,u));return o}return p(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(o(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(on),zo=function(){function t(e){f(this,t),this.predicate=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Yo(t,this.predicate))}}]),t}(),Yo=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).predicate=r,i.skipping=!0,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}},{key:"tryCallPredicate",value:function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}]),n}(Ce.a);function Xo(t){return null==t}function Wo(t){return"function"==typeof t.set}function Ko(t,e){return Wo(e)?e:t.ref(e)}function Go(t,e){if("string"==typeof t)return e.stringCase();if(Wo(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Qo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fo.b;return new se.a(function(i){var o;return o=t[n](e,function(t,e){r.schedule(function(){i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(function(){return i.complete()})},function(t){r.schedule(function(){return i.error(t)})}),"on"===n?{unsubscribe:function(){null!=o&&t.off(e,o)}}:{unsubscribe:function(){}}}).pipe(Object(he.a)(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(Mo.a)())}function Jo(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Zo(t,e){var n=e.payload,r=e.prevKey,i=e.key,a=Jo(t,i),s=function(t,e){if(Xo(e))return 0;var n=Jo(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=[].concat(o(t),[n]),!1})}return t;case"child_added":if(a>-1){var c=t[a-1];(c&&c.key||null)!==r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(s,0,e)}else{if(null==r)return[e].concat(o(t));(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(a>-1){var l=t.splice(a,1)[0];return(t=t.slice()).splice(s,0,l),t}return t;default:return t}}function $o(t){return(Xo(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function ta(t,e,n){return function(t,e,n){return Qo(t,"value","once",n).pipe(de(function(r){var i=[Object(ae.a)(r)];return e.forEach(function(e){return i.push(Qo(t,e,"on",n))}),Object(ce.a).apply(void 0,i).pipe(mn(Zo,[]))}),Uo())}(t,e=$o(e),n)}function ea(t,e,n){var r=(e=$o(e)).map(function(e){return Qo(t,e,"on",n)});return Object(ce.a).apply(void 0,o(r))}function na(t,e){return function(n,r){return Go(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function ra(t,e){return function(){return Qo(t,"value","on",e)}}a("6Uf2");var ia,oa,aa=new s.u("angularfire2.realtimeDatabaseURL"),sa=new s.u("angularfire2.database.use-emulator"),ua=((oa=function(){function n(t,e,r,i,a,s,u){f(this,n),this.schedulers=new Ye.d(a),this.keepUnstableUntilFirst=Object(Ye.h)(this.schedulers);var c=s,l=Object(Ye.g)(t,a,e);!ie.a.auth&&u&&Object(Ye.j)(),this.database=Object(Ye.f)("".concat(l.name,".database.").concat(r),"AngularFireDatabase",l,function(){var t=a.runOutsideAngular(function(){return l.database(r||void 0)});return c&&t.useEmulator.apply(t,o(c)),t},[c])}return p(n,[{key:"list",value:function(n,r){var i=this,a=this.schedulers.ngZone.runOutsideAngular(function(){return Ko(i.database,n)}),s=a;return r&&(s=r(a)),function(n,r){var i,a=r.schedulers.outsideAngular,s=r.schedulers.ngZone.run(function(){return n.ref});return{query:n,update:na(s,"update"),set:na(s,"set"),push:function(t){return s.push(t)},remove:(i=s,function(t){return t?Go(t,{stringCase:function(){return i.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):i.remove()}),snapshotChanges:function(t){return ta(n,t,a).pipe(r.keepUnstableUntilFirst)},stateChanges:function(t){return ea(n,t,a).pipe(r.keepUnstableUntilFirst)},auditTrail:function(t){return function(t,n,r){return function(t,n,r){return function(t,e){return Qo(t,"value","on",e).pipe(Object(he.a)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t,r).pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Bo(e,n))}}(n),Object(he.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=r.lastKeyToLoad,a=i.map(function(t){return t.key});return{actions:i,lastKeyToLoad:o,loadedKeys:a}}),(i=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new zo(i))}),Object(he.a)(function(t){return t.actions}));var i}(t,ea(t,n).pipe(mn(function(t,e){return[].concat(o(t),[e])},[])),r)}(n,t,a).pipe(r.keepUnstableUntilFirst)},valueChanges:function(e,i){return ta(n,e,a).pipe(Object(he.a)(function(e){return e.map(function(e){return i&&i.idField?Object.assign(Object.assign({},e.payload.val()),t({},i.idField,e.key)):e.payload.val()})}),r.keepUnstableUntilFirst)}}}(s,this)}},{key:"object",value:function(t){var e,n,r=this,i=this.schedulers.ngZone.runOutsideAngular(function(){return Ko(r.database,t)});return n=this,{query:e=i,snapshotChanges:function(){return ra(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){return ra(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(he.a)(function(t){return t.payload.exists()?t.payload.val():null}))}}}},{key:"createPushId",value:function(){var t=this;return this.schedulers.ngZone.runOutsideAngular(function(){return t.database.ref()}).push().key}}]),n}()).\u0275fac=function(t){return new(t||oa)(s.cc(Ye.c),s.cc(Ye.b,8),s.cc(aa,8),s.cc(s.I),s.cc(s.F),s.cc(sa,8),s.cc(Xe,8))},oa.\u0275prov=Object(s.Pb)({factory:function(){return new oa(Object(s.cc)(Ye.c),Object(s.cc)(Ye.b,8),Object(s.cc)(aa,8),Object(s.cc)(s.I),Object(s.cc)(s.F),Object(s.cc)(sa,8),Object(s.cc)(Xe,8))},token:oa,providedIn:"any"}),oa),ca=((ia=function t(){f(this,t)}).\u0275fac=function(t){return new(t||ia)},ia.\u0275mod=s.Rb({type:ia}),ia.\u0275inj=s.Qb({providers:[ua]}),ia);function la(){return function(t){return t.lift(new ha)}}var ha=function(){function t(){f(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new fa(t))}}]),t}(),fa=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Ce.a),da=a("zIRd"),pa=a("qOnz"),va=a("q/0M"),ya=function(t,e){return(ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ga(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ma,ba="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_a=_a||{},wa=ba||self;function ka(){}function Oa(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ca(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Sa="closure_uid_"+(1e9*Math.random()>>>0),Ea=0;function Ta(t,e,n){return t.call.apply(t.bind,arguments)}function Ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function xa(t,e,n){return(xa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ta:Ia).apply(null,arguments)}function Aa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ja(){return Date.now()}function Pa(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ra(){this.j=this.j,this.i=this.i}Ra.prototype.j=!1,Ra.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Sa)&&t[Sa]||(t[Sa]=++Ea)}(this)},Ra.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Na=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Da=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function La(t){return Array.prototype.concat.apply([],arguments)}function Fa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ma(t){return/^[\s\xa0]*$/.test(t)}var Ua,Va=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function qa(t,e){return-1!=t.indexOf(e)}function Ba(t,e){return t<e?-1:t>e?1:0}t:{var Ha=wa.navigator;if(Ha){var za=Ha.userAgent;if(za){Ua=za;break t}}Ua=""}function Ya(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Xa(t){var e={};for(var n in t)e[n]=t[n];return e}var Wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ka(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Wa.length;o++)n=Wa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ga(t){return Ga[" "](t),t}Ga[" "]=ka;var Qa,Ja,Za=qa(Ua,"Opera"),$a=qa(Ua,"Trident")||qa(Ua,"MSIE"),ts=qa(Ua,"Edge"),es=ts||$a,ns=qa(Ua,"Gecko")&&!(qa(Ua.toLowerCase(),"webkit")&&!qa(Ua,"Edge"))&&!(qa(Ua,"Trident")||qa(Ua,"MSIE"))&&!qa(Ua,"Edge"),rs=qa(Ua.toLowerCase(),"webkit")&&!qa(Ua,"Edge");function is(){var t=wa.document;return t?t.documentMode:void 0}t:{var os="",as=(Ja=Ua,ns?/rv:([^\);]+)(\)|;)/.exec(Ja):ts?/Edge\/([\d\.]+)/.exec(Ja):$a?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ja):rs?/WebKit\/(\S+)/.exec(Ja):Za?/(?:Version)[ \/]?(\S+)/.exec(Ja):void 0);if(as&&(os=as?as[1]:""),$a){var ss=is();if(null!=ss&&ss>parseFloat(os)){Qa=String(ss);break t}}Qa=os}var us={};function cs(t){return function(t,e){var n=us;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Va(String(Qa)).split("."),r=Va(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ba(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ba(0==a[2].length,0==s[2].length)||Ba(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ls=wa.document&&$a&&(is()||parseInt(Qa,10))||void 0,hs=!$a||9<=Number(ls),fs=$a&&!cs("9"),ds=function(){if(!wa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wa.addEventListener("test",ka,e),wa.removeEventListener("test",ka,e)}catch(n){}return t}();function ps(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function vs(t,e){if(ps.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ns){t:{try{Ga(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ys[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ps.prototype.b=function(){this.defaultPrevented=!0},Pa(vs,ps);var ys={2:"touch",3:"pen",4:"mouse"};vs.prototype.b=function(){vs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,fs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var gs="closure_listenable_"+(1e6*Math.random()|0),ms=0;function bs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ms,this.Y=this.Z=!1}function _s(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ws(t){this.src=t,this.a={},this.b=0}function ks(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Na(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(_s(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Os(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ws.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Os(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new bs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Cs="closure_lm_"+(1e6*Math.random()|0),Ss={};function Es(t,e,n,r,i){if(r&&r.once)return Is(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Es(t,e[o],n,r,i);return null}return n=Ls(n),t&&t[gs]?t.va(e,n,Ca(r)?!!r.capture:!!r,i):Ts(t,e,n,!1,r,i)}function Ts(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ca(i)?!!i.capture:!!i;if(a&&!hs)return null;var s=Ns(t);if(s||(t[Cs]=s=new ws(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Rs,e=hs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ds||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(js(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Is(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Is(t,e[o],n,r,i);return null}return n=Ls(n),t&&t[gs]?t.wa(e,n,Ca(r)?!!r.capture:!!r,i):Ts(t,e,n,!0,r,i)}function xs(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xs(t,e[o],n,r,i);else r=Ca(r)?!!r.capture:!!r,n=Ls(n),t&&t[gs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Os(o=t.a[e],n,r,i))&&(_s(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ns(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Os(e,n,r,i)),(n=-1<t?e[t]:null)&&As(n))}function As(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[gs])ks(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(js(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ns(e))?(ks(n,t),0==n.b&&(n.src=null,e[Cs]=null)):_s(t)}}}function js(t){return t in Ss?Ss[t]:Ss[t]="on"+t}function Ps(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&As(t),n.call(r,e)}function Rs(t,e){if(t.Y)return!0;if(!hs){if(!e)t:{e=["window","event"];for(var n=wa,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ps(t,e=new vs(e,this))}return Ps(t,new vs(e,this))}function Ns(t){return(t=t[Cs])instanceof ws?t:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ls(t){return"function"==typeof t?t:(t[Ds]||(t[Ds]=function(e){return t.handleEvent(e)}),t[Ds])}function Fs(){Ra.call(this),this.c=new ws(this),this.J=this,this.C=null}function Ms(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ps(e,t);else if(e instanceof ps)e.target=e.target||t;else{var i=e;Ka(e=new ps(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Us(a,r,!0,e)&&i}if(i=Us(a=e.a=t,r,!0,e)&&i,i=Us(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Us(a=e.a=n[o],r,!1,e)&&i}function Us(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ks(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Pa(Fs,Ra),Fs.prototype[gs]=!0,(ma=Fs.prototype).addEventListener=function(t,e,n,r){Es(this,t,e,n,r)},ma.removeEventListener=function(t,e,n,r){xs(this,t,e,n,r)},ma.G=function(){if(Fs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_s(n[r]);delete e.a[t],e.b--}}this.C=null},ma.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ma.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Vs=wa.JSON.stringify;function qs(){this.b=this.a=null}var Bs,Hs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ys},function(t){t.reset()});function zs(){var t=Gs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ys(){this.next=this.b=this.a=null}function Xs(t){wa.setTimeout(function(){throw t},0)}function Ws(t,e){Bs||function(){var t=wa.Promise.resolve(void 0);Bs=function(){t.then(Qs)}}(),Ks||(Bs(),Ks=!0),Gs.add(t,e)}qs.prototype.add=function(t,e){var n=Hs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ys.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ys.prototype.reset=function(){this.next=this.b=this.a=null};var Ks=!1,Gs=new qs;function Qs(){for(var t;t=zs();){try{t.a.call(t.b)}catch(n){Xs(n)}var e=Hs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ks=!1}function Js(t,e){Fs.call(this),this.b=t||1,this.a=e||wa,this.f=xa(this.Za,this),this.g=ja()}function Zs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function $s(t,e,n){if("function"==typeof t)n&&(t=xa(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xa(t.handleEvent,t)}return 2147483647<Number(e)?-1:wa.setTimeout(t,e||0)}function tu(t){t.a=$s(function(){t.a=null,t.c&&(t.c=!1,tu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Pa(Js,Fs),(ma=Js.prototype).aa=!1,ma.M=null,ma.Za=function(){if(this.aa){var t=ja()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ms(this,"tick"),this.aa&&(Zs(this),this.start()))}},ma.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ja())},ma.G=function(){Js.X.G.call(this),Zs(this),delete this.a};var eu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ya(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:tu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(wa.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ra);function nu(t){Ra.call(this),this.b=t,this.a={}}Pa(nu,Ra);var ru=[];function iu(t,e,n,r){Array.isArray(n)||(n&&(ru[0]=n.toString()),n=ru);for(var i=0;i<n.length;i++){var o=Es(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ou(t){Ya(t.a,function(t,e){this.a.hasOwnProperty(e)&&As(t)},t),t.a={}}function au(){this.a=!0}function su(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Vs(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}nu.prototype.G=function(){nu.X.G.call(this),ou(this)},nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},au.prototype.info=function(){};var uu={},cu=null;function lu(){return cu=cu||new Fs}function hu(t){ps.call(this,uu.Fa,t)}function fu(t){var e=lu();Ms(e,new hu(e,t))}function du(t,e){ps.call(this,uu.STAT_EVENT,t),this.stat=e}function pu(t){var e=lu();Ms(e,new du(e,t))}function vu(t){ps.call(this,uu.Ga,t)}function yu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wa.setTimeout(function(){t()},e)}uu.Fa="serverreachability",Pa(hu,ps),uu.STAT_EVENT="statevent",Pa(du,ps),uu.Ga="timingevent",Pa(vu,ps);var gu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},mu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function bu(){}function _u(){}bu.prototype.a=null;var wu,ku={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ou(){ps.call(this,"d")}function Cu(){ps.call(this,"c")}function Su(){}function Eu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new nu(this),this.P=Tu,this.R=new Js(t=es?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Pa(Ou,ps),Pa(Cu,ps),Pa(Su,bu),wu=new Su;var Tu=45e3,Iu={},xu={};function Au(t,e,n){t.H=1,t.i=Zu(Xu(e)),t.j=n,t.I=!0,ju(t,null)}function ju(t,e){t.u=ja(),Nu(t),t.l=Xu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),hc(n.b,"t",r),t.D=0,t.a=ol(t.g,t.g.C?e:null),0<t.O&&(t.F=new eu(xa(t.Ca,t,t.a),t.O)),iu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Xa(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Pu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ru(t,n);if(i==xu){4==e&&(t.h=4,pu(14),r=!1),su(t.c,t.f,null,"[Incomplete Response]");break}if(i==Iu){t.h=4,pu(15),su(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}su(t.c,t.f,i,null),Uu(t,i)}4==e&&0==n.length&&(t.h=1,pu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jc(e),e.F=!0,pu(11))):(su(t.c,t.f,n,"[Invalid Chunked Response]"),Mu(t),Fu(t))}function Ru(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xu:(n=Number(e.substring(n,r)),isNaN(n)?Iu:(r+=1)+n>e.length?xu:(e=e.substr(r,n),t.D=r+n,e))}function Nu(t){t.T=ja()+t.P,Du(t,t.P)}function Du(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=yu(xa(t.Va,t),e)}function Lu(t){t.o&&(wa.clearTimeout(t.o),t.o=null)}function Fu(t){0==t.g.v||t.A||tl(t.g,t)}function Mu(t){Lu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zs(t.R),ou(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Uu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||mc(n.b,t)))if(n.I=t.N,!t.C&&mc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Bb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;$c(n),Bc(n)}Qc(n),pu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=yu(xa(n.Sa,n),6e3));if(1>=gc(n.b)&&n.ea){try{n.ea()}catch(Bb){}n.ea=void 0}}else nl(n,11)}else if((t.C||n.a==t)&&$c(n),!Ma(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(qa(l,"spdy")||qa(l,"quic")||qa(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(bc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ju(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ja()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=il(u,u.C?u.ga:null,u.fa),d.C){_c(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Lu(p),Nu(p)),u.a=d}else Gc(u);0<n.g.length&&Yc(n)}else"stop"!=i[0]&&"close"!=i[0]||nl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?nl(n,7):qc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);fu(4)}catch(Bb){}}function Vu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Oa(t)||"string"==typeof t)Da(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Oa(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Oa(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function qu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Bu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Hu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Hu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Hu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ma=Eu.prototype).setTimeout=function(t){this.P=t},ma.Xa=function(t){t=t.target;var e=this.F;e&&3==Fc(t)?e.f():this.Ca(t)},ma.Ca=function(t){try{if(t==this.a)t:{var e=Fc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!es&&!this.a.$())){this.A||4!=e||7==n||fu(8==n||0>=r?3:2),Lu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,pu(12),Mu(this),Fu(this);break t}su(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Uu(this,u)}this.I?(Pu(this,e,o),es&&this.b&&3==e&&(iu(this.J,this.R,"tick",this.Wa),this.R.start())):(su(this.c,this.f,o,null),Uu(this,o)),4==e&&Mu(this),this.b&&!this.A&&(4==e?tl(this.g,this):(this.b=!1,Nu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,pu(12)):(this.h=0,pu(13)),Mu(this),Fu(this)}}}catch(c){}},ma.Wa=function(){if(this.a){var t=Fc(this.a),e=this.a.$();this.D<e.length&&(Lu(this),Pu(this,t,e),this.b&&4!=t&&Nu(this))}},ma.cancel=function(){this.A=!0,Mu(this)},ma.Va=function(){this.o=null;var t=ja();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(fu(3),pu(17)),Mu(this),this.h=2,Fu(this)):Du(this,this.T-t)},(ma=qu.prototype).K=function(){Bu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ma.L=function(){return Bu(this),this.a.concat()},ma.get=function(t,e){return Hu(this.b,t)?this.b[t]:e},ma.set=function(t,e){Hu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ma.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Yu){this.a=void 0!==e?e:t.a,Wu(this,t.f),this.j=t.j,Ku(this,t.c),Gu(this,t.h),this.g=t.g,e=t.b;var n=new sc;n.c=e.c,e.a&&(n.a=new qu(e.a),n.b=e.b),Qu(this,n),this.i=t.i}else t&&(n=String(t).match(zu))?(this.a=!!e,Wu(this,n[1]||"",!0),this.j=$u(n[2]||""),Ku(this,n[3]||"",!0),Gu(this,n[4]),this.g=$u(n[5]||"",!0),Qu(this,n[6]||"",!0),this.i=$u(n[7]||"")):(this.a=!!e,this.b=new sc(null,this.a))}function Xu(t){return new Yu(t)}function Wu(t,e,n){t.f=n?$u(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ku(t,e,n){t.c=n?$u(e,!0):e}function Gu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Qu(t,e,n){e instanceof sc?(t.b=e,function(t,e){e&&!t.f&&(uc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(cc(this,e),hc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=tc(e,oc)),t.b=new sc(e,t.a))}function Ju(t,e,n){t.b.set(e,n)}function Zu(t){return Ju(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)),t}function $u(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ec),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ec(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Yu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(tc(e,nc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(tc(e,nc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(tc(n,"/"==n.charAt(0)?ic:rc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",tc(n,ac)),t.join("")};var nc=/[#\/\?@]/g,rc=/[#\?:]/g,ic=/[#\?]/g,oc=/[#\?@]/g,ac=/#/g;function sc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function uc(t){t.a||(t.a=new qu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cc(t,e){uc(t),e=fc(t,e),Hu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Hu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Bu(t)))}function lc(t,e){return uc(t),e=fc(t,e),Hu(t.a.b,e)}function hc(t,e,n){cc(t,e),0<n.length&&(t.c=null,t.a.set(fc(t,e),Fa(n)),t.b+=n.length)}function fc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ma=sc.prototype).add=function(t,e){uc(this),this.c=null,t=fc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ma.forEach=function(t,e){uc(this),this.a.forEach(function(n,r){Da(n,function(n){t.call(e,n,r,this)},this)},this)},ma.L=function(){uc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ma.K=function(t){uc(this);var e=[];if("string"==typeof t)lc(this,t)&&(e=La(e,this.a.get(fc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=La(e,t[n])}return e},ma.set=function(t,e){return uc(this),this.c=null,lc(this,t=fc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ma.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ma.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var dc=function(t,e){this.b=t,this.a=e};function pc(t){this.g=t||vc,t=wa.PerformanceNavigationTiming?0<(t=wa.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(wa.ia&&wa.ia.ya&&wa.ia.ya()&&wa.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var vc=10;function yc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function gc(t){return t.b?1:t.a?t.a.size:0}function mc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function bc(t,e){t.a?t.a.add(e):t.b=e}function _c(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function wc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ga(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Fa(t.c)}function kc(){}function Oc(){this.a=new kc}function Cc(t,e,n){var r=n||"";try{Vu(t,function(t,n){var i=t;Ca(t)&&(i=Vs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(O_){throw e.push(r+"type="+encodeURIComponent("_badmap")),O_}}function Sc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}pc.prototype.cancel=function(){var t,e;if(this.c=wc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ga(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},kc.prototype.stringify=function(t){return wa.JSON.stringify(t,void 0)},kc.prototype.parse=function(t){return wa.JSON.parse(t,void 0)};var Ec=wa.JSON.parse;function Tc(t){Fs.call(this),this.headers=new qu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ic,this.D=this.F=!1}Pa(Tc,Fs);var Ic="",xc=/^https?$/i,Ac=["POST","PUT"];function jc(t){return"content-type"==t.toLowerCase()}function Pc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Rc(t),Dc(t)}function Rc(t){t.u||(t.u=!0,Ms(t,"complete"),Ms(t,"error"))}function Nc(t){if(t.b&&void 0!==_a&&(!t.s[1]||4!=Fc(t)||2!=t.W()))if(t.l&&4==Fc(t))$s(t.za,0,t);else if(Ms(t,"readystatechange"),4==Fc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(zu)[1]||null;if(!o&&wa.self&&wa.self.location){var a=wa.self.location.protocol;o=a.substr(0,a.length-1)}i=!xc.test(o?o.toLowerCase():"")}e=i}if(e)Ms(t,"complete"),Ms(t,"success");else{t.h=6;try{var s=2<Fc(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Rc(t)}}finally{Dc(t)}}}function Dc(t,e){if(t.a){Lc(t);var n=t.a,r=t.s[0]?ka:null;t.a=null,t.s=null,e||Ms(t,"ready");try{n.onreadystatechange=r}catch(O_){}}}function Lc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(wa.clearTimeout(t.m),t.m=null)}function Fc(t){return t.a?t.a.readyState:0}function Mc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ya(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ju(t,e,n))}function Uc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vc(t){this.pa=0,this.g=[],this.c=new au,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Uc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Uc("baseRetryDelayMs",5e3,t),this.Ra=Uc("retryDelaySeedMs",1e4,t),this.Ma=Uc("forwardChannelMaxRetries",2,t),this.ma=Uc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new pc(t&&t.concurrentRequestLimit),this.ka=new Oc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function qc(t){if(Hc(t),3==t.v){var e=t.R++,n=Xu(t.B);Ju(n,"SID",t.J),Ju(n,"RID",e),Ju(n,"TYPE","terminate"),Wc(t,n),(e=new Eu(t,t.c,e,void 0)).H=2,e.i=Zu(Xu(n)),n=!1,wa.navigator&&wa.navigator.sendBeacon&&(n=wa.navigator.sendBeacon(e.i.toString(),"")),!n&&wa.Image&&((new Image).src=e.i,n=!0),n||(e.a=ol(e.g,null),e.a.ba(e.i)),e.u=ja(),Nu(e)}rl(t)}function Bc(t){t.a&&(Jc(t),t.a.cancel(),t.a=null)}function Hc(t){Bc(t),t.j&&(wa.clearTimeout(t.j),t.j=null),$c(t),t.b.cancel(),t.h&&("number"==typeof t.h&&wa.clearTimeout(t.h),t.h=null)}function zc(t,e){t.g.push(new dc(t.Oa++,e)),3==t.v&&Yc(t)}function Yc(t){yc(t.b)||t.h||(t.h=!0,Ws(t.Ba,t),t.u=0)}function Xc(t,e){var n;n=e?e.f:t.R++;var r=Xu(t.B);Ju(r,"SID",t.J),Ju(r,"RID",n),Ju(r,"AID",t.P),Wc(t,r),t.i&&t.l&&Mc(r,t.i,t.l),n=new Eu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Kc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),bc(t.b,n),Au(n,r,e)}function Wc(t,e){t.f&&Vu({},function(t,n){Ju(e,n,t)})}function Kc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?xa(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Cc(l,a,"req"+c+"_")}catch(Fl){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Gc(t){t.a||t.j||(t.T=1,Ws(t.Aa,t),t.o=0)}function Qc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=yu(xa(t.Aa,t),el(t,t.o)),t.o++,0))}function Jc(t){null!=t.s&&(wa.clearTimeout(t.s),t.s=null)}function Zc(t){t.a=new Eu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xu(t.la);Ju(e,"RID","rpc"),Ju(e,"SID",t.J),Ju(e,"CI",t.H?"0":"1"),Ju(e,"AID",t.P),Wc(t,e),Ju(e,"TYPE","xmlhttp"),t.i&&t.l&&Mc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zu(Xu(e)),n.j=null,n.I=!0,ju(n,t)}function $c(t){null!=t.m&&(wa.clearTimeout(t.m),t.m=null)}function tl(t,e){var n=null;if(t.a==e){$c(t),Jc(t),t.a=null;var r=2}else{if(!mc(t.b,e))return;n=e.s,_c(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ja()-e.u;var i=t.u;Ms(r=lu(),new vu(r,n,e,i)),Yc(t)}else Gc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(gc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=yu(xa(t.Ba,t,e),el(t,t.u)),t.u++,0)))}(t,e)||2==r&&Qc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:nl(t,5);break;case 4:nl(t,10);break;case 3:nl(t,6);break;default:nl(t,2)}}function el(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function nl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=xa(t.Ya,t);n||(n=new Yu("//www.google.com/images/cleardot.gif"),wa.location&&"http"==wa.location.protocol||Wu(n,"https"),Zu(n)),function(t,e){var n=new au;if(wa.Image){var r=new Image;r.onload=Aa(Sc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Aa(Sc,n,r,"TestLoadImage: error",!1,e),r.onabort=Aa(Sc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Aa(Sc,n,r,"TestLoadImage: timeout",!1,e),wa.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else pu(2);t.v=0,t.f&&t.f.ra(e),rl(t),Hc(t)}function rl(t){t.v=0,t.I=-1,t.f&&(0==wc(t.b).length&&0==t.g.length||(t.b.c.length=0,Fa(t.g),t.g.length=0),t.f.qa())}function il(t,e,n){var r=function(t){return t instanceof Yu?Xu(t):new Yu(t,void 0)}(n);if(""!=r.c)e&&Ku(r,e+"."+r.c),Gu(r,r.h);else{var i=wa.location;r=function(t,e,n,r){var i=new Yu(null,void 0);return t&&Wu(i,t),e&&Ku(i,e),n&&Gu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ya(t.V,function(t,e){Ju(r,e,t)}),n=t.na,(e=t.A)&&n&&Ju(r,e,n),Ju(r,"VER",t.ha),Wc(t,r),r}function ol(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tc(t.Na)).F=t.C,e}function al(){}function sl(){if($a&&!(10<=Number(ls)))throw Error("Environmental error: no available transport.")}function ul(t,e){Fs.call(this),this.a=new Vc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ma(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ma(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new hl(this)}function cl(t){Ou.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ll(){Cu.call(this),this.status=1}function hl(t){this.a=t}(ma=Tc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:wu),this.a.onreadystatechange=xa(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Pc(this,o)}t=n||"";var i=new qu(this.headers);r&&Vu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=jc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=wa.FormData&&t instanceof wa.FormData,!(0<=Na(Ac,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lc(this),0<this.o&&((this.D=function(t){return $a&&cs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=xa(this.xa,this)):this.m=$s(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Pc(this,o)}},ma.xa=function(){void 0!==_a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ms(this,"timeout"),this.abort(8))},ma.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ms(this,"complete"),Ms(this,"abort"),Dc(this))},ma.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dc(this,!0)),Tc.X.G.call(this)},ma.za=function(){this.j||(this.A||this.l||this.g?Nc(this):this.Ua())},ma.Ua=function(){Nc(this)},ma.W=function(){try{return 2<Fc(this)?this.a.status:-1}catch(Ja){return-1}},ma.$=function(){try{return this.a?this.a.responseText:""}catch(Ja){return""}},ma.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ec(e)}},ma.ua=function(){return this.h},ma.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ma=Vc.prototype).ha=8,ma.v=1,ma.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Eu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ka(r=Xa(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Kc(this,n,e),Ju(i=Xu(this.B),"RID",t),Ju(i,"CVER",22),this.A&&Ju(i,"X-HTTP-Session-Id",this.A),Wc(this,i),this.i&&r&&Mc(i,this.i,r),bc(this.b,n),this.Ia&&Ju(i,"TYPE","init"),this.da?(Ju(i,"$req",e),Ju(i,"SID","null"),n.U=!0,Au(n,i,null)):Au(n,i,e),this.v=2}}else 3==this.v&&(t?Xc(this,t):0==this.g.length||yc(this.b)||Xc(this))},ma.Aa=function(){if(this.j=null,Zc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=yu(xa(this.Ta,this),t)}},ma.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,pu(10),Bc(this),Zc(this))},ma.Sa=function(){null!=this.m&&(this.m=null,Bc(this),Qc(this),pu(19))},ma.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),pu(2)):(this.c.info("Failed to ping google.com"),pu(1))},(ma=al.prototype).ta=function(){},ma.sa=function(){},ma.ra=function(){},ma.qa=function(){},ma.Ja=function(){},sl.prototype.a=function(t,e){return new ul(t,e)},Pa(ul,Fs),ul.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;pu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=il(t,null,t.fa),Yc(t)},ul.prototype.close=function(){qc(this.a)},ul.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,zc(this.a,e)}else this.l?((e={}).__data__=Vs(t),zc(this.a,e)):zc(this.a,t)},ul.prototype.G=function(){this.a.f=null,delete this.f,qc(this.a),delete this.a,ul.X.G.call(this)},Pa(cl,Ou),Pa(ll,Cu),Pa(hl,al),hl.prototype.ta=function(){Ms(this.a,"a")},hl.prototype.sa=function(t){Ms(this.a,new cl(t))},hl.prototype.ra=function(t){Ms(this.a,new ll(t))},hl.prototype.qa=function(){Ms(this.a,"b")},sl.prototype.createWebChannel=sl.prototype.a,ul.prototype.send=ul.prototype.h,ul.prototype.open=ul.prototype.g,ul.prototype.close=ul.prototype.close,gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,mu.COMPLETE="complete",_u.EventType=ku,ku.OPEN="a",ku.CLOSE="b",ku.ERROR="c",ku.MESSAGE="d",Fs.prototype.listen=Fs.prototype.va,Tc.prototype.listenOnce=Tc.prototype.wa,Tc.prototype.getLastError=Tc.prototype.Qa,Tc.prototype.getLastErrorCode=Tc.prototype.ua,Tc.prototype.getStatus=Tc.prototype.W,Tc.prototype.getResponseJson=Tc.prototype.Pa,Tc.prototype.getResponseText=Tc.prototype.$,Tc.prototype.send=Tc.prototype.ba;var fl=gu,dl=mu,pl=uu,vl=_u,yl=Tc,gl=a("mrSG"),ml=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ml.o=-1;var bl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_l=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(gl.c)(e,t),e}(Error),wl=new va.b("@firebase/firestore");function kl(){return wl.logLevel}function Ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wl.logLevel<=va.a.DEBUG){var r=e.map(El);wl.debug.apply(wl,Object(gl.f)(["Firestore (8.4.0): "+t],r))}}function Cl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wl.logLevel<=va.a.ERROR){var r=e.map(El);wl.error.apply(wl,Object(gl.f)(["Firestore (8.4.0): "+t],r))}}function Sl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wl.logLevel<=va.a.WARN){var r=e.map(El);wl.warn.apply(wl,Object(gl.f)(["Firestore (8.4.0): "+t],r))}}function El(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(O_){return t}}function Tl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw Cl(e),new Error(e)}function Il(t,e){t||Tl()}function xl(t,e){return t}function Al(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Al(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pl(t,e){return t<e?-1:t>e?1:0}function Rl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Nl(t){return t+"\0"}var Dl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _l(bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _l(bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _l(bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _l(bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Pl(this.nanoseconds,t.nanoseconds):Pl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ll=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Dl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Fl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ml(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ul(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Vl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Tl(),void 0===n?n=t.length-e:n>t.length-e&&Tl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new _l(bl.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Vl),Bl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Bl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _l(bl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new _l(bl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _l(bl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new _l(bl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Vl),zl=function(){function t(t){this.fields=t,t.sort(Hl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Rl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Yl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Pl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Yl.EMPTY_BYTE_STRING=new Yl("");var Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(t){if(Il(!!t),"string"==typeof t){var e=0,n=Xl.exec(t);if(Il(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kl(t.seconds),nanos:Kl(t.nanos)}}function Kl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gl(t){return"string"==typeof t?Yl.fromBase64String(t):Yl.fromUint8Array(t)}function Ql(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jl(t){var e=t.mapValue.fields.__previous_value__;return Ql(e)?Jl(e):e}function Zl(t){var e=Wl(t.mapValue.fields.__local_write_time__.timestampValue);return new Dl(e.seconds,e.nanos)}function $l(t){return null==t}function th(t){return 0===t&&1/t==-1/0}function eh(t){return"number"==typeof t&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var nh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ql.fromString(e))},t.fromName=function(e){return new t(ql.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ql.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ql.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ql(e.slice()))},t}();function rh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ql(t)?4:10:Tl()}function ih(t,e){var n=rh(t);if(n!==rh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Wl(t.timestampValue),r=Wl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gl(t.bytesValue).isEqual(Gl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kl(t.geoPointValue.latitude)===Kl(e.geoPointValue.latitude)&&Kl(t.geoPointValue.longitude)===Kl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kl(t.integerValue)===Kl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kl(t.doubleValue),r=Kl(e.doubleValue);return n===r?th(n)===th(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],ih);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Fl(n)!==Fl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ih(n[i],r[i])))return!1;return!0}(t,e);default:return Tl()}}function oh(t,e){return void 0!==(t.values||[]).find(function(t){return ih(t,e)})}function ah(t,e){var n=rh(t),r=rh(e);if(n!==r)return Pl(n,r);switch(n){case 0:return 0;case 1:return Pl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kl(t.integerValue||t.doubleValue),r=Kl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return sh(t.timestampValue,e.timestampValue);case 4:return sh(Zl(t),Zl(e));case 5:return Pl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Gl(t),r=Gl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pl(n[i],r[i]);if(0!==o)return o}return Pl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pl(Kl(t.latitude),Kl(e.latitude));return 0!==n?n:Pl(Kl(t.longitude),Kl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ah(n[i],r[i]);if(o)return o}return Pl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Pl(r[a],o[a]);if(0!==s)return s;var u=ah(n[r[a]],i[o[a]]);if(0!==u)return u}return Pl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Tl()}}function sh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pl(t,e);var n=Wl(t),r=Wl(e),i=Pl(n.seconds,r.seconds);return 0!==i?i:Pl(n.nanos,r.nanos)}function uh(t){return ch(t)}function ch(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Wl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gl(t.bytesValue).toBase64():"referenceValue"in t?nh.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ch(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ch(t.fields[o])}return e+"}"}(t.mapValue):Tl();var e}function lh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function hh(t){return!!t&&"integerValue"in t}function fh(t){return!!t&&"arrayValue"in t}function dh(t){return!!t&&"nullValue"in t}function ph(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vh(t){return!!t&&"mapValue"in t}var yh=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Hl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return ih(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===rh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=vh(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)}),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Hl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!vh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function gh(t){var e=[];return Ml(t.fields||{},function(t,n){var r=new Hl([t]);if(vh(n)){var i=gh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new zl(e)}var mh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ll.min(),yh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,yh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,yh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=yh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=yh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),bh=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function _h(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new bh(t,e,n,r,i,o,a)}function wh(t){var e=xl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+uh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),$l(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Nh(e.startAt)),e.endAt&&(n+="|ub:",n+=Nh(e.endAt)),e.h=n}return e.h}function kh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Lh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ih(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mh(t.startAt,e.startAt)&&Mh(t.endAt,e.endAt)}function Oh(t){return nh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ch=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(gl.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Sh(t,n,r):"array-contains"===n?new xh(t,r):"in"===n?new Ah(t,r):"not-in"===n?new jh(t,r):"array-contains-any"===n?new Ph(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Eh(t,n):new Th(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ah(e,this.value)):null!==e&&rh(this.value)===rh(e)&&this.m(ah(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Tl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Sh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=nh.fromName(r.referenceValue),i}return Object(gl.c)(e,t),e.prototype.matches=function(t){var e=nh.comparator(t.key,this.key);return this.m(e)},e}(Ch),Eh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ih(0,n),r}return Object(gl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ch),Th=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ih(0,n),r}return Object(gl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ch);function Ih(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return nh.fromName(t.referenceValue)})}var xh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(gl.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return fh(e)&&oh(e.arrayValue,this.value)},e}(Ch),Ah=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(gl.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&oh(this.value.arrayValue,e)},e}(Ch),jh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(gl.c)(e,t),e.prototype.matches=function(t){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!oh(this.value.arrayValue,e)},e}(Ch),Ph=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(gl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return oh(e.value.arrayValue,t)})},e}(Ch),Rh=function(t,e){this.position=t,this.before=e};function Nh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return uh(t)}).join(",")}var Dh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Lh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Fh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?nh.comparator(nh.fromName(a.referenceValue),n.key):ah(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ih(t.position[n],e.position[n]))return!1;return!0}var Uh=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Vh(t,e,n,r,i,o,a,s){return new Uh(t,e,n,r,i,o,a,s)}function qh(t){return new Uh(t)}function Bh(t){return!$l(t.limit)&&"F"===t.limitType}function Hh(t){return!$l(t.limit)&&"L"===t.limitType}function zh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Yh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Xh(t){return null!==t.collectionGroup}function Wh(t){var e=xl(t);if(null===e.p){e.p=[];var n=Yh(e),r=zh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Dh(n)),e.p.push(new Dh(Hl.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Dh(Hl.keyField(),u))}}}return e.p}function Kh(t){var e=xl(t);if(!e.T)if("F"===e.limitType)e.T=_h(e.path,e.collectionGroup,Wh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Wh(e);r<i.length;r++){var o=i[r];n.push(new Dh(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Rh(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Rh(e.startAt.position,!e.startAt.before):null;e.T=_h(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function Gh(t,e,n){return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qh(t,e){return kh(Kh(t),Kh(e))&&t.limitType===e.limitType}function Jh(t){return wh(Kh(t))+"|lt:"+t.limitType}function Zh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+uh(e.value);var e}).join(", ")+"]"),$l(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Nh(t.startAt)),t.endAt&&(e+=", endAt: "+Nh(t.endAt)),"Target("+e+")"}(Kh(t))+"; limitType="+t.limitType+")"}function $h(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):nh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Fh(t.startAt,Wh(t),e)||t.endAt&&Fh(t.endAt,Wh(t),e))}(t,e)}function tf(t){return function(e,n){for(var r=!1,i=0,o=Wh(t);i<o.length;i++){var a=o[i],s=ef(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ef(t,e,n){var r=t.field.isKeyField()?nh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ah(r,i):Tl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tl()}}function nf(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function rf(t){return{integerValue:""+t}}function of(t,e){return eh(e)?rf(e):nf(t,e)}var af=function(){this._=void 0};function sf(t,e,n){return t instanceof lf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof hf?ff(t,e):t instanceof df?pf(t,e):function(t,e){var n=cf(t,e),r=yf(n)+yf(t.A);return hh(n)&&hh(t.A)?rf(r):nf(t.R,r)}(t,e)}function uf(t,e,n){return t instanceof hf?ff(t,e):t instanceof df?pf(t,e):n}function cf(t,e){return t instanceof vf?hh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e}(af),hf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gl.c)(e,t),e}(af);function ff(t,e){for(var n=gf(e),r=function(t){n.some(function(e){return ih(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var df=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gl.c)(e,t),e}(af);function pf(t,e){for(var n=gf(e),r=function(t){n=n.filter(function(e){return!ih(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(gl.c)(e,t),e}(af);function yf(t){return Kl(t.integerValue||t.doubleValue)}function gf(t){return fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mf=function(t,e){this.field=t,this.transform=e},bf=function(t,e){this.version=t,this.transformResults=e},_f=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function wf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var kf=function(){};function Of(t,e,n){t instanceof If?function(t,e,n){var r=t.value.clone(),i=jf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof xf?function(t,e,n){if(wf(t.precondition,e)){var r=jf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Af(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Cf(t,e,n){t instanceof If?function(t,e,n){if(wf(t.precondition,e)){var r=t.value.clone(),i=Pf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Tf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof xf?function(t,e,n){if(wf(t.precondition,e)){var r=Pf(t.fieldTransforms,n,e),i=e.data;i.setAll(Af(t)),i.setAll(r),e.convertToFoundDocument(Tf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){wf(t.precondition,e)&&e.convertToNoDocument(Ll.min())}(t,e)}function Sf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=cf(o.transform,a||null);null!=s&&(null==n&&(n=yh.empty()),n.set(o.field,s))}return n||null}function Ef(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Rl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof hf&&e instanceof hf||t instanceof df&&e instanceof df?Rl(t.elements,e.elements,ih):t instanceof vf&&e instanceof vf?ih(t.A,e.A):t instanceof lf&&e instanceof lf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Tf(t){return t.isFoundDocument()?t.version:Ll.min()}var If=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(gl.c)(e,t),e}(kf),xf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(gl.c)(e,t),e}(kf);function Af(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function jf(t,e,n){var r=new Map;Il(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,uf(a,s,n[i]))}return r}function Pf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,sf(s,u,e))}return r}var Rf,Nf,Df=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(gl.c)(e,t),e}(kf),Lf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(gl.c)(e,t),e}(kf),Ff=function(t){this.count=t};function Mf(t){switch(t){case bl.OK:return Tl();case bl.CANCELLED:case bl.UNKNOWN:case bl.DEADLINE_EXCEEDED:case bl.RESOURCE_EXHAUSTED:case bl.INTERNAL:case bl.UNAVAILABLE:case bl.UNAUTHENTICATED:return!1;case bl.INVALID_ARGUMENT:case bl.NOT_FOUND:case bl.ALREADY_EXISTS:case bl.PERMISSION_DENIED:case bl.FAILED_PRECONDITION:case bl.ABORTED:case bl.OUT_OF_RANGE:case bl.UNIMPLEMENTED:case bl.DATA_LOSS:return!0;default:return Tl()}}function Uf(t){if(void 0===t)return Cl("GRPC error has no .code"),bl.UNKNOWN;switch(t){case Rf.OK:return bl.OK;case Rf.CANCELLED:return bl.CANCELLED;case Rf.UNKNOWN:return bl.UNKNOWN;case Rf.DEADLINE_EXCEEDED:return bl.DEADLINE_EXCEEDED;case Rf.RESOURCE_EXHAUSTED:return bl.RESOURCE_EXHAUSTED;case Rf.INTERNAL:return bl.INTERNAL;case Rf.UNAVAILABLE:return bl.UNAVAILABLE;case Rf.UNAUTHENTICATED:return bl.UNAUTHENTICATED;case Rf.INVALID_ARGUMENT:return bl.INVALID_ARGUMENT;case Rf.NOT_FOUND:return bl.NOT_FOUND;case Rf.ALREADY_EXISTS:return bl.ALREADY_EXISTS;case Rf.PERMISSION_DENIED:return bl.PERMISSION_DENIED;case Rf.FAILED_PRECONDITION:return bl.FAILED_PRECONDITION;case Rf.ABORTED:return bl.ABORTED;case Rf.OUT_OF_RANGE:return bl.OUT_OF_RANGE;case Rf.UNIMPLEMENTED:return bl.UNIMPLEMENTED;case Rf.DATA_LOSS:return bl.DATA_LOSS;default:return Tl()}}(Nf=Rf||(Rf={}))[Nf.OK=0]="OK",Nf[Nf.CANCELLED=1]="CANCELLED",Nf[Nf.UNKNOWN=2]="UNKNOWN",Nf[Nf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nf[Nf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nf[Nf.NOT_FOUND=5]="NOT_FOUND",Nf[Nf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nf[Nf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nf[Nf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nf[Nf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nf[Nf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nf[Nf.ABORTED=10]="ABORTED",Nf[Nf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nf[Nf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nf[Nf.INTERNAL=13]="INTERNAL",Nf[Nf.UNAVAILABLE=14]="UNAVAILABLE",Nf[Nf.DATA_LOSS=15]="DATA_LOSS";var Vf=function(){function t(t,e){this.comparator=t,this.root=e||Bf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new qf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new qf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new qf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new qf(this.root,t,this.comparator,!0)},t}(),qf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Bf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Tl();if(this.right.isRed())throw Tl();var t=this.left.check();if(t!==this.right.check())throw Tl();return t+(this.isRed()?0:1)},t}();Bf.EMPTY=null,Bf.RED=!0,Bf.BLACK=!1,Bf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Bf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Hf=function(){function t(t){this.comparator=t,this.data=new Vf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new zf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new zf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),zf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Yf=new Vf(nh.comparator);function Xf(){return Yf}var Wf=new Vf(nh.comparator);function Kf(){return Wf}var Gf=new Vf(nh.comparator);function Qf(){return Gf}var Jf=new Hf(nh.comparator);function Zf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Jf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var $f=new Hf(Pl);function td(){return $f}var ed=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,nd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ll.min(),r,td(),Xf(),Zf())},t}(),nd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Yl.EMPTY_BYTE_STRING,n,Zf(),Zf(),Zf())},t}(),rd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},id=function(t,e){this.targetId=t,this.V=e},od=function(t,e,n,r){void 0===n&&(n=Yl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ad=function(){function t(){this.S=0,this.D=cd(),this.C=Yl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Zf(),e=Zf(),n=Zf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Tl()}}),new nd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=cd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),sd=function(){function t(t){this.W=t,this.G=new Map,this.H=Xf(),this.J=ud(),this.Y=new Hf(Pl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Tl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Oh(i))if(0===n){var o=new nh(i.path);this.tt(e,o,mh.newNoDocument(o,Ll.min()))}else Il(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Oh(o.target)){var a=new nh(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,mh.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Zf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ed(t,n,this.Y,this.H,r);return this.H=Xf(),this.J=ud(),this.Y=new Hf(Pl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ad,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Hf(Pl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ol("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ad),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ud(){return new Vf(nh.comparator)}function cd(){return new Vf(nh.comparator)}var ld={asc:"ASCENDING",desc:"DESCENDING"},hd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fd=function(t,e){this.databaseId=t,this.I=e};function dd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function pd(t,e){return t.I?e.toBase64():e.toUint8Array()}function vd(t,e){return dd(t,e.toTimestamp())}function yd(t){return Il(!!t),Ll.fromTimestamp(function(t){var e=Wl(t);return new Dl(e.seconds,e.nanos)}(t))}function gd(t,e){return function(t){return new ql(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function md(t){var e=ql.fromString(t);return Il(Bd(e)),e}function bd(t,e){return gd(t.databaseId,e.path)}function _d(t,e){var n=md(e);if(n.get(1)!==t.databaseId.projectId)throw new _l(bl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _l(bl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new nh(Cd(n))}function wd(t,e){return gd(t.databaseId,e)}function kd(t){var e=md(t);return 4===e.length?ql.emptyPath():Cd(e)}function Od(t){return new ql(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cd(t){return Il(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Sd(t,e,n){return{name:bd(t,e),fields:n.toProto().mapValue.fields}}function Ed(t,e,n){var r=_d(t,e.name),i=yd(e.updateTime),o=new yh({mapValue:{fields:e.fields}}),a=mh.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Td(t,e){var n;if(e instanceof If)n={update:Sd(t,e.key,e.value)};else if(e instanceof Df)n={delete:bd(t,e.key)};else if(e instanceof xf)n={update:Sd(t,e.key,e.data),updateMask:qd(e.fieldMask)};else{if(!(e instanceof Lf))return Tl();n={verify:bd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof lf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof df)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Tl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:vd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Tl()}(t,e.precondition)),n}function Id(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_f.updateTime(yd(t.updateTime)):void 0!==t.exists?_f.exists(t.exists):_f.none()}(e.currentDocument):_f.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Il("REQUEST_TIME"===e.setToServerValue),n=new lf):"appendMissingElements"in e?n=new hf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new df(e.removeAllFromArray.values||[]):"increment"in e?n=new vf(t,e.increment):Tl();var r=Hl.fromServerFormat(e.fieldPath);return new mf(r,n)}(t,e)}):[];if(e.update){var i=_d(t,e.update.name),o=new yh({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new zl((t.fieldPaths||[]).map(function(t){return Hl.fromServerFormat(t)}))}(e.updateMask);return new xf(i,o,a,n,r)}return new If(i,o,n,r)}if(e.delete){var s=_d(t,e.delete);return new Df(s,n)}if(e.verify){var u=_d(t,e.verify);return new Lf(u,n)}return Tl()}function xd(t,e){return{documents:[wd(t,e.path)]}}function Ad(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=wd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(ph(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NAN"}};if(dh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ph(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NAN"}};if(dh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fd(t.field),op:Ld(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Fd(t.field),direction:Dd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||$l(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Rd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Rd(e.endAt)),n}function jd(t){var e=kd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Il(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Pd(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new Dh(Md(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return $l(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Nd(n.startAt));var l=null;return n.endAt&&(l=Nd(n.endAt)),Vh(e,i,s,a,u,"F",c,l)}function Pd(t){return t?void 0!==t.unaryFilter?[Vd(t)]:void 0!==t.fieldFilter?[Ud(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Pd(t)}).reduce(function(t,e){return t.concat(e)}):Tl():[]}function Rd(t){return{before:t.before,values:t.position}}function Nd(t){return new Rh(t.values||[],!!t.before)}function Dd(t){return ld[t]}function Ld(t){return hd[t]}function Fd(t){return{fieldPath:t.canonicalString()}}function Md(t){return Hl.fromServerFormat(t.fieldPath)}function Ud(t){return Ch.create(Md(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Tl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Vd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Md(t.unaryFilter.field);return Ch.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Md(t.unaryFilter.field);return Ch.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Md(t.unaryFilter.field);return Ch.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Md(t.unaryFilter.field);return Ch.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Tl()}}function qd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Bd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Hd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Yd(e)),e=zd(t.get(n),e);return Yd(e)}function zd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Yd(t){return t+"\x01\x01"}function Xd(t){var e=t.length;if(Il(e>=2),2===e)return Il("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ql.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Tl(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Tl()}o=a+2}return new ql(r)}var Wd=function(t,e){this.seconds=t,this.nanoseconds=e},Kd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Kd.store="owner",Kd.key="owner";var Gd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gd.store="mutationQueues",Gd.keyPath="userId";var Qd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Qd.store="mutations",Qd.keyPath="batchId",Qd.userMutationsIndex="userMutationsIndex",Qd.userMutationsKeyPath=["userId","batchId"];var Jd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Hd(e)]},t.key=function(t,e,n){return[t,Hd(e),n]},t}();Jd.store="documentMutations",Jd.PLACEHOLDER=new Jd;var Zd=function(t,e){this.path=t,this.readTime=e},$d=function(t,e){this.path=t,this.version=e},tp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};tp.store="remoteDocuments",tp.readTimeIndex="readTimeIndex",tp.readTimeIndexPath="readTime",tp.collectionReadTimeIndex="collectionReadTimeIndex",tp.collectionReadTimeIndexPath=["parentPath","readTime"];var ep=function(t){this.byteSize=t};ep.store="remoteDocumentGlobal",ep.key="remoteDocumentGlobalKey";var np=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};np.store="targets",np.keyPath="targetId",np.queryTargetsIndexName="queryTargetsIndex",np.queryTargetsKeyPath=["canonicalId","targetId"];var rp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};rp.store="targetDocuments",rp.keyPath=["targetId","path"],rp.documentTargetsIndex="documentTargetsIndex",rp.documentTargetsKeyPath=["path","targetId"];var ip=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ip.key="targetGlobalKey",ip.store="targetGlobal";var op=function(t,e){this.collectionId=t,this.parent=e};op.store="collectionParents",op.keyPath=["collectionId","parent"];var ap=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ap.store="clientMetadata",ap.keyPath="clientId";var sp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sp.store="bundles",sp.keyPath="bundleId";var up=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};up.store="namedQueries",up.keyPath="name";var cp=Object(gl.f)(Object(gl.f)([],Object(gl.f)(Object(gl.f)([],Object(gl.f)(Object(gl.f)([],Object(gl.f)(Object(gl.f)([],[Gd.store,Qd.store,Jd.store,tp.store,np.store,Kd.store,ip.store,rp.store]),[ap.store])),[ep.store])),[op.store])),[sp.store,up.store]),lp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),fp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},dp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Tl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),pp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new fp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new gp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=kp(e.target.error);n.ft.reject(new gp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new gp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ol("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new bp(e)},t}(),vp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(pa.o)())&&Cl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ol("SimpleDb","Removing database:",t),_p(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(pa.o)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n=this;return Object(gl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ol("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new gp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new _l(bl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new gp(t,n))},i.onupgradeneeded=function(t){Ol("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ol("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(gl.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(gl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(gl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=pp.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),dp.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Ol("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),yp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return _p(this.Pt.delete())},t}(),gp=function(t){function e(e,n){var r=this;return(r=t.call(this,bl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(gl.c)(e,t),e}(_l);function mp(t){return"IndexedDbTransactionError"===t.name}var bp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ol("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ol("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),_p(n)},t.prototype.add=function(t){return Ol("SimpleDb","ADD",this.store.name,t,t),_p(this.store.add(t))},t.prototype.get=function(t){var e=this;return _p(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ol("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ol("SimpleDb","DELETE",this.store.name,t),_p(this.store.delete(t))},t.prototype.count=function(){return Ol("SimpleDb","COUNT",this.store.name),_p(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Ol("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new dp(function(n,r){e.onerror=function(t){var e=kp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new dp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new yp(i),a=e(i.primaryKey,i.value,o);if(a instanceof dp){var s=a.catch(function(t){return o.done(),dp.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return dp.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function _p(t){return new dp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=kp(t.target.error);n(e)}})}var wp=!1;function kp(t){var e=vp._t(Object(pa.o)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return wp||(wp=!0,setTimeout(function(){throw r},0)),r}}return t}var Op=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(gl.c)(e,t),e}(hp);function Cp(t,e){var n=xl(t);return vp.It(n.Mt,e)}var Sp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Of(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Cf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Cf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ll.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Zf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rl(this.mutations,t.mutations,function(t,e){return Ef(t,e)})&&Rl(this.baseMutations,t.baseMutations,function(t,e){return Ef(t,e)})},t}(),Ep=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Il(e.mutations.length===r.length);for(var i=Qf(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Tp=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ll.min()),void 0===o&&(o=Ll.min()),void 0===a&&(a=Yl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ip=function(t){this.Lt=t};function xp(t,e){if(e.document)return Ed(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=nh.fromSegments(e.noDocument.path),r=Np(e.noDocument.readTime),i=mh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=nh.fromSegments(e.unknownDocument.path);return r=Np(e.unknownDocument.version),mh.newUnknownDocument(o,r)}return Tl()}function Ap(t,e,n){var r=jp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:bd(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:dd(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new tp(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Rp(e.version);return a=e.hasCommittedMutations,new tp(null,new Zd(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Rp(e.version);return new tp(new $d(c,l),null,null,!0,r,i)}return Tl()}function jp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pp(t){var e=new Dl(t[0],t[1]);return Ll.fromTimestamp(e)}function Rp(t){var e=t.toTimestamp();return new Wd(e.seconds,e.nanoseconds)}function Np(t){var e=new Dl(t.seconds,t.nanoseconds);return Ll.fromTimestamp(e)}function Dp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Id(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Id(t.Lt,e)}),o=Dl.fromMillis(e.localWriteTimeMs);return new Sp(e.batchId,o,n,i)}function Lp(t){var e,n,r=Np(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Np(t.lastLimboFreeSnapshotVersion):Ll.min();return void 0!==t.query.documents?(Il(1===(n=t.query).documents.length),e=Kh(qh(kd(n.documents[0])))):e=function(t){return Kh(jd(t))}(t.query),new Tp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Yl.fromBase64String(t.resumeToken))}function Fp(t,e){var n,r=Rp(e.snapshotVersion),i=Rp(e.lastLimboFreeSnapshotVersion);n=Oh(e.target)?xd(t.Lt,e.target):Ad(t.Lt,e.target);var o=e.resumeToken.toBase64();return new np(e.targetId,wh(e.target),r,o,e.sequenceNumber,i,n)}function Mp(t){var e=jd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gh(e,e.limit,"L"):e}var Up=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Vp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Np(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Vp(t).put({bundleId:(n=e).id,createTime:Rp(yd(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return qp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Mp(e.bundledQuery),readTime:Np(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return qp(t).put(function(t){return{name:t.name,readTime:Rp(yd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Vp(t){return Cp(t,sp.store)}function qp(t){return Cp(t,up.store)}var Bp=function(){function t(){this.Bt=new Hp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),dp.resolve()},t.prototype.getCollectionParents=function(t,e){return dp.resolve(this.Bt.getEntries(e))},t}(),Hp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Hf(ql.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Hf(ql.comparator)).toArray()},t}(),zp=function(){function t(){this.qt=new Hp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Hd(i)};return Yp(t).put(o)}return dp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Nl(e),""],!1,!0);return Yp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Xd(o.parent))}return n})},t}();function Yp(t){return Cp(t,op.store)}var Xp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Kp(t,e,n){var r=t.store(Qd.store),i=t.store(Jd.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){Il(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Jd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return dp.waitFor(o).next(function(){return c})}function Gp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Tl();e=t.noDocument}return JSON.stringify(e).length}Wp.DEFAULT_COLLECTION_PERCENTILE=10,Wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wp.DEFAULT=new Wp(41943040,Wp.DEFAULT_COLLECTION_PERCENTILE,Wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wp.DISABLED=new Wp(-1,0,0);var Qp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Il(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zp(t).Ot({index:Qd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=$p(t),a=Zp(t);return a.add({}).next(function(s){Il("number"==typeof s);for(var u=new Sp(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Td(t.Lt,e)}),i=n.mutations.map(function(e){return Td(t.Lt,e)});return new Qd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Hf(function(t,e){return Pl(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=Jd.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Jd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[s]=u.keys()}),dp.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Zp(t).get(e).next(function(t){return t?(Il(t.userId===n.userId),Dp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?dp.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Zp(t).Ot({index:Qd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Il(e.batchId>=r),o=Dp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Zp(t).Ot({index:Qd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zp(t).Nt(Qd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Dp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Jd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return $p(t).Ot({range:i},function(r,i,a){var s=r[0],u=r[2],c=Xd(r[1]);if(s===n.userId&&e.path.isEqual(c))return Zp(t).get(u).next(function(t){if(!t)throw Tl();Il(t.userId===n.userId),o.push(Dp(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Hf(Pl),i=[];return e.forEach(function(e){var o=Jd.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=$p(t).Ot({range:a},function(t,i,o){var a=t[0],s=t[2],u=Xd(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),dp.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Jd.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Hf(Pl);return $p(t).Ot({range:a},function(t,e,o){var a=t[0],u=t[2],c=Xd(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Zp(t).get(e).next(function(t){if(null===t)throw Tl();Il(t.userId===n.userId),r.push(Dp(n.R,t))}))}),dp.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),dp.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return dp.resolve();var r=IDBKeyRange.lowerBound(Jd.prefixForUser(e.userId)),i=[];return $p(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=Xd(t[1]);i.push(o)}else r.done()}).next(function(){Il(0===i.length)})})},t.prototype.containsKey=function(t,e){return Jp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return tv(t).get(this.userId).next(function(t){return t||new Gd(e.userId,-1,"")})},t}();function Jp(t,e,n){var r=Jd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return $p(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function Zp(t){return Cp(t,Qd.store)}function $p(t){return Cp(t,Jd.store)}function tv(t){return Cp(t,Gd.store)}var ev=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),nv=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new ev(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Ll.fromTimestamp(new Dl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return rv(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Il(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return rv(t).Ot(function(a,s){var u=Lp(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return dp.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return rv(t).Ot(function(t,n){var r=Lp(n);e(r)})},t.prototype.Xt=function(t){return iv(t).get(ip.key).next(function(t){return Il(null!==t),t})},t.prototype.Zt=function(t,e){return iv(t).put(ip.key,e)},t.prototype.te=function(t,e){return rv(t).put(Fp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=wh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rv(t).Ot({range:r,index:np.queryTargetsIndexName},function(t,n,r){var o=Lp(n);kh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ov(t);return e.forEach(function(e){var a=Hd(e.path);i.push(o.put(new rp(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),dp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ov(t);return dp.forEach(e,function(e){var o=Hd(e.path);return dp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ov(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ov(t),i=Zf();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Xd(t[1]),o=new nh(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Hd(e.path),r=IDBKeyRange.bound([n],[Nl(n)],!1,!0),i=0;return ov(t).Ot({index:rp.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return rv(t).get(e).next(function(t){return t?Lp(t):null})},t}();function rv(t){return Cp(t,np.store)}function iv(t){return Cp(t,ip.store)}function ov(t){return Cp(t,rp.store)}function av(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){if(t.code!==bl.FAILED_PRECONDITION||t.message!==lp)throw t;return Ol("LocalStore","Unexpectedly lost primary lease"),[2]})})}function sv(t,e){var n=t[1],r=e[1],i=Pl(t[0],e[0]);return 0===i?Pl(n,r):i}var uv=function(){function t(t){this.ne=t,this.buffer=new Hf(sv),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();sv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),cv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ol("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(gl.b)(e,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return mp(e=n.sent())?(Ol("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,av(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),lv=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return dp.resolve(ml.o);var r=new uv(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ol("LruGarbageCollector","Garbage collection skipped; disabled"),dp.resolve(Xp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ol("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Xp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ol("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),kl()<=va.a.DEBUG&&Ol("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),dp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),hv=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new lv(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return fv(t,n)},t.prototype.removeReference=function(t,e,n){return fv(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return fv(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return tv(t).$t(function(r){return Jp(t,r,e).next(function(t){return t&&(n=!0),dp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),ov(t).delete([0,Hd(a.path)])})});i.push(u)}}).next(function(){return dp.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return fv(t,e)},t.prototype.we=function(t,e){var n,r=ov(t),i=ml.o;return r.Ot({index:rp.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==ml.o&&e(new nh(Xd(n)),i),i=a,n=o):i=ml.o}).next(function(){i!==ml.o&&e(new nh(Xd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function fv(t,e){return ov(t).put(function(t,e){return new rp(0,Hd(t.path),e)}(e,t.currentSequenceNumber))}var dv=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ml(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Ul(this.inner)},t}(),pv=function(){function t(){this.changes=new dv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ll.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:mh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?dp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),vv=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return mv(t).put(bv(e),n)},t.prototype.removeEntry=function(t,e){var n=mv(t),r=bv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return mv(t).get(bv(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return mv(t).get(bv(e)).next(function(t){return{document:n.ye(e,t),size:Gp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Xf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Xf(),i=new Vf(nh.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Gp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return dp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return mv(t).Ot({range:r},function(t,e,r){for(var a=nh.fromSegments(t);o&&nh.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Xf(),o=e.path.length+1,a={};if(n.isEqual(Ll.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=jp(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=tp.collectionReadTimeIndex}return mv(t).Ot(a,function(t,n,a){if(t.length===o){var s=xp(r.R,n);e.path.isPrefixOf(s.key.path)?$h(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new yv(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return gv(t).get(ep.key).next(function(t){return Il(!!t),t})},t.prototype.me=function(t,e){return gv(t).put(ep.key,e)},t.prototype.ye=function(t,e){if(e){var n=xp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ll.min()))return n}return mh.newInvalidDocument(t)},t}(),yv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new dv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(gl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Hf(function(t,e){return Pl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Ap(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Gp(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Ap(e.Ie.R,mh.newNoDocument(o,Ll.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),dp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(pv);function gv(t){return Cp(t,ep.store)}function mv(t){return Cp(t,tp.store)}function bv(t){return t.path.toArray()}var _v=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Il(n<r&&n>=0&&r<=11);var o=new pp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Kd.store)}(t),function(t){t.createObjectStore(Gd.store,{keyPath:Gd.keyPath}),t.createObjectStore(Qd.store,{keyPath:Qd.keyPath,autoIncrement:!0}).createIndex(Qd.userMutationsIndex,Qd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Jd.store)}(t),wv(t),function(t){t.createObjectStore(tp.store)}(t));var a=dp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(rp.store),t.deleteObjectStore(np.store),t.deleteObjectStore(ip.store)}(t),wv(t)),a=a.next(function(){return function(t){var e=t.store(ip.store),n=new ip(0,0,Ll.min().toTimestamp(),0);return e.put(ip.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Qd.store).Nt().next(function(n){t.deleteObjectStore(Qd.store),t.createObjectStore(Qd.store,{keyPath:Qd.keyPath,autoIncrement:!0}).createIndex(Qd.userMutationsIndex,Qd.userMutationsKeyPath,{unique:!0});var r=e.store(Qd.store),i=n.map(function(t){return r.put(t)});return dp.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(ap.store,{keyPath:ap.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(ep.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(tp.store);e.createIndex(tp.readTimeIndex,tp.readTimeIndexPath,{unique:!1}),e.createIndex(tp.collectionReadTimeIndex,tp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(sp.store,{keyPath:sp.keyPath})}(t),function(t){t.createObjectStore(up.store,{keyPath:up.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(tp.store).Ot(function(t,n){e+=Gp(n)}).next(function(){var n=new ep(e);return t.store(ep.store).put(ep.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Gd.store),r=t.store(Qd.store);return n.Nt().next(function(n){return dp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Qd.userMutationsIndex,i).next(function(r){return dp.forEach(r,function(r){Il(r.userId===n.userId);var i=Dp(e.R,r);return Kp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(rp.store),n=t.store(tp.store);return t.store(ip.store).get(ip.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new ql(n),a=function(t){return[0,Hd(t)]}(o);r.push(e.get(a).next(function(n){return n?dp.resolve():function(n){return e.put(new rp(0,Hd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return dp.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(op.store,{keyPath:op.keyPath});var n=e.store(op.store),r=new Hp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Hd(i)})}};return e.store(tp.store).Ot({kt:!0},function(t,e){var n=new ql(t);return i(n.popLast())}).next(function(){return e.store(Jd.store).Ot({kt:!0},function(t,e){var n=Xd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(np.store);return n.Ot(function(t,r){var i=Lp(r),o=Fp(e.R,i);return n.put(o)})},t}();function wv(t){t.createObjectStore(rp.store,{keyPath:rp.keyPath}).createIndex(rp.documentTargetsIndex,rp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(np.store,{keyPath:np.keyPath}).createIndex(np.queryTargetsIndexName,np.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ip.store)}var kv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ov=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new _l(bl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hv(this,i),this.Le=n+"main",this.R=new Ip(u),this.Be=new vp(this.Le,11,new _v(this.R)),this.qe=new nv(this.referenceDelegate,this.R),this.Ut=new zp,this.Ue=function(t,e){return new vv(t,e)}(this.R,this.Ut),this.Qe=new Up,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Cl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _l(bl.FAILED_PRECONDITION,kv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new ml(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(gl.b)(e,void 0,void 0,function(){return Object(gl.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(gl.b)(e,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(gl.b)(e,void 0,void 0,function(){return Object(gl.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Sv(e).put(new ap(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(mp(e))return Ol("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ol("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Cv(t).get(Kd.key).next(function(t){return dp.resolve(e.tn(t))})},t.prototype.en=function(t){return Sv(t).delete(this.clientId)},t.prototype.nn=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(gl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Cp(t,ap.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return dp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?dp.resolve(!0):Cv(t).get(Kd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new _l(bl.FAILED_PRECONDITION,kv);return!1}}return!(!e.networkEnabled||!e.inForeground)||Sv(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ol("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(gl.b)(this,void 0,void 0,function(){var t=this;return Object(gl.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Kd.store,ap.store],function(e){var n=new Op(e,ml.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Sv(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Qp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ol("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",cp,function(o){return r=new Op(o,i.Ne?i.Ne.next():ml.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Cl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new _l(bl.FAILED_PRECONDITION,lp);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Cv(t).get(Kd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _l(bl.FAILED_PRECONDITION,kv)})},t.prototype.Ze=function(t){var e=new Kd(this.clientId,this.allowTabSynchronization,Date.now());return Cv(t).put(Kd.key,e)},t.yt=function(){return vp.yt()},t.prototype.Xe=function(t){var e=this,n=Cv(t);return n.get(Kd.key).next(function(t){return e.tn(t)?(Ol("IndexedDbPersistence","Releasing primary lease."),n.delete(Kd.key)):dp.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Cl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Ol("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Cl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Cv(t){return Cp(t,Kd.store)}function Sv(t){return Cp(t,ap.store)}function Ev(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tv=function(t,e){this.progress=t,this.wn=e},Iv=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return nh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Xh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new nh(e)).next(function(t){var e=Kf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Kf();return this.Ut.getCollectionParents(t,i).next(function(a){return dp.forEach(a,function(a){var s=function(t,e){return new Uh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=mh.newInvalidDocument(c),r=r.insert(c,l)),Cf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){$h(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Zf(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof xf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),xv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Zf(),i=Zf(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Av=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ll.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Bh(e)||Hh(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(kl()<=va.a.DEBUG&&Ol("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Zh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Hf(tf(t));return e.forEach(function(e,r){$h(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return kl()<=va.a.DEBUG&&Ol("QueryEngine","Using full collection scan to execute query:",Zh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ll.min())},t}(),jv=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Vf(Pl),this.kn=new dv(function(t){return wh(t)},kh),this.On=Ll.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Iv(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Pv(t,e,n,r){return new jv(t,e,n,r)}function Rv(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(gl.d)(this,function(a){switch(a.label){case 0:return n=xl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Iv(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Zf(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Nv(t,e){var n=xl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=dp.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Il(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Dv(t){var e=xl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Lv(t,e){var n=xl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Il(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=Xf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Fv(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(Ll.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return dp.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.Fn=i,t})}function Fv(t,e,n,r,i){var o=Zf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Xf();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ll.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Ol("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Mv(t,e){var n=xl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Uv(t,e){var n=xl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?dp.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Tp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Vv(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(gl.d)(this,function(s){switch(s.label){case 0:r=xl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!mp(a=s.sent()))throw a;return Ol("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function qv(t,e,n){var r=xl(t),i=Ll.min(),o=Zf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=xl(t),i=r.kn.get(n);return void 0!==i?dp.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Kh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ll.min(),n?o:Zf())}).next(function(t){return{documents:t,Bn:o}})})}function Bv(t,e){var n=xl(t),r=xl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Hv(t){var e=xl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=xl(t),i=Xf(),o=jp(n),a=mv(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:tp.readTimeIndex,range:s},function(t,e){var n=xp(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Pp(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function zv(t){return Object(gl.b)(this,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){return[2,(e=xl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=mv(t),n=Ll.min();return e.Ot({index:tp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Pp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Yv(t,e,n,r){return Object(gl.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return Object(gl.d)(this,function(p){switch(p.label){case 0:for(i=xl(t),o=Zf(),a=Xf(),s=Qf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Uv(i,function(t){return Kh(qh(ql.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Fv(t,f,a,Ll.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Xv(t,e,n){return void 0===n&&(n=Zf()),Object(gl.b)(this,void 0,void 0,function(){var r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return[4,Uv(t,Kh(Mp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=xl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=yd(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(Yl.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Wv=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return dp.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:yd(n.createTime)}),dp.resolve()},t.prototype.getNamedQuery=function(t,e){return dp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Mp(t.bundledQuery),readTime:yd(t.readTime)}}(e)),dp.resolve()},t}(),Kv=function(){function t(){this.Wn=new Hf(Gv.Gn),this.zn=new Hf(Gv.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gv(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Gv(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new nh(new ql([])),r=new Gv(n,t),i=new Gv(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new nh(new ql([])),n=new Gv(e,t),r=new Gv(e,t+1),i=Zf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Gv(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gv=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return nh.comparator(t.key,e.key)||Pl(t.ns,e.ns)},t.Hn=function(t,e){return Pl(t.ns,e.ns)||nh.comparator(t.key,e.key)},t}(),Qv=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Hf(Gv.Gn)}return t.prototype.checkEmpty=function(t){return dp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Sp(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Gv(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return dp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return dp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return dp.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return dp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return dp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Gv(e,0),i=new Gv(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),dp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Hf(Pl);return e.forEach(function(t){var e=new Gv(t,0),i=new Gv(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),dp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;nh.isDocumentKey(i)||(i=i.child(""));var o=new Gv(new nh(i),0),a=new Hf(Pl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),dp.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Il(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return dp.forEach(e.mutations,function(i){var o=new Gv(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Gv(e,0),r=this.rs.firstAfterOrEqual(n);return dp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return dp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Jv=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Vf(nh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return dp.resolve(n?n.document.clone():mh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Xf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():mh.newInvalidDocument(t))}),dp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Xf(),i=new nh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||$h(e,u)&&(r=r.insert(u.key,u.clone()))}return dp.resolve(r)},t.prototype.fs=function(t,e){return dp.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Zv(this)},t.prototype.getSize=function(t){return dp.resolve(this.size)},t}(),Zv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(gl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),dp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(pv),$v=function(){function t(t){this.persistence=t,this.ds=new dv(function(t){return wh(t)},kh),this.lastRemoteSnapshotVersion=Ll.min(),this.highestTargetId=0,this.ws=0,this._s=new Kv,this.targetCount=0,this.ys=ev.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),dp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return dp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return dp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),dp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),dp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ev(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,dp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),dp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,dp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),dp.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return dp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return dp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),dp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),dp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),dp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return dp.resolve(n)},t.prototype.containsKey=function(t,e){return dp.resolve(this._s.containsKey(e))},t}(),ty=function(){function t(t,e){var n=this;this.gs={},this.Ne=new ml(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new $v(this),this.Ut=new Bp,this.Ue=function(t,e){return new Jv(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Ip(e),this.Qe=new Wv(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Qv(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ol("MemoryPersistence","Starting transaction:",t);var i=new ey(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return dp.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),ey=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(gl.c)(e,t),e}(hp),ny=function(){function t(t){this.persistence=t,this.As=new Kv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Tl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),dp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),dp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),dp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dp.forEach(this.vs,function(r){var i=nh.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return dp.or([function(){return dp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ry=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function iy(t,e){return"firestore_clients_"+t+"_"+e}function oy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ay(t,e){return"firestore_targets_"+t+"_"+e}ry.UNAUTHENTICATED=new ry(null),ry.GOOGLE_CREDENTIALS=new ry("google-credentials-uid"),ry.FIRST_PARTY=new ry("first-party-uid");var sy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new _l(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Cl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),uy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new _l(i.error.code,i.error.message)),o?new t(e,i.state,r):(Cl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),cy=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=td(),a=0;i&&a<r.activeTargetIds.length;++a)i=eh(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Cl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ly=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Cl("SharedClientState","Failed to parse online state: "+e),null)},t}(),hy=function(){function t(){this.activeTargetIds=td()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),fy=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Vf(Pl),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=iy(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new hy),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(gl.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(iy(this.persistenceKey,r)))&&(o=cy.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ay(this.persistenceKey,t));if(n){var r=uy.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ay(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ol("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ol("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ol("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ol("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Cl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(gl.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(gl.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=ml.o;if(null!=t)try{var n=JSON.parse(t);Il("number"==typeof n),e=n}catch(t){Cl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ml.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new sy(this.currentUser,t,e,n),i=oy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=oy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=ay(this.persistenceKey,t),i=new uy(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return cy.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return sy.Vs(new ry(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return uy.Vs(r,e)},t.prototype.js=function(t){return ly.Vs(t)},t.prototype.ii=function(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ol("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=td();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),dy=function(){function t(){this.li=new hy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new hy,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),py=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),vy=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ol("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ol("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gy=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),my=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(gl.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new yl;a.listenOnce(dl.COMPLETE,function(){try{switch(a.getLastErrorCode()){case fl.NO_ERROR:var e=a.getResponseJson();Ol("Connection","XHR received:",JSON.stringify(e)),i(e);break;case fl.TIMEOUT:Ol("Connection",'RPC "'+t+'" timed out'),o(new _l(bl.DEADLINE_EXCEEDED,"Request time out"));break;case fl.HTTP_ERROR:var n=a.getStatus();if(Ol("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(bl).indexOf(e)>=0?e:bl.UNKNOWN}(r.status);o(new _l(s,r.message))}else o(new _l(bl.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new _l(bl.UNAVAILABLE,"Connection failed."));break;default:Tl()}}finally{Ol("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new sl,i=lu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(pa.v)()||Object(pa.y)()||Object(pa.s)()||Object(pa.u)()||Object(pa.z)()||Object(pa.r)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ol("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new gy({Ei:function(t){c?Ol("Connection","Not sending because WebChannel is closed:",t):(u||(Ol("Connection","Opening WebChannel transport."),s.open(),u=!0),Ol("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,vl.EventType.OPEN,function(){c||Ol("Connection","WebChannel transport opened.")}),h(s,vl.EventType.CLOSE,function(){c||(c=!0,Ol("Connection","WebChannel transport closed"),l.Vi())}),h(s,vl.EventType.ERROR,function(t){c||(c=!0,Sl("Connection","WebChannel transport errored:",t),l.Vi(new _l(bl.UNAVAILABLE,"The operation could not be completed")))}),h(s,vl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Il(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ol("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Rf[t];if(void 0!==e)return Uf(e)}(i),a=r.message;void 0===o&&(o=bl.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new _l(o,a)),s.close()}else Ol("Connection","WebChannel received:",n),l.Si(n)}}),h(i,pl.STAT_EVENT,function(t){10===t.stat?Ol("Connection","Detected buffering proxy"):11===t.stat&&Ol("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ol("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Ol("RestConnection","Received: ",t),t},function(e){throw Sl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+yy[t]},t}());function by(){return"undefined"!=typeof window?window:null}function _y(){return"undefined"!=typeof document?document:null}function wy(t){return new fd(t,!0)}var ky=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Ol("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Oy=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ky(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===bl.RESOURCE_EXHAUSTED?(Cl(e.toString()),Cl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===bl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new _l(bl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(gl.b)(t,void 0,void 0,function(){return Object(gl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ol("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ol("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Cy=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(gl.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Tl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Il(void 0===e||"string"==typeof e),Yl.fromBase64String(e||"")):(Il(void 0===e||e instanceof Uint8Array),Yl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?bl.UNKNOWN:Uf(t.code);return new _l(e,t.message||"")}(s);n=new od(r,i,o,a||null)}else if("documentChange"in e){i=_d(t,(r=e.documentChange).document.name),o=yd(r.document.updateTime);var s=new yh({mapValue:{fields:r.document.fields}}),u=(a=mh.newFoundDocument(i,o,s),r.targetIds||[]);n=new rd(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=_d(t,(r=e.documentDelete).document),o=r.readTime?yd(r.readTime):Ll.min(),s=mh.newNoDocument(i,o),n=new rd([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=_d(t,(r=e.documentRemove).document),n=new rd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Tl();var c=e.filter;i=new Ff(r=c.count||0),n=new id(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ll.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ll.min():e.readTime?yd(e.readTime):Ll.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Od(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Oh(r)?{documents:xd(t,r)}:{query:Ad(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=pd(t,e.resumeToken):e.snapshotVersion.compareTo(Ll.min())>0&&(n.readTime=dd(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Od(this.R),e.removeTarget=t,this.cr(e)},e}(Oy),Sy=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(gl.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Il(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Il(void 0!==e),t.map(function(t){return function(t,e){var n=yd(t.updateTime?t.updateTime:e);return n.isEqual(Ll.min())&&(n=yd(e)),new bf(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=yd(t.commitTime);return this.listener.Tr(n,e)}return Il(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Od(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Td(e.R,t)})};this.cr(n)},e}(Oy),Ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(gl.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new _l(bl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===bl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===bl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),Ty=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Cl(e),this.Vr=!1):Ol("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Iy=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(gl.b)(o,void 0,void 0,function(){return Object(gl.d)(this,function(t){switch(t.label){case 0:return Fy(this)?(Ol("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(gl.b)(this,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return(e=xl(t)).$r.add(4),[4,Ay(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,xy(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Ty(n,r)};function xy(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:if(!Fy(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ay(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function jy(t,e){var n=xl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Ly(n)?Dy(n):Zy(n).er()&&Ry(n,e))}function Py(t,e){var n=xl(t),r=Zy(n);n.Or.delete(e),r.er()&&Ny(n,e),0===n.Or.size&&(r.er()?r.ir():Fy(n)&&n.Br.set("Unknown"))}function Ry(t,e){t.qr.U(e.targetId),Zy(t).mr(e)}function Ny(t,e){t.qr.U(e),Zy(t).yr(e)}function Dy(t){t.qr=new sd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Zy(t).start(),t.Br.Sr()}function Ly(t){return Fy(t)&&!Zy(t).tr()&&t.Or.size>0}function Fy(t){return 0===xl(t).$r.size}function My(t){t.qr=void 0}function Uy(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){return t.Or.forEach(function(e,n){Ry(t,e)}),[2]})})}function Vy(t,e){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(n){return My(t),Ly(t)?(t.Br.Nr(e),Dy(t)):t.Br.set("Unknown"),[2]})})}function qy(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o;return Object(gl.d)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof od&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(gl.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ol("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,By(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof rd?t.qr.X(e):e instanceof id?t.qr.rt(e):t.qr.et(e),n.isEqual(Ll.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Dv(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Yl.EMPTY_BYTE_STRING,n.snapshotVersion)),Ny(t,e);var r=new Tp(n.target,e,1,n.sequenceNumber);Ry(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ol("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,By(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function By(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r=this;return Object(gl.d)(this,function(i){switch(i.label){case 0:if(!mp(e))throw e;return t.$r.add(1),[4,Ay(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Dv(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(gl.b)(r,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return Ol("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,xy(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Hy(t,e){return e().catch(function(n){return By(t,n,e)})}function zy(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(gl.d)(this,function(a){switch(a.label){case 0:e=xl(t),n=$y(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Fy(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Mv(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=$y(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,By(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Yy(e)&&Xy(e),[2]}})})}function Yy(t){return Fy(t)&&!$y(t).tr()&&t.kr.length>0}function Xy(t){$y(t).start()}function Wy(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){return $y(t).Ar(),[2]})})}function Ky(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n,r;return Object(gl.d)(this,function(i){for(e=$y(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Gy(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Ep.from(r,e,n),[4,Hy(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,zy(t)];case 2:return o.sent(),[2]}})})}function Qy(t,e){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(n){switch(n.label){case 0:return e&&$y(t).pr?[4,function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r;return Object(gl.d)(this,function(i){switch(i.label){case 0:return Mf(r=e.code)&&r!==bl.ABORTED?(n=t.kr.shift(),$y(t).sr(),[4,Hy(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,zy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Yy(t)&&Xy(t),[2]}})})}function Jy(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return n=xl(t),e?(n.$r.delete(2),[4,xy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Ay(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zy(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=xl(t);return r.br(),new Cy(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Uy.bind(null,t),Ri:Vy.bind(null,t),_r:qy.bind(null,t)}),t.Mr.push(function(n){return Object(gl.b)(e,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Ly(t)?Dy(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),My(t),e.label=3;case 3:return[2]}})})})),t.Ur}function $y(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=xl(t);return r.br(),new Sy(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Wy.bind(null,t),Ri:Qy.bind(null,t),Ir:Ky.bind(null,t),Tr:Gy.bind(null,t)}),t.Mr.push(function(n){return Object(gl.b)(e,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,zy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Ol("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var tg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _l(bl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function eg(t,e){if(Cl("AsyncQueue",e+": "+t),mp(t))return new _l(bl.UNAVAILABLE,e+": "+t);throw t}var ng=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||nh.comparator(e.key,n.key)}:function(t,e){return nh.comparator(t.key,e.key)},this.keyedMap=Kf(),this.sortedSet=new Vf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),rg=function(){function t(){this.Kr=new Vf(nh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Tl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),ig=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ng.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),og=function(){this.Wr=void 0,this.listeners=[]},ag=function(){this.queries=new dv(function(t){return Jh(t)},Qh),this.onlineState="Unknown",this.Gr=new Set};function sg(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(gl.d)(this,function(c){switch(c.label){case 0:if(n=xl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new og),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=eg(s,"Initialization of query '"+Zh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&hg(n),[2]}})})}function ug(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(gl.d)(this,function(s){return n=xl(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function cg(t,e){for(var n=xl(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&hg(n)}function lg(t,e,n){var r=xl(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function hg(t){t.Gr.forEach(function(t){t.next()})}var fg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ig(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ig.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),dg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),pg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return _d(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ed(this.R,t.document,!1):mh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return yd(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new pg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Zf()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return[4,Yv(this.localStore,new pg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Xv(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Tv(Object.assign({},this.progress),t))]}})})}}();var vg=function(t){this.key=t},yg=function(t){this.key=t},gg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Zf(),this.mutatedKeys=Zf(),this.lo=tf(t),this.fo=new ng(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new rg,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Bh(this.query)&&i.size===this.query.limit?i.last():null,c=Hh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=$h(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Bh(this.query)||Hh(this.query))for(;a.size>this.query.limit;){var l=Bh(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new ig(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new rg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Zf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new yg(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new vg(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Zf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ig.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),mg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},bg=function(t){this.key=t,this.bo=!1},_g=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new dv(function(t){return Jh(t)},Qh),this.Vo=new Map,this.So=new Set,this.Do=new Vf(nh.comparator),this.Co=new Map,this.No=new Kv,this.xo={},this.Fo=new Map,this.ko=ev.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function wg(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(gl.d)(this,function(s){switch(s.label){case 0:return n=Qg(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Uv(n.localStore,Kh(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,kg(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&jy(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function kg(t,e,n,r){return Object(gl.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(gl.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(gl.b)(this,void 0,void 0,function(){var i,o,a;return Object(gl.d)(this,function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,qv(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Dg(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,qv(t.localStore,e,!0)];case 1:return i=l.sent(),o=new gg(e,i.Bn),a=o._o(i.documents),s=nd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Dg(t,n,u.To),c=new mg(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Og(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return n=xl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Qh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Vv(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Py(n.remoteStore,r.targetId),Rg(n,r.targetId)}).catch(av)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rg(n,r.targetId),[4,Vv(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Cg(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(gl.d)(this,function(s){switch(s.label){case 0:r=Jg(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=xl(t),i=Dl.now(),o=e.reduce(function(t,e){return t.add(e.key)},Zf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Sf(c,n.get(c.key));null!=l&&a.push(new xf(c.key,l,gh(l.toProto().mapValue),_f.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Vf(Pl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Mg(r,i.changes)];case 3:return s.sent(),[4,zy(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=eg(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Sg(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r;return Object(gl.d)(this,function(i){switch(i.label){case 0:n=xl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Lv(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Il(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Il(r.bo):t.removedDocuments.size>0&&(Il(r.bo),r.bo=!1))}),[4,Mg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,av(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Eg(t,e,n){var r=xl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=xl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&hg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tg(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(gl.d)(this,function(c){switch(c.label){case 0:return(r=xl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Vf(nh.comparator)).insert(o,mh.newNoDocument(o,Ll.min())),s=Zf().add(o),u=new ed(Ll.min(),new Map,new Hf(Pl),a,s),[4,Sg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Fg(r),[3,4];case 2:return[4,Vv(r.localStore,e,!1).then(function(){return Rg(r,e,n)}).catch(av)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Ig(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:n=xl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Nv(n.localStore,e)];case 2:return i=o.sent(),Pg(n,r,null),jg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Mg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,av(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function xg(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:r=xl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=xl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Il(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Pg(r,e,n),jg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Mg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,av(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ag(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(gl.d)(this,function(s){switch(s.label){case 0:Fy((n=xl(t)).remoteStore)||Ol("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=xl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=eg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function jg(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Pg(t,e,n){var r=xl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Rg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ng(t,e)})}function Ng(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Py(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Fg(t))}function Dg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof vg?(t.No.addReference(o.key,e),Lg(t,o)):o instanceof yg?(Ol("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ng(t,o.key)):Tl()}}function Lg(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ol("SyncEngine","New document in limbo: "+n),t.So.add(r),Fg(t))}function Fg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new nh(ql.fromString(e)),r=t.ko.next();t.Co.set(r,new bg(n)),t.Do=t.Do.insert(n,r),jy(t.remoteStore,new Tp(Kh(qh(n.path)),r,2,ml.o))}}function Mg(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(gl.d)(this,function(s){switch(s.label){case 0:return r=xl(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.$o(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=xv.Pn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(gl.d)(this,function(l){switch(l.label){case 0:n=xl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return dp.forEach(e,function(e){return dp.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return dp.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!mp(r=l.sent()))throw r;return Ol("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Ug(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r;return Object(gl.d)(this,function(i){switch(i.label){case 0:return(n=xl(t)).currentUser.isEqual(e)?[3,3]:(Ol("SyncEngine","User change. New user:",e.toKey()),[4,Rv(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new _l(bl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Mg(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Vg(t,e){var n=xl(t),r=n.Co.get(e);if(r&&r.bo)return Zf().add(r.key);var i=Zf(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function qg(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return[4,qv((n=xl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Dg(n,e.targetId,i.To),i)]}})})}function Bg(t){return Object(gl.b)(this,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){return[2,Hv((e=xl(t)).localStore).then(function(t){return Mg(e,t)})]})})}function Hg(t,e,n,r){return Object(gl.b)(this,void 0,void 0,function(){var i,o;return Object(gl.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=xl(t),r=xl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):dp.resolve(null)})})}((i=xl(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,zy(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Pg(i,e,r||null),jg(i,e),function(t,e){xl(xl(t)._n).Gt(e)}(i.localStore,e)):Tl(),a.label=4;case 4:return[4,Mg(i,o)];case 5:return a.sent(),[3,7];case 6:Ol("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function zg(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(gl.d)(this,function(c){switch(c.label){case 0:return Qg(n=xl(t)),Jg(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Yg(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Jy(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)jy(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return Rg(n,e),Vv(n.localStore,e,!0)}),Py(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Yg(n,s)];case 5:return c.sent(),function(t){var e=xl(t);e.Co.forEach(function(t,n){Py(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Vf(nh.comparator)}(n),n.Oo=!1,[4,Jy(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Yg(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(gl.d)(this,function(v){switch(v.label){case 0:n=xl(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Uv(n.localStore,Kh(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,qg(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Bv(n.localStore,s)];case 8:return p=v.sent(),[4,Uv(n.localStore,p)];case 9:return u=v.sent(),[4,kg(n,Xg(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Xg(t){return Vh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Wg(t){var e=xl(t);return xl(xl(e.localStore).persistence).fn()}function Kg(t,e,n,r){return Object(gl.b)(this,void 0,void 0,function(){var i,o,a;return Object(gl.d)(this,function(s){switch(s.label){case 0:return(i=xl(t)).Oo?(Ol("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Hv(i.localStore)];case 3:return o=s.sent(),a=ed.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Mg(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Vv(i.localStore,e,!0)];case 6:return s.sent(),Rg(i,e,r),[3,8];case 7:Tl(),s.label=8;case 8:return[2]}})})}function Gg(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return Object(gl.d)(this,function(f){switch(f.label){case 0:if(!(r=Qg(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Ol("SyncEngine","Adding an already active target "+a),[3,5]):[4,Bv(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Uv(r.localStore,s)];case 3:return u=f.sent(),[4,kg(r,Xg(s),u.targetId,!1)];case 4:f.sent(),jy(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(gl.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Vv(r.localStore,t,!1).then(function(){Py(r.remoteStore,t),Rg(r,t)}).catch(av)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Qg(t){var e=xl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tg.bind(null,e),e.vo._r=cg.bind(null,e.eventManager),e.vo.Mo=lg.bind(null,e.eventManager),e}function Jg(t){var e=xl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ig.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xg.bind(null,e),e}var Zg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return this.R=wy(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Pv(this.persistence,new Av,t.initialUser,this.R)},t.prototype.qo=function(t){return new ty(ny.bs,this.R)},t.prototype.Bo=function(t){return new dy},t.prototype.terminate=function(){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),$g=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(gl.c)(e,t),e.prototype.initialize=function(e){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,zv(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Jg(this.Ko.syncEngine)];case 4:return n.sent(),[4,zy(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Pv(this.persistence,new Av,t.initialUser,this.R)},e.prototype.Uo=function(t){return new cv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Ev(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wp.withCacheSize(this.cacheSizeBytes):Wp.DEFAULT;return new Ov(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,by(),_y(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new dy},e}(Zg),tm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(gl.c)(e,t),e.prototype.initialize=function(e){return Object(gl.b)(this,void 0,void 0,function(){var n,r=this;return Object(gl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof fy?(this.sharedClientState.syncEngine={ui:Hg.bind(null,n),ai:Kg.bind(null,n),hi:Gg.bind(null,n),fn:Wg.bind(null,n),ci:Bg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(gl.b)(r,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return[4,zg(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=by();if(!fy.yt(e))throw new _l(bl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ev(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new fy(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}($g),em=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n=this;return Object(gl.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Eg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ug.bind(null,this.syncEngine),[4,Jy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new ag},t.prototype.createDatastore=function(t){var e=wy(t.databaseInfo.databaseId),n=new my(t.databaseInfo);return function(t,e,n){return new Ey(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Eg(a.syncEngine,t,0)},o=vy.yt()?new vy:new py,new Iy(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new _g(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(gl.b)(this,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return e=xl(t),Ol("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Ay(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),nm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),rm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new fp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(gl.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new dg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(gl.b)(this,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n=this;return Object(gl.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _l(bl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(gl.d)(this,function(u){switch(u.label){case 0:return n=xl(t),r=Od(n.R)+"/documents",i={documents:e.map(function(t){return bd(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Il(!!e.found);var n=_d(t,e.found.name),r=yd(e.found.updateTime),i=new yh({mapValue:{fields:e.found.fields}});return mh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Il(!!e.missing),Il(!!e.readTime);var n=_d(t,e.missing),r=yd(e.readTime);return mh.newNoDocument(n,r)}(t,e):Tl()}(n.R,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Il(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Df(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e=this;return Object(gl.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=nh.fromPath(n);e.mutations.push(new Lf(r,e.precondition(r)))}),[4,function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return n=xl(t),r=Od(n.R)+"/documents",i={writes:e.map(function(t){return Td(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Tl();e=Ll.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _l(bl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_f.updateTime(e):_f.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ll.min()))throw new _l(bl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _f.updateTime(e)}return _f.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),im=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ky(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(gl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(gl.d)(this,function(r){return t=new rm(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!$l(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Mf(e)}return!1},t}(),om=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ry.UNAUTHENTICATED,this.clientId=jl.u(),this.credentialListener=function(){},this.receivedInitialUser=new fp,this.credentials.setChangeListener(function(t){Ol("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _l(bl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new fp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gl.b)(t,void 0,void 0,function(){var t,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=eg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function am(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(gl.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ol("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(gl.b)(i,void 0,void 0,function(){return Object(gl.d)(this,function(t){switch(t.label){case 0:return[4,Rv(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function sm(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r;return Object(gl.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,um(t)];case 1:return n=i.sent(),Ol("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r;return Object(gl.d)(this,function(i){switch(i.label){case 0:return(n=xl(t)).asyncQueue.verifyOperationInProgress(),Ol("RemoteStore","RemoteStore received new credentials"),r=Fy(n),n.$r.add(3),[4,Ay(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,xy(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function um(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ol("FirestoreClient","Using default OfflineComponentProvider"),[4,am(t,new Zg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function cm(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ol("FirestoreClient","Using default OnlineComponentProvider"),[4,sm(t,new em)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function lm(t){return um(t).then(function(t){return t.persistence})}function hm(t){return um(t).then(function(t){return t.localStore})}function fm(t){return cm(t).then(function(t){return t.remoteStore})}function dm(t){return cm(t).then(function(t){return t.syncEngine})}function pm(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return[4,cm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=wg.bind(null,e.syncEngine),n.onUnlisten=Og.bind(null,e.syncEngine),n)]}})})}function vm(t,e,n){var r=this;void 0===n&&(n={});var i=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(r,void 0,void 0,function(){var r;return Object(gl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nm({next:function(o){e.enqueueAndForget(function(){return ug(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new _l(bl.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new _l(bl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new fg(qh(n.path),o,{includeMetadataChanges:!0,so:!0});return sg(t,a)},[4,pm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function ym(t,e,n){var r=this;void 0===n&&(n={});var i=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(r,void 0,void 0,function(){var r;return Object(gl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nm({next:function(n){e.enqueueAndForget(function(){return ug(t,a)}),n.fromCache&&"server"===r.source?i.reject(new _l(bl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new fg(n,o,{includeMetadataChanges:!0,so:!0});return sg(t,a)},[4,pm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var gm=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},mm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bm=new Map,_m=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},wm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ry.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),km=function(){function t(t){var e=this;this.oc=null,this.currentUser=ry.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ol("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Il("string"==typeof n.accessToken),new _m(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Il(null===t||"string"==typeof t),new ry(t)},t}(),Om=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=ry.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Cm=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Om(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(ry.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Sm(t,e,n){if(!n)throw new _l(bl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Em(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _l(bl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Tm(t,e,n,r){if(!0===e&&!0===r)throw new _l(bl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Im(t){if(!nh.isDocumentKey(t))throw new _l(bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xm(t){if(nh.isDocumentKey(t))throw new _l(bl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Am(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Tl()}function jm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _l(bl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Am(t);throw new _l(bl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Pm(t,e){if(e<=0)throw new _l(bl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Rm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _l(bl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _l(bl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Tm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Nm=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Rm({}),this._settingsFrozen=!1,t instanceof mm?(this._databaseId=t,this._credentials=new wm):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _l(bl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mm(t.options.projectId)}(t),this._credentials=new km(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new _l(bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new _l(bl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rm(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new wm;switch(t.type){case"gapi":var e=t.client;return Il(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Cm(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new _l(bl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=bm.get(this))&&(Ol("ComponentProvider","Removing Datastore"),bm.delete(this),t.terminate()),Promise.resolve();var t},t}(),Dm=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Lm=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,qh(r))||this)._path=r,i.type="collection",i}return Object(gl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Dm(this.firestore,null,new nh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Lm);function Mm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(pa.n)(t),Sm("collection","path",e),t instanceof Nm)return xm(n=ql.fromString.apply(ql,Object(gl.f)([e],r))),new Fm(t,null,n);if(!(t instanceof Dm||t instanceof Fm))throw new _l(bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xm(n=ql.fromString.apply(ql,Object(gl.f)([t.path],r)).child(ql.fromString(e))),new Fm(t.firestore,null,n)}function Um(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(pa.n)(t),1===arguments.length&&(e=jl.u()),Sm("doc","path",e),t instanceof Nm)return Im(n=ql.fromString.apply(ql,Object(gl.f)([e],r))),new Dm(t,null,new nh(n));if(!(t instanceof Dm||t instanceof Fm))throw new _l(bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Im(n=t._path.child(ql.fromString.apply(ql,Object(gl.f)([e],r)))),new Dm(t.firestore,t instanceof Fm?t._converter:null,new nh(n))}function Vm(t,e){return t=Object(pa.n)(t),e=Object(pa.n)(e),(t instanceof Dm||t instanceof Fm)&&(e instanceof Dm||e instanceof Fm)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function qm(t,e){return t=Object(pa.n)(t),e=Object(pa.n)(e),t instanceof Lm&&e instanceof Lm&&t.firestore===e.firestore&&Qh(t._query,e._query)&&t._converter===e._converter}var Bm=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ky(this,"async_queue_retry"),this.Ec=function(){var e=_y();e&&Ol("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=_y();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=_y();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e=this;return Object(gl.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!mp(t=n.sent()))throw t;return Ol("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Cl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=tg.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Tl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(gl.b)(this,void 0,void 0,function(){var t;return Object(gl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Hm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new fp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Bm,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(gl.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Xm(this),this._firestoreClient.terminate()},e}(Nm);function Ym(t){return t._firestoreClient||Xm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Xm(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new gm(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new om(t._credentials,t._queue,r)}function Wm(t,e,n){var r=this,i=new fp;return t.asyncQueue.enqueue(function(){return Object(gl.b)(r,void 0,void 0,function(){var r;return Object(gl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,am(t,n)];case 1:return o.sent(),[4,sm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===bl.FAILED_PRECONDITION||t.code===bl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Km(t){if(t._initialized||t._terminated)throw new _l(bl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Gm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _l(bl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Qm=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Yl.fromBase64String(e))}catch(e){throw new _l(bl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Yl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Jm=function(t){this._methodName=t},Zm=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _l(bl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _l(bl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Pl(this._lat,t._lat)||Pl(this._long,t._long)},t}(),$m=/^__.*__$/,tb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new xf(t,this.data,this.fieldMask,e,this.fieldTransforms):new If(t,this.data,e,this.fieldTransforms)},t}(),eb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new xf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function nb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tl()}}var rb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Ob(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(nb(this.Dc)&&$m.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),ib=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||wy(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new rb({Dc:t,methodName:e,Lc:n,path:Hl.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ob(t){var e=t._freezeSettings(),n=wy(t._databaseId);return new ib(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ab(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);bb("Data must be an object, but it was:",a,r);var s,u,c=gb(r,a);if(o.merge)s=new zl(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=_b(e,f[h],n);if(!a.contains(d))throw new _l(bl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Cb(l,d)||l.push(d)}s=new zl(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new tb(new yh(c),s,u)}var sb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Jm);function ub(t,e,n){return new rb({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var cb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e.prototype._toFieldTransform=function(t){return new mf(t.path,new lf)},e.prototype.isEqual=function(t){return t instanceof e},e}(Jm),lb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(gl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ub(this,t,!0),n=this.qc.map(function(t){return yb(t,e)}),r=new hf(n);return new mf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jm),hb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(gl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ub(this,t,!0),n=this.qc.map(function(t){return yb(t,e)}),r=new df(n);return new mf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jm),fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(gl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new vf(t.R,of(t.R,this.Uc));return new mf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Jm);function db(t,e,n,r){var i=t.Bc(1,e,n);bb("Data must be an object, but it was:",i,r);var o=[],a=yh.empty();Ml(r,function(t,r){var s=kb(e,t,n);r=Object(pa.n)(r);var u=i.kc(s);if(r instanceof sb)o.push(s);else{var c=yb(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new zl(o);return new eb(a,s,i.fieldTransforms)}function pb(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[_b(e,r,n)],u=[i];if(o.length%2!=0)throw new _l(bl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(_b(e,o[c])),u.push(o[c+1]);for(var l=[],h=yh.empty(),f=s.length-1;f>=0;--f)if(!Cb(l,s[f])){var d=s[f],p=u[f];p=Object(pa.n)(p);var v=a.kc(d);if(p instanceof sb)l.push(d);else{var y=yb(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new zl(l);return new eb(h,g,a.fieldTransforms)}function vb(t,e,n,r){return void 0===r&&(r=!1),yb(n,t.Bc(r?4:3,e))}function yb(t,e){if(mb(t=Object(pa.n)(t)))return bb("Unsupported field value:",e,t),gb(t,e);if(t instanceof Jm)return function(t,e){if(!nb(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=yb(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(pa.n)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return of(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Dl.fromDate(t);return{timestampValue:dd(e.R,n)}}if(t instanceof Dl)return n=new Dl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:dd(e.R,n)};if(t instanceof Zm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qm)return{bytesValue:pd(e.R,t._byteString)};if(t instanceof Dm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Am(t))}(t,e)}function gb(t,e){var n={};return Ul(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ml(t,function(t,r){var i=yb(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function mb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Dl||t instanceof Zm||t instanceof Qm||t instanceof Dm||t instanceof Jm)}function bb(t,e,n){if(!mb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Am(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function _b(t,e,n){if((e=Object(pa.n)(e))instanceof Gm)return e._internalPath;if("string"==typeof e)return kb(t,e);throw Ob("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var wb=new RegExp("[~\\*/\\[\\]]");function kb(t,e,n){if(e.search(wb)>=0)throw Ob("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Gm.bind.apply(Gm,Object(gl.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Ob("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ob(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new _l(bl.INVALID_ARGUMENT,(s+=". ")+t+u)}function Cb(t,e){return t.some(function(t){return t.isEqual(e)})}var Sb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Dm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Eb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Tb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Eb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Sb);function Tb(t,e){return"string"==typeof e?kb(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}var Ib=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xb=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(gl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ab(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Tb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Sb),Ab=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(xb),jb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ib(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Ab(n._firestore,n._userDataWriter,r.key,r,new Ib(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _l(bl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Ab(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ib(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ab(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ib(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Pb(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Pb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tl()}}function Rb(t,e){return t instanceof xb&&e instanceof xb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jb&&e instanceof jb&&t._firestore===e._firestore&&qm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Nb(t){if(Hh(t)&&0===t.explicitOrderBy.length)throw new _l(bl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Db=function(){};function Lb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Fb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(gl.c)(e,t),e.prototype._apply=function(t){var e=ob(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new _l(bl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){zb(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Hb(r,t,l[c]));s={arrayValue:{values:u}}}else s=Hb(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zb(a,o),s=vb(n,"where",a,"in"===o||"not-in"===o);var h=Ch.create(i,o,s);return function(t,e){if(e.g()){var n=Yh(t);if(null!==n&&!n.isEqual(e.field))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=zh(t);null!==r&&Yb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new _l(bl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Lm(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Db),Mb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(gl.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dh(e,n);return function(t,e){if(null===zh(t)){var n=Yh(t);null!==n&&Yb(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Lm(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Uh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Db),Ub=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(gl.c)(e,t),e.prototype._apply=function(t){return new Lm(t.firestore,t._converter,Gh(t._query,this.Gc,this.zc))},e}(Db),Vb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(gl.c)(e,t),e.prototype._apply=function(t){var e=Bb(t,this.type,this.Hc,this.Jc);return new Lm(t.firestore,t._converter,function(t,e){return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Db),qb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(gl.c)(e,t),e.prototype._apply=function(t){var e=Bb(t,this.type,this.Hc,this.Jc);return new Lm(t.firestore,t._converter,function(t,e){return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Db);function Bb(t,e,n,r){if(n[0]=Object(pa.n)(n[0]),n[0]instanceof Sb)return function(t,e,n,r,i){if(!r)throw new _l(bl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Wh(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(lh(e,r.key));else{var c=r.data.field(u.field);if(Ql(c))throw new _l(bl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Rh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ob(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new _l(bl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Xh(t)&&-1!==c.indexOf("/"))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ql.fromString(c));if(!nh.isDocumentKey(l))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new nh(l);s.push(lh(e,h))}else{var f=vb(n,r,c);s.push(f)}}return new Rh(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Hb(t,e,n){if("string"==typeof(n=Object(pa.n)(n))){if(""===n)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xh(e)&&-1!==n.indexOf("/"))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ql.fromString(n));if(!nh.isDocumentKey(r))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return lh(t,new nh(r))}if(n instanceof Dm)return lh(t,n._key);throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Am(n)+".")}function zb(t,e){if(!Array.isArray(t)||0===t.length)throw new _l(bl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _l(bl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Yb(t,e,n){if(!n.isEqual(e))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Xb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),rh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Tl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Ml(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Zm(Kl(t.latitude),Kl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Jl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Zl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Wl(t);return new Dl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ql.fromString(t);Il(Bd(n));var r=new mm(n.get(1),n.get(3)),i=new nh(n.popFirst(5));return r.isEqual(e)||Cl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Wb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Kb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gl.c)(e,t),e.prototype.convertBytes=function(t){return new Qm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dm(this.firestore,null,e)},e}(Xb),Gb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ob(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Qb(t,this._firestore),i=Wb(r._converter,e,n),o=ab(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,_f.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Qb(t,this._firestore);return o="string"==typeof(e=Object(pa.n)(e))||e instanceof Gm?pb(this._dataReader,"WriteBatch.update",a._key,e,n,r):db(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,_f.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Qb(t,this._firestore);return this._mutations=this._mutations.concat(new Df(e._key,_f.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new _l(bl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Qb(t,e){if((t=Object(pa.n)(t)).firestore!==e)throw new _l(bl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Jb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gl.c)(e,t),e.prototype.convertBytes=function(t){return new Qm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dm(this.firestore,null,e)},e}(Xb);function Zb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jm(t,Dm);var o=jm(t.firestore,zm),a=ob(o);return t_(o,[("string"==typeof(e=Object(pa.n)(e))||e instanceof Gm?pb(a,"updateDoc",t._key,e,n,r):db(a,"updateDoc",t._key,e)).toMutation(t._key,_f.exists(!0))])}function $b(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(pa.n)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Hm(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Hm(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Dm)c=jm(t.firestore,zm),l=qh(t._key.path),u={next:function(e){i[s]&&i[s](e_(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=jm(t,Lm);c=jm(d.firestore,zm),l=d._query;var p=new Jb(c);u={next:function(t){i[s]&&i[s](new jb(c,p,d,t))},error:i[s+1],complete:i[s+2]},Nb(t._query)}return function(t,e,n,r){var i=this,o=new nm(r),a=new fg(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(i,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return e=sg,[4,pm(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(i,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return e=ug,[4,pm(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(Ym(c),l,h,u)}function t_(t,e){return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(n,void 0,void 0,function(){var n;return Object(gl.d)(this,function(i){switch(i.label){case 0:return n=Cg,[4,dm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ym(t),e)}function e_(t,e,n){var r=n.docs.get(e._key),i=new Jb(t);return new xb(t,i,e._key,r,new Ib(n.hasPendingWrites,n.fromCache),e._converter)}var n_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(gl.c)(e,t),e.prototype.get=function(e){var n=this,r=Qb(e,this._firestore),i=new Jb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new xb(n._firestore,i,r._key,t._document,new Ib(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ob(t)}return t.prototype.get=function(t){var e=this,n=Qb(t,this._firestore),r=new Kb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Tl();var i=t[0];if(i.isFoundDocument())return new Sb(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Sb(e._firestore,r,n._key,null,n._converter);throw Tl()})},t.prototype.set=function(t,e,n){var r=Qb(t,this._firestore),i=Wb(r._converter,e,n),o=ab(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Qb(t,this._firestore);return o="string"==typeof(e=Object(pa.n)(e))||e instanceof Gm?pb(this._dataReader,"Transaction.update",a._key,e,n,r):db(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Qb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function r_(){if("undefined"==typeof Uint8Array)throw new _l(bl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function i_(){if("undefined"==typeof atob)throw new _l(bl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var o_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return i_(),new t(Qm.fromBase64String(e))},t.fromUint8Array=function(e){return r_(),new t(Qm.fromUint8Array(e))},t.prototype.toBase64=function(){return i_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return r_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),a_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Km(t=jm(t,zm));var n=Ym(t),r=t._freezeSettings(),i=new em;return Wm(n,i,new $g(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Km(t=jm(t,zm));var e=Ym(t),n=t._freezeSettings(),r=new em;return Wm(e,r,new tm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new _l(bl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new fp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gl.b)(e,void 0,void 0,function(){var e;return Object(gl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(gl.b)(this,void 0,void 0,function(){return Object(gl.d)(this,function(e){switch(e.label){case 0:return vp.yt()?[4,vp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ev(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),s_=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof mm||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=jm(t,Nm))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Sl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gl.b)(e,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return[4,lm(t)];case 1:return e=r.sent(),[4,fm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=xl(t);return e.$r.delete(0),xy(e)}(n))]}})})})}(Ym(jm(this._delegate,zm)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gl.b)(e,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return[4,lm(t)];case 1:return e=r.sent(),[4,fm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(gl.b)(this,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return(e=xl(t)).$r.add(0),[4,Ay(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ym(jm(this._delegate,zm)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Tm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(e,void 0,void 0,function(){var e;return Object(gl.d)(this,function(r){switch(r.label){case 0:return e=Ag,[4,dm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ym(jm(this._delegate,zm)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new nm(e);return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(n,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){xl(t).Gr.add(e),e.next()},[4,pm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(n,void 0,void 0,function(){var e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){xl(t).Gr.delete(e)},[4,pm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Ym(t=jm(t,zm)),Hm(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new _l(bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new w_(this,Mm(this._delegate,t))}catch(t){throw d_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new f_(this,Um(this._delegate,t))}catch(t){throw d_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new m_(this,function(t,e){if(t=jm(t,Nm),Sm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _l(bl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Lm(t,null,function(t){return new Uh(ql.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw d_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(n,void 0,void 0,function(){var n;return Object(gl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return cm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new im(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Ym(t),function(n){return e(new n_(t,n))})}(this._delegate,function(n){return t(new c_(e,n))})},t.prototype.batch=function(){var t=this;return Ym(this._delegate),new l_(new Gb(this._delegate,function(e){return t_(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new _l(bl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new _l(bl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),u_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gl.c)(e,t),e.prototype.convertBytes=function(t){return new o_(new Qm(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return f_.Zc(e,this.firestore,null)},e}(Xb),c_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new u_(t)}return t.prototype.get=function(t){var e=this,n=k_(t);return this._delegate.get(n).then(function(t){return new y_(e._firestore,new xb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=k_(t);return n?(Em("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=k_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(gl.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=k_(t);return this._delegate.delete(e),this},t}(),l_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=k_(t);return n?(Em("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=k_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(gl.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=k_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),h_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Ab(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new g_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new u_(e),n),i.set(n,o)),o},t}();h_.eu=new WeakMap;var f_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new u_(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new _l(bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Dm(n._delegate,r,new nh(e)))},t.Zc=function(e,n,r){return new t(n,new Dm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new w_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new w_(this.firestore,Mm(this._delegate,t))}catch(t){throw d_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(pa.n)(t))instanceof Dm&&Vm(this._delegate,t)},t.prototype.set=function(t,e){e=Em("DocumentReference.set",e);try{return function(t,e,n){t=jm(t,Dm);var r=jm(t.firestore,zm),i=Wb(t._converter,e,n);return t_(r,[ab(ob(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,_f.none())])}(this._delegate,t,e)}catch(t){throw d_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Zb(this._delegate,t):Zb.apply(void 0,Object(gl.f)([this._delegate,t,e],n))}catch(t){throw d_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return t_(jm((t=this._delegate).firestore,zm),[new Df(t._key,_f.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=p_(e),i=v_(e,function(e){return new y_(t.firestore,new xb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return $b(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jm(t,Dm);var e=jm(t.firestore,zm),n=Ym(e),r=new Jb(e);return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(n,void 0,void 0,function(){var n;return Object(gl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=xl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new _l(bl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=eg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,hm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new xb(e,r,t._key,n,new Ib(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jm(t,Dm);var e=jm(t.firestore,zm);return vm(Ym(e),t._key,{source:"server"}).then(function(n){return e_(e,t,n)})}(this._delegate):function(t){t=jm(t,Dm);var e=jm(t.firestore,zm);return vm(Ym(e),t._key).then(function(n){return e_(e,t,n)})}(this._delegate)).then(function(t){return new y_(e.firestore,new xb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?h_.tu(this.firestore,e):null))},t}();function d_(t,e,n){return t.message=t.message.replace(e,n),t}function p_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Hm(r))return r}return{}}function v_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Hm(t[0])?t[0]:Hm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var y_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new f_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Rb(this._delegate,t._delegate)},t}(),g_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gl.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(y_),m_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new u_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Lb(this._delegate,function(t,e,n){var r=e,i=Tb("where",t);return new Fb(i,r,n)}(e,n,r)))}catch(e){throw d_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Lb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Tb("orderBy",t);return new Mb(r,n)}(e,n)))}catch(e){throw d_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Lb(this._delegate,function(t){return Pm("limit",t),new Ub("limit",t,"F")}(e)))}catch(e){throw d_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Lb(this._delegate,function(t){return Pm("limitToLast",t),new Ub("limitToLast",t,"L")}(e)))}catch(e){throw d_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vb("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw d_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vb("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw d_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw d_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw d_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return qm(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jm(t,Lm);var e=jm(t.firestore,zm),n=Ym(e),r=new Jb(e);return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(gl.b)(n,void 0,void 0,function(){var n;return Object(gl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(gl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,qv(t,e,!0)];case 1:return s=u.sent(),r=new gg(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=eg(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,hm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new jb(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jm(t,Lm);var e=jm(t.firestore,zm),n=Ym(e),r=new Jb(e);return ym(n,t._query,{source:"server"}).then(function(n){return new jb(e,r,t,n)})}(this._delegate):function(t){t=jm(t,Lm);var e=jm(t.firestore,zm),n=Ym(e),r=new Jb(e);return Nb(t._query),ym(n,t._query).then(function(n){return new jb(e,r,t,n)})}(this._delegate)).then(function(t){return new __(e.firestore,new jb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=p_(e),i=v_(e,function(e){return new __(t.firestore,new jb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return $b(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?h_.tu(this.firestore,e):null))},t}(),b_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new g_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),__=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new m_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new g_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new b_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new g_(n._firestore,r))})},t.prototype.isEqual=function(t){return Rb(this._delegate,t._delegate)},t}(),w_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(gl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new f_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new f_(this.firestore,void 0===t?Um(this._delegate):Um(this._delegate,t))}catch(t){throw d_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jm(t.firestore,zm),r=Um(t),i=Wb(t._converter,e);return t_(n,[ab(ob(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,_f.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new f_(e.firestore,t)})},e.prototype.isEqual=function(t){return Vm(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?h_.tu(this.firestore,t):null))},e}(m_);function k_(t){return jm(t,Dm)}var O_,C_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Gm.bind.apply(Gm,Object(gl.f)([void 0],t)))}return t.documentId=function(){return new t(Hl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(pa.n)(t))instanceof Gm&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),S_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new cb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new fb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),E_=a("/6Yf"),T_={Firestore:s_,GeoPoint:Zm,Timestamp:Dl,Blob:o_,Transaction:c_,WriteBatch:l_,DocumentReference:f_,DocumentSnapshot:y_,Query:m_,QueryDocumentSnapshot:g_,QuerySnapshot:__,CollectionReference:w_,FieldPath:C_,FieldValue:S_,setLogLevel:function(t){wl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function I_(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fo.b;return new se.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function x_(t,e){return I_(t,e).pipe(Object(he.a)(function(t){return{payload:t,type:"query"}}))}function A_(t,n){return x_(t,n).pipe(gn(void 0),la(),Object(he.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function j_(t,e,n){return A_(t,n).pipe(mn(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return P_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return P_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return P_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),Uo(),Object(he.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function P_(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function R_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new E_.a("firestore",function(t){return function(t,e){return new s_(t,new zm(t,e),new a_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},T_)))})(O_=da.a),O_.registerVersion("@firebase/firestore","2.2.4");var N_=function(){function n(t,e,r){f(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=A_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(he.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(gn(void 0),la(),Se(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(he.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(mn(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=R_(t);return j_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(he.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(ue.a)(this.query.get(t)).pipe(Object(le.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new D_(this.ref.doc(t),this.afs)}}]),n}(),D_=function(){function n(t,e){f(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=q_(this.ref.collection(t),e),r=n.ref,i=n.query;return new N_(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return I_(this.ref,this.afs.schedulers.outsideAngular).pipe(gn(void 0),la(),Object(he.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(he.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(ue.a)(this.ref.get(t)).pipe(Object(le.b)(this.afs.schedulers.insideAngular))}}]),n}(),L_=function(){function e(t,n){f(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?A_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(he.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Se(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):A_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(mn(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=R_(t);return j_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(he.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(ue.a)(this.query.get(t)).pipe(Object(le.b)(this.afs.schedulers.insideAngular))}}]),e}(),F_=new s.u("angularfire2.enableFirestorePersistence"),M_=new s.u("angularfire2.firestore.persistenceSettings"),U_=new s.u("angularfire2.firestore.settings"),V_=new s.u("angularfire2.firestore.use-emulator");function q_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var B_,H_,z_,Y_,X_=((z_=function(){function t(n,r,i,a,s,u,c,l,h){f(this,t),this.schedulers=new Ye.d(u),this.keepUnstableUntilFirst=Object(Ye.h)(this.schedulers);var d=Object(Ye.g)(n,u,r);!ie.a.auth&&h&&Object(Ye.j)();var p=l,v=e(Object(Ye.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,o(p)),i&&!dt(s)?[t,u.runOutsideAngular(function(){try{return Object(ue.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(O_){return"undefined"!=typeof console&&console.warn(O_),Object(ae.a)(!1)}})]:[t,Object(ae.a)(!1)]},[a,p,i]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=q_("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new N_(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new L_(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new D_(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||z_)(s.cc(Ye.c),s.cc(Ye.b,8),s.cc(F_,8),s.cc(U_,8),s.cc(s.I),s.cc(s.F),s.cc(M_,8),s.cc(V_,8),s.cc(Xe,8))},z_.\u0275prov=Object(s.Pb)({factory:function(){return new z_(Object(s.cc)(Ye.c),Object(s.cc)(Ye.b,8),Object(s.cc)(F_,8),Object(s.cc)(U_,8),Object(s.cc)(s.I),Object(s.cc)(s.F),Object(s.cc)(M_,8),Object(s.cc)(V_,8),Object(s.cc)(Xe,8))},token:z_,providedIn:"any"}),z_),W_=((H_=function(){function t(){f(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:F_,useValue:!0},{provide:M_,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||H_)},H_.\u0275mod=s.Rb({type:H_}),H_.\u0275inj=s.Qb({providers:[X_]}),H_),K_=((B_=function(){function t(e,n,r,i,o){var a=this;f(this,t),this.afAuth=e,this.route=n,this.router=r,this.db=i,this.angularFireStore=o,this.loggedIn=!1,this.userDetails=null,this.user=e.authState,this.user.subscribe(function(t){t?(a.userDetails=t,console.log(a.userDetails)):a.userDetails=null})}return p(t,[{key:"getUserId",value:function(){return this.uid}},{key:"getCurrentUser",value:function(){return sessionStorage.getItem("users")||void 0}},{key:"isLoggedIn",value:function(){return this.loggedIn}},{key:"doRegister",value:function(t){return new Promise(function(e,n){ie.a.auth().createUserWithEmailAndPassword(t.email,t.password).then(function(t){e(t)},function(t){return n(t)})})}},{key:"doLogin",value:function(t){var e=this;return new Promise(function(n,r){ie.a.auth().signInWithEmailAndPassword(t.email,t.password).then(function(t){n(t),e.loggedIn=!0},function(t){return r(t)})})}},{key:"doLogOut",value:function(){var t=this;return new Promise(function(e,n){ie.a.auth().currentUser?(t.afAuth.signOut(),e(),t.loggedIn=!1):n()})}}]),t}()).\u0275fac=function(t){return new(t||B_)(s.cc(Ze),s.cc(Mr),s.cc(ao),s.cc(ua),s.cc(X_))},B_.\u0275prov=s.Pb({token:B_,factory:B_.\u0275fac,providedIn:"root"}),B_),G_=function t(){f(this,t),this.id="",this.name="",this.email="",this.photoName="",this.photoURL=""},Q_=((Y_=function(){function t(e,n){f(this,t),this.angularFirestore=e,this.db=n,this.dbPath="/users",this.usersRef=n.list(this.dbPath)}return p(t,[{key:"getUserList",value:function(){return this.angularFirestore.collection("users").snapshotChanges().pipe(Object(he.a)(function(t){return t.map(function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})}))}},{key:"createUser",value:function(t){return this.angularFirestore.collection("users").add({name:t.name,email:t.email,photoURL:t.photoURL})}},{key:"getUserById",value:function(t){return this.angularFirestore.doc("users/"+t).valueChanges()}},{key:"saveUser",value:function(t){var e=JSON.parse(JSON.stringify(t));return this.angularFirestore.collection("users").add(e)}},{key:"update",value:function(t,e){var n=JSON.parse(JSON.stringify(e));return this.angularFirestore.doc("users/"+t).update(n)}},{key:"delete",value:function(t){return this.angularFirestore.doc("users/"+t).delete()}},{key:"getCurrentUser",value:function(){return new Promise(function(t,e){ie.a.auth().onAuthStateChanged(function(n){n?t(n):e("No user logged in")})})}},{key:"updateCurrentUser",value:function(t){return new Promise(function(e,n){var r=ie.a.auth().currentUser;null==r||r.updateProfile({displayName:t.name,photoURL:r.photoURL}).then(function(t){e(t)},function(t){return n(t)})})}}]),t}()).\u0275fac=function(t){return new(t||Y_)(s.cc(X_),s.cc(ua))},Y_.\u0275prov=s.Pb({token:Y_,factory:Y_.\u0275fac,providedIn:"root"}),Y_);function J_(t,e){1&t&&(s.Yb(0,"a",12),s.xc(1," Merhaba "),s.Xb())}function Z_(t,e){if(1&t&&(s.Yb(0,"a",13),s.xc(1),s.Xb()),2&t){var n=s.hc();s.Ib(1),s.zc(" ",n.user.name," ")}}function $_(t,e){1&t&&(s.Yb(0,"a",14),s.xc(1," Kay\u0131t Ol "),s.Xb())}function tw(t,e){1&t&&(s.Yb(0,"a",15),s.xc(1," Giri\u015f Yap "),s.Xb())}function ew(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",16),s.fc("click",function(){return s.qc(n),s.hc().logout()}),s.xc(1," \xc7\u0131k\u0131\u015f Yap "),s.Xb()}}var nw,rw,iw=((rw=function(){function t(e,n,r,i){f(this,t),this.userService=e,this.authService=n,this.route=r,this.router=i,this.title="PetProject",this.user=new G_,this.route.snapshot.params.id&&(this.currentUserId=this.route.snapshot.paramMap.get("id")||"id gelmiyor",console.log(this.currentUserId))}return p(t,[{key:"ngOnInit",value:function(){this.currentUserId=this.authService.getUserId(),console.log(this.currentUserId)}},{key:"logout",value:function(){var t=this;this.authService.doLogOut().then(function(e){t.router.navigate(["/login-user"])},function(t){console.log("Logout error",t)})}}]),t}()).\u0275fac=function(t){return new(t||rw)(s.Tb(Q_),s.Tb(K_),s.Tb(Mr),s.Tb(ao))},rw.\u0275cmp=s.Nb({type:rw,selectors:[["app-navbar"]],decls:17,vars:5,consts:[[1,"navbar","navbar-dark","fixed-top","bg-dark","flex-md-nowrap","p-0","shadow",2,"height","50px","align-items","center"],["routerLink","/register-student",1,"navbar-brand","col-sm-3","col-md-2","mr-0"],[1,"dasboard-text",2,"margin-left","5px"],[1,"flex-container"],[1,"nav-item","dropdown",2,"padding-bottom","20px !important"],["class","nav-link dropdown-toggle","style","align-items: center;","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",4,"ngIf"],["class","nav-link dropdown-toggle","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",4,"ngIf"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item","routerLink","/register-user",4,"ngIf"],["class","dropdown-item","routerLink","/login-user",4,"ngIf"],["class","dropdown-item","aria-labelledby","navbarDropdown","routerLink","/login-user",3,"click",4,"ngIf"],["src","https://avatars.githubusercontent.com/u/54598461?v=4","alt","User image",1,"card-img-top","image",2,"margin-right","20px"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",2,"align-items","center"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","/register-user",1,"dropdown-item"],["routerLink","/login-user",1,"dropdown-item"],["aria-labelledby","navbarDropdown","routerLink","/login-user",1,"dropdown-item",3,"click"]],template:function(t,e){1&t&&(s.Yb(0,"nav",0),s.Yb(1,"a",1),s.Yb(2,"span",2),s.xc(3,"Pet Project"),s.Xb(),s.Xb(),s.Yb(4,"div",3),s.xc(5,"\xa0 "),s.Yb(6,"li",4),s.wc(7,J_,2,0,"a",5),s.wc(8,Z_,2,1,"a",6),s.Yb(9,"ul",7),s.Yb(10,"li"),s.wc(11,$_,2,0,"a",8),s.Xb(),s.Yb(12,"li"),s.wc(13,tw,2,0,"a",9),s.Xb(),s.wc(14,ew,2,0,"a",10),s.Xb(),s.Xb(),s.Yb(15,"div"),s.Ub(16,"img",11),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(7),s.kc("ngIf",!e.user.name),s.Ib(1),s.kc("ngIf",e.user.name),s.Ib(3),s.kc("ngIf",!e.authService.isLoggedIn()),s.Ib(2),s.kc("ngIf",!e.authService.isLoggedIn()),s.Ib(1),s.kc("ngIf",e.authService.isLoggedIn()))},directives:[uo,it],styles:["img[_ngcontent-%COMP%]{width:30px;height:30px;margin:5px;align-items:center}div.flex-container[_ngcontent-%COMP%], li.flex-container[_ngcontent-%COMP%], ul.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"]}),rw),ow=((nw=function(){function t(e){f(this,t),this.authService=e}return p(t,[{key:"LoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"logout",value:function(){return this.authService.doLogOut()}}]),t}()).\u0275fac=function(t){return new(t||nw)(s.Tb(K_))},nw.\u0275cmp=s.Nb({type:nw,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(s.Ub(0,"app-navbar"),s.Ub(1,"br"),s.Ub(2,"router-outlet"))},directives:[iw,yo],styles:[""]}),nw),aw=function t(){f(this,t)},sw=function t(){f(this,t)},uw=function(){function t(e){var n=this;f(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return p(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,o(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),cw=function(){function t(){f(this,t)}return p(t,[{key:"encodeKey",value:function(t){return lw(t)}},{key:"encodeValue",value:function(t){return lw(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function lw(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var hw=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new cw,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return p(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function fw(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function dw(t){return"undefined"!=typeof Blob&&t instanceof Blob}function pw(t){return"undefined"!=typeof FormData&&t instanceof FormData}var vw=function(){function t(e,n,r,i){var o;if(f(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new uw),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new hw,this.urlWithParams=n}return p(t,[{key:"serializeBody",value:function(){return null===this.body?null:fw(this.body)||dw(this.body)||pw(this.body)||"string"==typeof this.body?this.body:this.body instanceof hw?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||pw(this.body)?null:dw(this.body)?this.body.type||null:fw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hw?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),yw=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),gw=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";f(this,t),this.headers=e.headers||new uw,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},mw=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=yw.ResponseHeader,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(gw),bw=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=yw.Response,t.body=void 0!==r.body?r.body:null,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(gw),_w=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(gw);function ww(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var kw,Ow,Cw,Sw,Ew,Tw,Iw,xw,Aw,jw=((kw=function(){function t(e){f(this,t),this.handler=e}return p(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof vw?n=t:(r=a.headers instanceof uw?a.headers:new uw(a.headers),a.params&&(i=a.params instanceof hw?a.params:new hw({fromObject:a.params})),n=new vw(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Object(ae.a)(n).pipe(Sn(function(t){return o.handler.handle(t)}));if(t instanceof vw||"events"===a.observe)return s;var u=s.pipe(Se(function(t){return t instanceof bw}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(he.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(he.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(he.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(he.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new hw).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,ww(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,ww(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,ww(n,e))}}]),t}()).\u0275fac=function(t){return new(t||kw)(s.cc(aw))},kw.\u0275prov=s.Pb({token:kw,factory:kw.\u0275fac}),kw),Pw=function(){function t(e,n){f(this,t),this.next=e,this.interceptor=n}return p(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Rw=new s.u("HTTP_INTERCEPTORS"),Nw=((Ow=function(){function t(){f(this,t)}return p(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ow)},Ow.\u0275prov=s.Pb({token:Ow,factory:Ow.\u0275fac}),Ow),Dw=/^\)\]\}',?\n/,Lw=function t(){f(this,t)},Fw=((Sw=function(){function t(){f(this,t)}return p(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Sw)},Sw.\u0275prov=s.Pb({token:Sw,factory:Sw.\u0275fac}),Sw),Mw=((Cw=function(){function t(e){f(this,t),this.xhrFactory=e}return p(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new se.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new uw(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new mw({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Dw,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new bw({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new _w({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new _w({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:yw.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:yw.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:yw.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||Cw)(s.cc(Lw))},Cw.\u0275prov=s.Pb({token:Cw,factory:Cw.\u0275fac}),Cw),Uw=new s.u("XSRF_COOKIE_NAME"),Vw=new s.u("XSRF_HEADER_NAME"),qw=function t(){f(this,t)},Bw=((Aw=function(){function t(e,n,r){f(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return p(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Z(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Aw)(s.cc(d),s.cc(s.I),s.cc(Uw))},Aw.\u0275prov=s.Pb({token:Aw,factory:Aw.\u0275fac}),Aw),Hw=((xw=function(){function t(e,n){f(this,t),this.tokenService=e,this.headerName=n}return p(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||xw)(s.cc(qw),s.cc(Vw))},xw.\u0275prov=s.Pb({token:xw,factory:xw.\u0275fac}),xw),zw=((Iw=function(){function t(e,n){f(this,t),this.backend=e,this.injector=n,this.chain=null}return p(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Rw,[]);this.chain=e.reduceRight(function(t,e){return new Pw(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Iw)(s.cc(sw),s.cc(s.v))},Iw.\u0275prov=s.Pb({token:Iw,factory:Iw.\u0275fac}),Iw),Yw=((Tw=function(){function t(){f(this,t)}return p(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Hw,useClass:Nw}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Uw,useValue:e.cookieName}:[],e.headerName?{provide:Vw,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||Tw)},Tw.\u0275mod=s.Rb({type:Tw}),Tw.\u0275inj=s.Qb({providers:[Hw,{provide:Rw,useExisting:Hw,multi:!0},{provide:qw,useClass:Bw},{provide:Uw,useValue:"XSRF-TOKEN"},{provide:Vw,useValue:"X-XSRF-TOKEN"}]}),Tw),Xw=((Ew=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Ew)},Ew.\u0275mod=s.Rb({type:Ew}),Ew.\u0275inj=s.Qb({providers:[jw,{provide:aw,useClass:zw},Mw,{provide:sw,useExisting:Mw},Fw,{provide:Lw,useExisting:Fw}],imports:[[Yw.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ew),Ww=a("XoHu");function Kw(t,e){return new se.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(ue.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var Gw,Qw=function t(){f(this,t)},Jw=new s.u("NgValueAccessor"),Zw={provide:Jw,useExisting:Object(s.bb)(function(){return tk}),multi:!0},$w=new s.u("CompositionEventMode"),tk=((Gw=function(){function t(e,n,r){var i;f(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=c()?c().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Gw)(s.Tb(s.L),s.Tb(s.o),s.Tb($w,8))},Gw.\u0275dir=s.Ob({type:Gw,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&s.fc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[s.Hb([Zw])]}),Gw);function ek(t){return null==t||0===t.length}function nk(t){return null!=t&&"number"==typeof t.length}var rk=new s.u("NgValidators"),ik=new s.u("NgAsyncValidators"),ok=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ak=function(){function t(){f(this,t)}return p(t,null,[{key:"min",value:function(t){return function(t){return function(e){if(ek(e.value)||ek(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}},{key:"max",value:function(t){return function(t){return function(e){if(ek(e.value)||ek(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}},{key:"required",value:function(t){return sk(t)}},{key:"requiredTrue",value:function(t){return function(t){return!0===t.value?null:{required:!0}}(t)}},{key:"email",value:function(t){return function(t){return ek(t.value)||ok.test(t.value)?null:{email:!0}}(t)}},{key:"minLength",value:function(t){return function(t){return function(e){return ek(e.value)||!nk(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"maxLength",value:function(t){return function(t){return function(e){return nk(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"pattern",value:function(t){return function(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),function(t){if(ek(t.value))return null;var r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}):uk;var e,n}(t)}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return pk(t)}},{key:"composeAsync",value:function(t){return yk(t)}}]),t}();function sk(t){return ek(t.value)?{required:!0}:null}function uk(t){return null}function ck(t){return null!=t}function lk(t){var e=Object(s.yb)(t)?Object(ue.a)(t):t;return Object(s.xb)(e),e}function hk(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function fk(t,e){return e.map(function(e){return e(t)})}function dk(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function pk(t){if(!t)return null;var e=t.filter(ck);return 0==e.length?null:function(t){return hk(fk(t,e))}}function vk(t){return null!=t?pk(dk(t)):null}function yk(t){if(!t)return null;var e=t.filter(ck);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(rn.a)(r))return Kw(r,null);if(Object(Ww.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Kw(i.map(function(t){return r[t]}),i)}}if("function"==typeof e[e.length-1]){var a=e.pop();return Kw(e=1===e.length&&Object(rn.a)(e[0])?e[0]:e,null).pipe(Object(he.a)(function(t){return a.apply(void 0,o(t))}))}return Kw(e,null)}(fk(t,e).map(lk)).pipe(Object(he.a)(hk))}}function gk(t){return null!=t?yk(dk(t)):null}function mk(t,e){return null===t?[e]:Array.isArray(t)?[].concat(o(t),[e]):[t,e]}function bk(t){return t._rawValidators}function _k(t){return t._rawAsyncValidators}var wk,kk,Ok,Ck,Sk=((kk=function(){function t(){f(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return p(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=vk(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gk(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||kk)},kk.\u0275dir=s.Ob({type:kk}),kk),Ek=((wk=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Sk)).\u0275fac=function(t){return Tk(t||wk)},wk.\u0275dir=s.Ob({type:wk,features:[s.Fb]}),wk),Tk=s.ac(Ek),Ik=function(t){v(n,t);var e=g(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(Sk),xk=function(){function t(e){f(this,t),this._cd=e}return p(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),Ak=((Ck=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return n}(xk)).\u0275fac=function(t){return new(t||Ck)(s.Tb(Ik,2))},Ck.\u0275dir=s.Ob({type:Ck,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&s.Lb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[s.Fb]}),Ck),jk=((Ok=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return n}(xk)).\u0275fac=function(t){return new(t||Ok)(s.Tb(Ek,10))},Ok.\u0275dir=s.Ob({type:Ok,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&s.Lb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[s.Fb]}),Ok);function Pk(t,e){return[].concat(o(e.path),[t])}function Rk(t,e){Lk(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Mk(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Mk(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function Nk(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Fk(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function Dk(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Lk(t,e,n){var r=bk(t);null!==e.validator?t.setValidators(mk(r,e.validator)):"function"==typeof r&&t.setValidators([r]);var i=_k(t);if(null!==e.asyncValidator?t.setAsyncValidators(mk(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){var o=function(){return t.updateValueAndValidity()};Dk(e._rawValidators,o),Dk(e._rawAsyncValidators,o)}}function Fk(t,e,n){var r=!1;if(null!==t){if(null!==e.validator){var i=bk(t);if(Array.isArray(i)&&i.length>0){var o=i.filter(function(t){return t!==e.validator});o.length!==i.length&&(r=!0,t.setValidators(o))}}if(null!==e.asyncValidator){var a=_k(t);if(Array.isArray(a)&&a.length>0){var s=a.filter(function(t){return t!==e.asyncValidator});s.length!==a.length&&(r=!0,t.setAsyncValidators(s))}}}if(n){var u=function(){};Dk(e._rawValidators,u),Dk(e._rawAsyncValidators,u)}return r}function Mk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Uk(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Vk(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===tk?n=t:Object.getPrototypeOf(t.constructor)===Qw?r=t:i=t}),i||r||n||null):null;var n,r,i}function qk(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Bk(t){return(Xk(t)?t.validators:t)||null}function Hk(t){return Array.isArray(t)?vk(t):t||null}function zk(t,e){return(Xk(e)?e.asyncValidators:t)||null}function Yk(t){return Array.isArray(t)?gk(t):t||null}function Xk(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Wk,Kk,Gk,Qk,Jk,Zk=function(){function t(e,n){f(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Hk(this._rawValidators),this._composedAsyncValidatorFn=Yk(this._rawAsyncValidators)}return p(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Hk(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Yk(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=lk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof tO?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof eO&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new s.q,this.statusChanges=new s.q}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Xk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),$k=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,Bk(i),zk(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return p(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){qk(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){qk(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Zk),tO=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,Bk(r),zk(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof $k?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Zk),eO=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,Bk(r),zk(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof $k?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=i(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Zk),nO={provide:Ik,useExisting:Object(s.bb)(function(){return iO})},rO=Promise.resolve(null),iO=((Gk=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this)).control=new $k,a._registered=!1,a.update=new s.q,a._parent=t,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=Vk(0,o),a}return p(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Uk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Pk(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Rk(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;rO.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;rO.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}}]),n}(Ik)).\u0275fac=function(t){return new(t||Gk)(s.Tb(Ek,9),s.Tb(rk,10),s.Tb(ik,10),s.Tb(Jw,10))},Gk.\u0275dir=s.Ob({type:Gk,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Hb([nO]),s.Fb,s.Gb]}),Gk),oO=((Kk=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Kk)},Kk.\u0275dir=s.Ob({type:Kk,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Kk),aO=((Wk=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Wk)},Wk.\u0275mod=s.Rb({type:Wk}),Wk.\u0275inj=s.Qb({}),Wk),sO=new s.u("NgModelWithFormControlWarning"),uO={provide:Ek,useExisting:Object(s.bb)(function(){return cO})},cO=((Qk=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new s.q,i._setValidators(t),i._setAsyncValidators(r),i}return p(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Fk(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Rk(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Nk(t.control||null,t,!1),qk(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,r=t.form.get(e.path);n!==r&&(Nk(n||null,e),r instanceof $k&&(Rk(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);(function(t,e){Lk(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return Fk(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Lk(this.form,this,!1),this._oldForm&&Fk(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(Ek)).\u0275fac=function(t){return new(t||Qk)(s.Tb(rk,10),s.Tb(ik,10))},Qk.\u0275dir=s.Ob({type:Qk,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&s.fc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Hb([uO]),s.Fb,s.Gb]}),Qk),lO={provide:Ik,useExisting:Object(s.bb)(function(){return hO})},hO=((Jk=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var u;return f(this,n),(u=e.call(this))._ngModelWarningConfig=a,u._added=!1,u.update=new s.q,u._ngModelWarningSent=!1,u._parent=t,u._setValidators(r),u._setAsyncValidators(i),u.valueAccessor=Vk(0,o),u}return p(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),Uk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return Pk(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(Ik)).\u0275fac=function(t){return new(t||Jk)(s.Tb(Ek,13),s.Tb(rk,10),s.Tb(ik,10),s.Tb(Jw,10),s.Tb(sO,8))},Jk.\u0275dir=s.Ob({type:Jk,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Hb([lO]),s.Fb,s.Gb]}),Jk._ngModelWarningSentOnce=!1,Jk),fO={provide:Jw,useExisting:Object(s.bb)(function(){return yO}),multi:!0};function dO(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var pO,vO,yO=((vO=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._renderer=t,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(t){},i.onTouched=function(){},i._compareWith=Object.is,i}return p(n,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=dO(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),n}(Qw)).\u0275fac=function(t){return new(t||vO)(s.Tb(s.L),s.Tb(s.o))},vO.\u0275dir=s.Ob({type:vO,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&s.fc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Hb([fO]),s.Fb]}),vO),gO=((pO=function(){function t(e,n,r){f(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return p(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(dO(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}()).\u0275fac=function(t){return new(t||pO)(s.Tb(s.o),s.Tb(s.L),s.Tb(yO,9))},pO.\u0275dir=s.Ob({type:pO,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),pO),mO={provide:Jw,useExisting:Object(s.bb)(function(){return TO}),multi:!0};function bO(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var _O,wO,kO,OO,CO,SO,EO,TO=((wO=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._renderer=t,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(t){},i.onTouched=function(){},i._compareWith=Object.is,i}return p(n,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),n}(Qw)).\u0275fac=function(t){return new(t||wO)(s.Tb(s.L),s.Tb(s.o))},wO.\u0275dir=s.Ob({type:wO,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&s.fc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Hb([mO]),s.Fb]}),wO),IO=((_O=function(){function t(e,n,r){f(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return p(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(bO(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(bO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}()).\u0275fac=function(t){return new(t||_O)(s.Tb(s.o),s.Tb(s.L),s.Tb(TO,9))},_O.\u0275dir=s.Ob({type:_O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),_O),xO={provide:rk,useExisting:Object(s.bb)(function(){return AO}),multi:!0},AO=((EO=function(){function t(){f(this,t),this._required=!1}return p(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!="".concat(t),this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?sk(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}()).\u0275fac=function(t){return new(t||EO)},EO.\u0275dir=s.Ob({type:EO,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&s.Jb("required",e.required?"":null)},inputs:{required:"required"},features:[s.Hb([xO])]}),EO),jO=((SO=function t(){f(this,t)}).\u0275fac=function(t){return new(t||SO)},SO.\u0275mod=s.Rb({type:SO}),SO.\u0275inj=s.Qb({imports:[[aO]]}),SO),PO=((CO=function t(){f(this,t)}).\u0275fac=function(t){return new(t||CO)},CO.\u0275mod=s.Rb({type:CO}),CO.\u0275inj=s.Qb({imports:[jO]}),CO),RO=((OO=function(){function t(){f(this,t)}return p(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:sO,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275fac=function(t){return new(t||OO)},OO.\u0275mod=s.Rb({type:OO}),OO.\u0275inj=s.Qb({imports:[jO]}),OO),NO=((kO=function(){function t(){f(this,t)}return p(t,[{key:"group",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this._reduceControls(t),i=null,o=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(i=null!=n.validators?n.validators:null,o=null!=n.asyncValidators?n.asyncValidators:null,e=null!=n.updateOn?n.updateOn:void 0):(i=null!=n.validator?n.validator:null,o=null!=n.asyncValidator?n.asyncValidator:null)),new tO(r,{asyncValidators:o,updateOn:e,validators:i})}},{key:"control",value:function(t,e,n){return new $k(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new eO(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n}},{key:"_createControl",value:function(t){return t instanceof $k||t instanceof tO||t instanceof eO?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||kO)},kO.\u0275prov=Object(s.Pb)({factory:function(){return new kO},token:kO,providedIn:RO}),kO),DO=function t(){f(this,t)};function LO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function FO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function MO(t){return{type:6,styles:t,offset:null}}function UO(t,e,n){return{type:0,name:t,styles:e,options:n}}function VO(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function qO(t){Promise.resolve(null).then(t)}var BO=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return p(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;qO(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),HO=function(){function t(e){var n=this;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?qO(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++r==a&&n._onFinish()}),t.onDestroy(function(){++i==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return p(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function zO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function YO(t){switch(t.length){case 0:return new BO;case 1:return t[0];default:return new HO(t)}}function XO(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function WO(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&KO(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&KO(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&KO(n,"destroy",t))})}}function KO(t,e,n){var r=n.totalTime,i=GO(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function GO(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function QO(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function JO(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var ZO=function(t,e){return!1},$O=function(t,e){return!1},tC=function(t,e,n){return[]},eC=zO();(eC||"undefined"!=typeof Element)&&(ZO=function(t,e){return t.contains(e)},$O=function(){if(eC||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:$O}(),tC=function(t,e,n){var r=[];if(n)for(var i=t.querySelectorAll(e),o=0;o<i.length;o++)r.push(i[o]);else{var a=t.querySelector(e);a&&r.push(a)}return r});var nC=null,rC=!1;function iC(t){nC||(nC=("undefined"!=typeof document?document.body:null)||{},rC=!!nC.style&&"WebkitAppearance"in nC.style);var e=!0;return nC.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in nC.style)&&rC)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in nC.style),e}var oC=$O,aC=ZO,sC=tC;function uC(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var cC,lC=((cC=function(){function t(){f(this,t)}return p(t,[{key:"validateStyleProperty",value:function(t){return iC(t)}},{key:"matchesElement",value:function(t,e){return oC(t,e)}},{key:"containsElement",value:function(t,e){return aC(t,e)}},{key:"query",value:function(t,e,n){return sC(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return new BO(n,r)}}]),t}()).\u0275fac=function(t){return new(t||cC)},cC.\u0275prov=s.Pb({token:cC,factory:cC.\u0275fac}),cC),hC=function(){var t=function t(){f(this,t)};return t.NOOP=new lC,t}();function fC(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dC(parseFloat(e[1]),e[2])}function dC(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pC(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=dC(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=dC(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function vC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function yC(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else vC(t,n);return n}function gC(t,e,n){return n?e+":"+n+";":""}function mC(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=gC(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=gC(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function bC(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=TC(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),zO()&&mC(t))}function _C(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=TC(e);t.style[n]=""}),zO()&&mC(t))}function wC(t){return Array.isArray(t)?1==t.length?t[0]:FO(t):t}var kC=new RegExp("{{\\s*(.+?)\\s*}}","g");function OC(t){var e=[];if("string"==typeof t){for(var n;n=kC.exec(t);)e.push(n[1]);kC.lastIndex=0}return e}function CC(t,e,n){var r=t.toString(),i=r.replace(kC,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?t:i}function SC(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var EC=/-+([a-z0-9])/g;function TC(t){return t.replace(EC,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function IC(t,e){return 0===t||0===e}function xC(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=jC(t,e)})},s=1;s<e.length;s++)a()}return e}function AC(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function jC(t,e){return window.getComputedStyle(t)[e]}var PC=new Set(["true","1"]),RC=new Set(["false","0"]);function NC(t,e){var n=PC.has(t)||RC.has(t),r=PC.has(e)||RC.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?PC.has(t):RC.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?PC.has(e):RC.has(e)),a&&s}}var DC=new RegExp("s*:selfs*,?","g");function LC(t,e,n){return new FC(t).build(e,n)}var FC=function(){function t(e){f(this,t),this._driver=e}return p(t,[{key:"build",value:function(t,e){var n=new MC(e);return this._resetContextStyleTimingState(n),AC(this,wC(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(UC(t)){var e=t;Object.keys(e).forEach(function(t){OC(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=SC(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=AC(this,wC(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(NC(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(NC(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:VC(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return AC(n,t,e)}),options:VC(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=AC(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:VC(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return qC(pC(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=qC(0,0,"");return i.dynamic=!0,i.strValue=r,i}return qC((n=n||pC(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:MO({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=MO(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(UC(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=OC(a)).length&&l.forEach(function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(UC(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(UC(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:AC(this,wC(t.animation),e),options:VC(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:VC(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:VC(t.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(DC,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];n.currentQuerySelector=r.length?r+" "+a:a,QO(n.collectedStyles,n.currentQuerySelector,{});var u=AC(this,wC(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:VC(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pC(t.timings,e.errors,!0);return{type:12,animation:AC(this,wC(t.animation),e),timings:n,options:null}}}]),t}(),MC=function t(e){f(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function UC(t){return!Array.isArray(t)&&"object"==typeof t}function VC(t){var e;return t?(t=vC(t)).params&&(t.params=(e=t.params)?vC(e):null):t={},t}function qC(t,e,n){return{duration:t,delay:e,easing:n}}function BC(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var HC=function(){function t(){f(this,t),this._map=new Map}return p(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,o(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),zC=new RegExp(":enter","g"),YC=new RegExp(":leave","g");function XC(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new WC).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var WC=function(){function t(){f(this,t)}return p(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new HC;var l=new GC(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),AC(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[BC(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?fC(n.duration):null,o=null!=n.delay?fC(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),AC(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=KC);var a=fC(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return AC(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?fC(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),AC(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return pC(e.params?CC(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?fC(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=KC);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),AC(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;AC(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),KC={},GC=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new QC(this._driver,n,0),s.push(this.currentTimeline)}return p(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=fC(r.duration)),null!=r.delay&&(i.delay=fC(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=CC(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=KC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new JC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,a){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(zC,"."+this._enterClassName)).replace(YC,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,o(u))}return i||0!=s.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}}]),t}(),QC=function(){function t(e,n,r,i){f(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return p(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]="*"}):yC(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=CC(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=yC(o,!0);Object.keys(s).forEach(function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?SC(e.values()):[],a=n.size?SC(n.values()):[];if(r){var s=i[0],u=vC(s);s.offset=0,u.offset=1,i=[s,u]}return BC(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),JC=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return f(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return p(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=yC(t[0],!1);u.offset=0,o.push(u);var c=yC(t[0],!1);c.offset=ZC(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=yC(t[h],!1);f.offset=ZC((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return BC(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(QC);function ZC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var $C=function t(){f(this,t)},tS=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"normalizePropertyName",value:function(t,e){return TC(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(eS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}($C),eS=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function nS(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var rS={},iS=function(){function t(e,n,r){f(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return p(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||rS,f=this.buildStyles(n,a&&a.params||rS,l),d=s&&s.params||rS,p=this.buildStyles(r,d,l),v=new Set,y=new Map,g=new Map,m="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:XC(t,e,this.ast.animation,i,o,f,p,b,u,l),w=0;if(_.forEach(function(t){w=Math.max(t.duration+t.delay,w)}),l.length)return nS(e,this._triggerName,n,r,m,f,p,[],[],y,g,w,l);_.forEach(function(t){var n=t.element,r=QO(y,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=QO(g,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&v.add(n)});var k=SC(v.values());return nS(e,this._triggerName,n,r,m,f,p,_,k,y,g,w)}}]),t}(),oS=function(){function t(e,n){f(this,t),this.styles=e,this.defaultParams=n}return p(t,[{key:"buildStyles",value:function(t,e){var n={},r=vC(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=CC(o,r,e)),n[t]=o})}}),n}}]),t}(),aS=function(){function t(e,n){var r=this;f(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){r.states[t.name]=new oS(t.style,t.options&&t.options.params||{})}),sS(this.states,"true","1"),sS(this.states,"false","0"),n.transitions.forEach(function(t){r.transitionFactories.push(new iS(e,t,r.states))}),this.fallbackTransition=new iS(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return p(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function sS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var uS=new HC,cS=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return p(t,[{key:"register",value:function(t,e){var n=[],r=LC(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=XO(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=XC(this._driver,e,a,"ng-enter","ng-leave",{},{},i,uS,o)).forEach(function(t){var e=QO(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,"*")})});var u=YO(n.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=GO(e,"","","");return WO(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),lS=[],hS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dS=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=vC(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return p(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),pS=new dS("void"),vS=function(){function t(e,n,r){f(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kS(n,this._hostClassName)}return p(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=QO(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=QO(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(kS(t,"ng-trigger"),kS(t,"ng-trigger-"+e),u[e]=pS),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new gS(this.id,e,t),s=this._engine.statesByElement.get(t);s||(kS(t,"ng-trigger"),kS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new dS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=pS),"void"===c.value||u.value!==c.value){var l=QO(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(kS(t,"ng-animate-queued"),a.onStart(function(){OS(t,"ng-animate-queued")})),a.onDone(function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){_C(t,p),bC(t,v)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach(function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&YO(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var a=e._triggers[o].fallbackTransition,s=r[o]||pS,u=new dS("void"),c=new gS(e.id,o,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:o,transition:a,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==hS||(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){kS(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=GO(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,WO(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),yS=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return p(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new vS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(mS(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(mS(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),kS(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),OS(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(mS(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return mS(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return YO(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=hS,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)kS(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?YO(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new HC,i=[],a=new Map,s=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=wS(d,this.collectedEnterElements),v=new Map,y=0;p.forEach(function(t,e){var n="ng-enter"+y++;v.set(e,n),t.forEach(function(t){return kS(t,n)})});for(var g=[],m=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++){var w=this.collectedLeaveElements[_],k=w.__ng_removed;k&&k.setForRemoval&&(g.push(w),m.add(w),k.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(t){return m.add(t)}):b.add(w))}var O=new Map,C=wS(d,Array.from(m));C.forEach(function(t,e){var n="ng-leave"+y++;O.set(e,n),t.forEach(function(t){return kS(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=v.get(e);t.forEach(function(t){return OS(t,n)})}),C.forEach(function(t,e){var n=O.get(e);t.forEach(function(t){return OS(t,n)})}),g.forEach(function(t){n.processLeaveNode(t)})});for(var S=[],E=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(S.push(e),n.collectedEnterElements.length){var a=o.__ng_removed;if(a&&a.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,o),d=O.get(o),p=v.get(o),y=n._buildInstruction(t,r,p,d,h);if(y.errors&&y.errors.length)E.push(y);else{if(h)return e.onStart(function(){return _C(o,y.fromStyles)}),e.onDestroy(function(){return bC(o,y.toStyles)}),void i.push(e);if(t.isFallbackTransition)return e.onStart(function(){return _C(o,y.fromStyles)}),e.onDestroy(function(){return bC(o,y.toStyles)}),void i.push(e);y.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,y.timelines),s.push({instruction:y,player:e,element:o}),y.queriedElements.forEach(function(t){return QO(u,t,[]).push(e)}),y.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),y.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(E.length){var I=[];E.forEach(function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return I.push("- ".concat(t,"\n"))})}),S.forEach(function(t){return t.destroy()}),this.reportError(I)}var x=new Map,A=new Map;s.forEach(function(t){var e=t.element;r.has(e)&&(A.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){QO(x,e,[]).push(t),t.destroy()})});var j=g.filter(function(t){return ES(t,c,l)}),P=new Map;_S(P,this.driver,b,l,"*").forEach(function(t){ES(t,c,l)&&j.push(t)});var R=new Map;p.forEach(function(t,e){_S(R,n.driver,new Set(t),c,"!")}),j.forEach(function(t){var e=P.get(t),n=R.get(t);P.set(t,Object.assign(Object.assign({},e),n))});var N=[],D=[],L={};s.forEach(function(t){var e=t.element,o=t.player,s=t.instruction;if(r.has(e)){if(h.has(e))return o.onDestroy(function(){return bC(e,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=L;if(A.size>1){for(var c=e,l=[];c=c.parentNode;){var f=A.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(t){return A.set(t,u)})}var d=n._buildAnimation(o.namespaceId,s,x,a,R,P);if(o.setRealPlayer(d),u===L)N.push(o);else{var p=n.playersByElement.get(u);p&&p.length&&(o.parentPlayer=YO(p)),i.push(o)}}else _C(e,s.fromStyles),o.onDestroy(function(){return bC(e,s.toStyles)}),D.push(o),h.has(e)&&i.push(o)}),D.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=YO(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var F=0;F<g.length;F++){var M=g[F],U=M.__ng_removed;if(OS(M,"ng-leave"),!U||!U.hasAnimation){var V=[];if(u.size){var q=u.get(M);q&&q.length&&V.push.apply(V,o(q));for(var B=this.driver.query(M,".ng-animating",!0),H=0;H<B.length;H++){var z=u.get(B[H]);z&&z.length&&V.push.apply(V,o(z))}}var Y=V.filter(function(t){return!t.destroyed});Y.length?CS(this,M,Y):this.processLeaveNode(M)}}return g.length=0,N.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),N}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,o=this,a=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=i(e.timelines);try{var l=function(){var t=r.value.element,i=t!==a,c=QO(n,t,[]);o._getPreviousPlayers(t,i,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})};for(c.s();!(r=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}_C(a,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new BO(e.duration,e.delay);var p,v,y=f!==u,g=(p=(n.get(f)||lS).map(function(t){return t.getRealPlayer()}),v=[],SS(p,v),v).filter(function(t){return!!t.element&&t.element===f}),m=i.get(f),b=o.get(f),_=XO(0,a._normalizer,0,e.keyframes,m,b),w=a._buildPlayer(e,_,g);if(e.subTimeline&&r&&h.add(f),y){var k=new gS(t,s,f);k.setRealPlayer(w),c.push(k)}return w});c.forEach(function(t){QO(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return kS(t,"ng-animating")});var d=YO(f);return d.onDestroy(function(){l.forEach(function(t){return OS(t,"ng-animating")}),bC(u,e.toStyles)}),h.forEach(function(t){QO(r,t,[]).push(d)}),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new BO(t.duration,t.delay)}}]),t}(),gS=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new BO,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return p(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return WO(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){QO(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function mS(t){return t&&1===t.nodeType}function bS(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function _S(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(bS(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=fS,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return bS(t,o[s++])}),a}function wS(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;function o(t){if(!t)return 1;var e=i.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:r.has(a)?1:o(a),i.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function kS(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function OS(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function CS(t,e,n){YO(n).onDone(function(){return t.processLeaveNode(e)})}function SS(t,e){for(var n=0;n<t.length;n++){var r=t[n];r instanceof HO?SS(r.players,e):e.push(r)}}function ES(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var TS=function(){function t(e,n,r){var i=this;f(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new yS(e,n,r),this._timelineEngine=new cS(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return p(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=LC(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new aS(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var o=e(JO(r),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,o){if("@"==r.charAt(0)){var a=e(JO(r),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,n,u,o)}return this._transitionEngine.listen(t,n,r,i,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function IS(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=AS(e[0]),e.length>1&&(r=AS(e[e.length-1]))):e&&(n=AS(e)),n||r?new xS(t,n,r):null}var xS=function(){var t=function(){function t(e,n,r){f(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return p(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&bC(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(bC(this._element,this._initialStyles),this._endStyles&&(bC(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(_C(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_C(this._element,this._endStyles),this._endStyles=null),bC(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function AS(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];jS(i)&&((e=e||{})[i]=t[i])}return e}function jS(t){return"display"===t||"position"===t}var PS=function(){function t(e,n,r,i,o,a,s){var u=this;f(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return p(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=MS(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),FS(t,"",e),LS(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){RS(this._element,this._name,"paused")}},{key:"resume",value:function(){RS(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=NS(this._element,this._name);this._position=t*this._duration,FS(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),LS(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=MS(t,"").split(","),(r=DS(n,e))>=0&&(n.splice(r,1),FS(t,"",n.join(","))))}}]),t}();function RS(t,e,n){FS(t,"PlayState",n,NS(t,e))}function NS(t,e){var n=MS(t,"");return n.indexOf(",")>0?DS(n.split(","),e):DS([n],e)}function DS(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function LS(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function FS(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function MS(t,e){return t.style["animation"+e]||""}var US=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return p(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new PS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:jC(t.element,r))})}this.currentSnapshot=e}}]),t}(),VS=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=uC(r),i}return p(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),h(w(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),h(w(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,h(w(n.prototype),"destroy",this).call(this))}}]),n}(BO),qS=function(){function t(){f(this,t),this._count=0,this._head=document.querySelector("head")}return p(t,[{key:"validateStyleProperty",value:function(t){return iC(t)}},{key:"matchesElement",value:function(t,e){return oC(t,e)}},{key:"containsElement",value:function(t,e){return aC(t,e)}},{key:"query",value:function(t,e,n){return sC(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return uC(t)});var r="@keyframes ".concat(e," {\n"),i="";n.forEach(function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof US}),s={};IC(n,r)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=xC(t,e,s));if(0==n)return new VS(t,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(l);var h=IS(t,e),f=new US(t,e,c,n,r,i,u,h);return f.onDestroy(function(){var t;(t=l).parentNode.removeChild(t)}),f}}]),t}(),BS=function(){function t(e,n,r,i){f(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return p(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:jC(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),HS=function(){function t(){f(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zS().toString()),this._cssKeyframesDriver=new qS}return p(t,[{key:"validateStyleProperty",value:function(t){return iC(t)}},{key:"matchesElement",value:function(t,e){return oC(t,e)}},{key:"containsElement",value:function(t,e){return aC(t,e)}},{key:"query",value:function(t,e,n){return sC(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(t){return t instanceof BS});IC(n,r)&&c.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=IS(t,e=xC(t,e=e.map(function(t){return yC(t,!1)}),u));return new BS(t,e,s,l)}}]),t}();function zS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var YS,XS=((YS=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.Y.None,styles:[],data:{animation:[]}}),i}return p(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?FO(t):t;return GS(this._renderer,null,e,"register",[n]),new WS(e,this._renderer)}}]),n}(DO)).\u0275fac=function(t){return new(t||YS)(s.cc(s.M),s.cc(d))},YS.\u0275prov=s.Pb({token:YS,factory:YS.\u0275fac}),YS),WS=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return p(n,[{key:"create",value:function(t,e){return new KS(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){f(this,t)}}()),KS=function(){function t(e,n,r,i){f(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return p(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return GS(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function GS(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var QS,JS,ZS,$S=((QS=function(){function t(e,n,r){f(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return p(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new tE("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)}),new eE(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var n=e(t,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||QS)(s.cc(s.M),s.cc(TS),s.cc(s.F))},QS.\u0275prov=s.Pb({token:QS,factory:QS.\u0275fac}),QS),tE=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return p(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),eE=function(t){v(r,t);var n=g(r);function r(t,e,i,o){var a;return f(this,r),(a=n.call(this,e,i,o)).factory=t,a.namespaceId=e,a}return p(r,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,r){var i,o,a=this;if("@"==n.charAt(0)){var s,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(s=e([i.substring(0,o),i.substr(o+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){a.factory.scheduleListenerCallback(t._data||-1,r,t)})}return this.delegate.listen(t,n,r)}}]),r}(tE),nE=((JS=function(t){v(n,t);var e=g(n);function n(t,r,i){return f(this,n),e.call(this,t.body,r,i)}return n}(TS)).\u0275fac=function(t){return new(t||JS)(s.cc(d),s.cc(hC),s.cc($C))},JS.\u0275prov=s.Pb({token:JS,factory:JS.\u0275fac}),JS),rE=[{provide:hC,useFactory:function(){return"function"==typeof zS()?new HS:new qS}},{provide:new s.u("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:DO,useClass:XS},{provide:$C,useFactory:function(){return new tS}},{provide:TS,useClass:nE},{provide:s.M,useFactory:function(t,e,n){return new $S(t,e,n)},deps:[Bt,TS,s.F]}],iE=((ZS=function t(){f(this,t)}).\u0275fac=function(t){return new(t||ZS)},ZS.\u0275mod=s.Rb({type:ZS}),ZS.\u0275inj=s.Qb({providers:rE,imports:[re]}),ZS);function oE(t,e){1&t&&(s.Yb(0,"div",1),s.Yb(1,"div",2),s.Yb(2,"nav",3),s.Yb(3,"div",4),s.Yb(4,"ul",5),s.Yb(5,"li",6),s.Yb(6,"a",7),s.Ub(7,"i",8),s.xc(8,"Evcil Hayvan Ekle "),s.Xb(),s.Xb(),s.Yb(9,"li",6),s.Yb(10,"a",9),s.Ub(11,"i",10),s.xc(12,"Evcil Hayvan Listele "),s.Xb(),s.Xb(),s.Yb(13,"li",6),s.Yb(14,"a",11),s.Ub(15,"i",10),s.xc(16,"Kullan\u0131c\u0131 Ekle "),s.Xb(),s.Xb(),s.Yb(17,"li",6),s.Yb(18,"a",12),s.Ub(19,"i",10),s.xc(20,"Kullan\u0131c\u0131 Listele "),s.Xb(),s.Xb(),s.Yb(21,"li",6),s.Yb(22,"a",13),s.Ub(23,"i",10),s.xc(24,"User Detail "),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(25,"main",14),s.Yb(26,"div",15),s.Ub(27,"router-outlet"),s.Xb(),s.Xb(),s.Xb(),s.Xb())}var aE,sE,uE=((aE=function(){function t(e){f(this,t),this.authService=e}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||aE)(s.Tb(K_))},aE.\u0275cmp=s.Nb({type:aE,selectors:[["app-general-page"]],decls:1,vars:1,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-2","d-md-block","bg-light","sidebar",2,"margin-top","70px"],[1,"sidebar-sticky"],[1,"nav","flex-column"],[1,"nav-item"],["routerLink","/add-pet","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-plus"],["routerLink","/view-pets","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-list-ul"],["routerLink","/add-user","routerLinkActive","active",1,"nav-link"],["routerLink","/view-users","routerLinkActive","active",1,"nav-link"],["routerLink","/detail-user","routerLinkActive","active",1,"nav-link"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4",2,"margin-top","50px"],[1,"inner-adjust"]],template:function(t,e){1&t&&s.wc(0,oE,28,0,"div",0),2&t&&s.kc("ngIf",e.authService.isLoggedIn())},directives:[it,uo,vo,yo],styles:[""]}),aE),cE=function t(){f(this,t)},lE=((sE=function(){function t(e,n){f(this,t),this.angularFirestore=e,this.db=n,this.dbPath="/pets",this.petsRef=n.list(this.dbPath)}return p(t,[{key:"createPet",value:function(t){return this.angularFirestore.collection("pets").add({name:t.name,animalType:t.animalType,photoUrl:t.photoUrl})}},{key:"getPetList",value:function(){return this.angularFirestore.collection("pets").snapshotChanges().pipe(Object(he.a)(function(t){return t.map(function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})}))}},{key:"getCurrentPet",value:function(){return new Promise(function(t,e){})}},{key:"savePet",value:function(t){var e=JSON.parse(JSON.stringify(t));return this.angularFirestore.collection("pets").add(e)}},{key:"update",value:function(t,e){var n=JSON.parse(JSON.stringify(e));return this.angularFirestore.doc("pets/"+t).update(n)}},{key:"delete",value:function(t){return this.angularFirestore.doc("pets/"+t).delete()}},{key:"getPetById",value:function(t){return this.angularFirestore.doc("pets/"+t).valueChanges()}}]),t}()).\u0275fac=function(t){return new(t||sE)(s.cc(X_),s.cc(ua))},sE.\u0275prov=s.Pb({token:sE,factory:sE.\u0275fac,providedIn:"root"}),sE),hE=["toast-component",""];function fE(t,e){if(1&t){var n=s.Zb();s.Yb(0,"button",5),s.fc("click",function(){return s.qc(n),s.hc().remove()}),s.Yb(1,"span",6),s.xc(2,"\xd7"),s.Xb(),s.Xb()}}function dE(t,e){if(1&t&&(s.Wb(0),s.xc(1),s.Vb()),2&t){var n=s.hc(2);s.Ib(1),s.zc("[",n.duplicatesCount+1,"]")}}function pE(t,e){if(1&t&&(s.Yb(0,"div"),s.xc(1),s.wc(2,dE,2,1,"ng-container",4),s.Xb()),2&t){var n=s.hc();s.Kb(n.options.titleClass),s.Jb("aria-label",n.title),s.Ib(1),s.zc(" ",n.title," "),s.Ib(1),s.kc("ngIf",n.duplicatesCount)}}function vE(t,e){if(1&t&&s.Ub(0,"div",7),2&t){var n=s.hc();s.Kb(n.options.messageClass),s.kc("innerHTML",n.message,s.rc)}}function yE(t,e){if(1&t&&(s.Yb(0,"div",8),s.xc(1),s.Xb()),2&t){var n=s.hc();s.Kb(n.options.messageClass),s.Jb("aria-label",n.message),s.Ib(1),s.zc(" ",n.message," ")}}function gE(t,e){if(1&t&&(s.Yb(0,"div"),s.Ub(1,"div",9),s.Xb()),2&t){var n=s.hc();s.Ib(1),s.uc("width",n.width+"%")}}function mE(t,e){if(1&t){var n=s.Zb();s.Yb(0,"button",5),s.fc("click",function(){return s.qc(n),s.hc().remove()}),s.Yb(1,"span",6),s.xc(2,"\xd7"),s.Xb(),s.Xb()}}function bE(t,e){if(1&t&&(s.Wb(0),s.xc(1),s.Vb()),2&t){var n=s.hc(2);s.Ib(1),s.zc("[",n.duplicatesCount+1,"]")}}function _E(t,e){if(1&t&&(s.Yb(0,"div"),s.xc(1),s.wc(2,bE,2,1,"ng-container",4),s.Xb()),2&t){var n=s.hc();s.Kb(n.options.titleClass),s.Jb("aria-label",n.title),s.Ib(1),s.zc(" ",n.title," "),s.Ib(1),s.kc("ngIf",n.duplicatesCount)}}function wE(t,e){if(1&t&&s.Ub(0,"div",7),2&t){var n=s.hc();s.Kb(n.options.messageClass),s.kc("innerHTML",n.message,s.rc)}}function kE(t,e){if(1&t&&(s.Yb(0,"div",8),s.xc(1),s.Xb()),2&t){var n=s.hc();s.Kb(n.options.messageClass),s.Jb("aria-label",n.message),s.Ib(1),s.zc(" ",n.message," ")}}function OE(t,e){if(1&t&&(s.Yb(0,"div"),s.Ub(1,"div",9),s.Xb()),2&t){var n=s.hc();s.Ib(1),s.uc("width",n.width+"%")}}var CE,SE,EE,TE,IE,xE,AE,jE=function(){function t(e,n,r,i,o,a){var s=this;f(this,t),this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new oe.a,this._onAction=new oe.a,this.toastRef.afterClosed().subscribe(function(){s._onAction.complete(),s._onTap.complete()})}return p(t,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(t){this._onAction.next(t)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),PE={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},RE=new s.u("ToastConfig"),NE=function(){function t(e,n){f(this,t),this.component=e,this.injector=n}return p(t,[{key:"attach",value:function(t,e){return this._attachedHost=t,t.attach(this,e)}},{key:"detach",value:function(){var t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}}]),t}(),DE=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._hostDomElement=t,o._componentFactoryResolver=r,o._appRef=i,o}return p(n,[{key:"attachComponentPortal",value:function(t,e){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(t.component);return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(function(){r._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(function(){function t(){f(this,t)}return p(t,[{key:"attach",value:function(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}}]),t}()),LE=((CE=function(){function t(e){f(this,t),this._document=e}return p(t,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}]),t}()).\u0275fac=function(t){return new(t||CE)(s.cc(d))},CE.\u0275prov=Object(s.Pb)({factory:function(){return new CE(Object(s.cc)(d))},token:CE,providedIn:"root"}),CE),FE=function(){function t(e){f(this,t),this._portalHost=e}return p(t,[{key:"attach",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(t,e)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),t}(),ME=((SE=function(){function t(e,n,r,i){f(this,t),this._overlayContainer=e,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return p(t,[{key:"create",value:function(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}},{key:"getPaneElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}},{key:"_createPaneElement",value:function(t,e){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(t){return new DE(t,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(t){return new FE(this._createPortalHost(t))}}]),t}()).\u0275fac=function(t){return new(t||SE)(s.cc(LE),s.cc(s.l),s.cc(s.g),s.cc(d))},SE.\u0275prov=Object(s.Pb)({factory:function(){return new SE(Object(s.cc)(LE),Object(s.cc)(s.l),Object(s.cc)(s.g),Object(s.cc)(d))},token:SE,providedIn:"root"}),SE),UE=function(){function t(e){f(this,t),this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new oe.a,this._activate=new oe.a,this._manualClose=new oe.a,this._resetTimeout=new oe.a,this._countDuplicate=new oe.a}return p(t,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}]),t}(),VE=function(){function t(e,n){f(this,t),this._toastPackage=e,this._parentInjector=n}return p(t,[{key:"get",value:function(t,e,n){return t===jE?this._toastPackage:this._parentInjector.get(t,e,n)}}]),t}(),qE=((IE=function(){function t(e,n,r,i,o){f(this,t),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}return p(t,[{key:"show",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,t,e,this.applyConfig(n))}},{key:"success",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}},{key:"error",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}},{key:"info",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}},{key:"warning",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}},{key:"clear",value:function(t){var e,n=i(this.toasts);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(o){n.e(o)}finally{n.f()}}},{key:"remove",value:function(t){var e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=this.toastrConfig.includeTitleDuplicates,s=i(this.toasts);try{for(s.s();!(t=s.n()).done;){var u=t.value,c=a&&u.title===e;if((!a||c)&&u.message===n)return u.toastRef.onDuplicate(r,o),u}}catch(l){s.e(l)}finally{s.f()}return null}},{key:"applyConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),t)}},{key:"_findToast",value:function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}},{key:"_preBuildNotification",value:function(t,e,n,r){var i=this;return r.onActivateTick?this.ngZone.run(function(){return i._buildNotification(t,e,n,r)}):this._buildNotification(t,e,n,r)}},{key:"_buildNotification",value:function(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");var i=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;var o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;var u=e;e&&r.enableHtml&&(u=this.sanitizer.sanitize(s.P.HTML,e));var c=new UE(a),l=new jE(this.index,r,u,n,t,c),h=new VE(l,this._injector),f=new NE(r.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;var p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(function(){p.toastRef.activate()})),this.toasts.push(p),p}}]),t}()).\u0275fac=function(t){return new(t||IE)(s.cc(RE),s.cc(ME),s.cc(s.v),s.cc(Zt),s.cc(s.F))},IE.\u0275prov=Object(s.Pb)({factory:function(){return new IE(Object(s.cc)(RE),Object(s.cc)(ME),Object(s.cc)(s.r),Object(s.cc)(Zt),Object(s.cc)(s.F))},token:IE,providedIn:"root"}),IE),BE=((TE=function(){function t(e,n,r){var i=this;f(this,t),this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(t){i.duplicatesCount=t})}return p(t,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var t=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(function(){return t.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var t=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(function(){return t.remove()},this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10)}},{key:"remove",value:function(){var t=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(function(){return t.toastrService.remove(t.toastPackage.toastId)},+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var t=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(function(){return t.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10))}},{key:"outsideTimeout",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.timeout=setTimeout(function(){return n.runInsideAngular(t)},e)}):this.timeout=setTimeout(function(){return t()},e)}},{key:"outsideInterval",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.intervalId=setInterval(function(){return n.runInsideAngular(t)},e)}):this.intervalId=setInterval(function(){return t()},e)}},{key:"runInsideAngular",value:function(t){this.ngZone?this.ngZone.run(function(){return t()}):t()}}]),t}()).\u0275fac=function(t){return new(t||TE)(s.Tb(qE),s.Tb(jE),s.Tb(s.F))},TE.\u0275cmp=s.Nb({type:TE,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&s.fc("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(s.vc("@flyInOut",e.state),s.Kb(e.toastClasses),s.uc("display",e.displayStyle))},attrs:hE,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(s.wc(0,fE,3,0,"button",0),s.wc(1,pE,3,5,"div",1),s.wc(2,vE,1,3,"div",2),s.wc(3,yE,2,4,"div",3),s.wc(4,gE,2,2,"div",4)),2&t&&(s.kc("ngIf",e.options.closeButton),s.Ib(1),s.kc("ngIf",e.title),s.Ib(1),s.kc("ngIf",e.message&&e.options.enableHtml),s.Ib(1),s.kc("ngIf",e.message&&!e.options.enableHtml),s.Ib(1),s.kc("ngIf",e.options.progressBar))},directives:[it],encapsulation:2,data:{animation:[(EE=[UO("inactive",MO({opacity:0})),UO("active",MO({opacity:1})),UO("removed",MO({opacity:0})),VO("inactive => active",LO("{{ easeTime }}ms {{ easing }}")),VO("active => removed",LO("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:EE,options:{}})]}}),TE),HE=Object.assign(Object.assign({},PE),{toastComponent:BE}),zE=((AE=function(){function t(){f(this,t)}return p(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[{provide:RE,useValue:{default:HE,config:e}}]}}}]),t}()).\u0275fac=function(t){return new(t||AE)},AE.\u0275mod=s.Rb({type:AE}),AE.\u0275inj=s.Qb({imports:[[ft]]}),AE),YE=((xE=function(){function t(e,n,r){var i=this;f(this,t),this.toastrService=e,this.toastPackage=n,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(t){i.duplicatesCount=t})}return p(t,[{key:"displayStyle",get:function(){if("inactive"===this.state)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var t=this;this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(function(){t.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var t=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(function(){return t.remove()},this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10))}},{key:"remove",value:function(){var t=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(function(){return t.toastrService.remove(t.toastPackage.toastId)}))}},{key:"tapToast",value:function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var t=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(function(){return t.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10)))}}]),t}()).\u0275fac=function(t){return new(t||xE)(s.Tb(qE),s.Tb(jE),s.Tb(s.g))},xE.\u0275cmp=s.Nb({type:xE,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&s.fc("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(s.Kb(e.toastClasses),s.uc("display",e.displayStyle))},attrs:hE,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(s.wc(0,mE,3,0,"button",0),s.wc(1,_E,3,5,"div",1),s.wc(2,wE,1,3,"div",2),s.wc(3,kE,2,4,"div",3),s.wc(4,OE,2,2,"div",4)),2&t&&(s.kc("ngIf",e.options.closeButton),s.Ib(1),s.kc("ngIf",e.title),s.Ib(1),s.kc("ngIf",e.message&&e.options.enableHtml),s.Ib(1),s.kc("ngIf",e.message&&!e.options.enableHtml),s.Ib(1),s.kc("ngIf",e.options.progressBar))},directives:[it],encapsulation:2}),xE);function XE(t,e){1&t&&(s.Yb(0,"p",15),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen isminizi giriniz "),s.Xb())}function WE(t,e){1&t&&(s.Yb(0,"p",15),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"\u0130sim alan\u0131 2 karakterden b\xfcy\xfck olmal\u0131"),s.Xb())}function KE(t,e){1&t&&(s.Yb(0,"p",15),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen ge\xe7erli bir Hayvan T\xfcr\xfc giriniz"),s.Xb())}function GE(t,e){1&t&&(s.Yb(0,"p",15),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"Bir Resim Kaydedin"),s.Xb())}Object.assign(Object.assign({},PE),{toastComponent:YE});var QE,JE=((QE=function(){function t(e,n,r,i){f(this,t),this.petService=e,this.fb=n,this.toastr=r,this.router=i,this.pet=new cE}return p(t,[{key:"ngOnInit",value:function(){this.petForm()}},{key:"petForm",value:function(){this.petsForm=this.fb.group({name:["",[ak.required,ak.minLength(2)]],userName:["",[ak.required,ak.minLength(2)]],animalType:["",[ak.required,ak.minLength(2)]],photoUrl:[""]})}},{key:"name",get:function(){return this.petsForm.get("name")}},{key:"userName",get:function(){return this.petsForm.get("userName")}},{key:"animalType",get:function(){return this.petsForm.get("animalType")}},{key:"photoUrl",get:function(){return this.petsForm.get("photoUrl")}},{key:"ResetForm",value:function(){this.petsForm.reset()}},{key:"submitPetData",value:function(){this.petService.createPet(this.petsForm.value),this.toastr.success(this.petsForm.controls.name.value+" ba\u015far\u0131yla kaydedildi!"),this.ResetForm()}},{key:"goBack",value:function(){this.router.navigate(["/general-page"])}}]),t}()).\u0275fac=function(t){return new(t||QE)(s.Tb(lE),s.Tb(NO),s.Tb(qE),s.Tb(ao))},QE.\u0275cmp=s.Nb({type:QE,selectors:[["app-pet"]],decls:35,vars:5,consts:[[1,"btn-group",2,"margin-left","100px"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"pt-3","pb-2","mb-3","border-bottom",2,"margin-left","100px"],[1,"h2"],["novalidate","",2,"margin-left","100px",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-5","col-md-12","col-sm-12"],[1,"col-md-12","mb-3"],["type","text","formControlName","name","required","",1,"form-control"],["class","error",4,"ngIf"],["type","text","formControlName","animalType","required","",1,"form-control"],["type","text","formControlName","photoUrl","required","",1,"form-control"],[1,"form-group","text-right"],["type","button",1,"btn","btn-warning","mr-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"error"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Yb(3,"div",0),s.Yb(4,"button",1),s.fc("click",function(){return e.goBack()}),s.xc(5,"Geri Git"),s.Xb(),s.Xb(),s.Yb(6,"div",2),s.Yb(7,"h1",3),s.xc(8,"Evcil Hayvan Kay\u0131t"),s.Xb(),s.Xb(),s.Yb(9,"form",4),s.fc("ngSubmit",function(){return e.submitPetData()}),s.Yb(10,"div",5),s.Yb(11,"div",6),s.Yb(12,"div",5),s.Yb(13,"div",7),s.Yb(14,"label"),s.xc(15,"\u0130sim"),s.Xb(),s.Ub(16,"input",8),s.wc(17,XE,4,0,"p",9),s.wc(18,WE,4,0,"p",9),s.Xb(),s.Xb(),s.Yb(19,"div",5),s.Yb(20,"div",7),s.Yb(21,"label"),s.xc(22,"Hayvan T\xfcr\xfc"),s.Xb(),s.Ub(23,"input",10),s.wc(24,KE,4,0,"p",9),s.Xb(),s.Yb(25,"div",7),s.Yb(26,"label"),s.xc(27,"Foto\u011fraf"),s.Xb(),s.Ub(28,"input",11),s.wc(29,GE,4,0,"p",9),s.Xb(),s.Xb(),s.Yb(30,"div",12),s.Yb(31,"button",13),s.fc("click",function(){return e.ResetForm()}),s.xc(32,"S\u0131f\u0131rla"),s.Xb(),s.Yb(33,"button",14),s.xc(34,"Kaydet"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(9),s.kc("formGroup",e.petsForm),s.Ib(8),s.kc("ngIf",(null==e.name?null:e.name.touched)&&(null==e.name?null:e.name.invalid)),s.Ib(1),s.kc("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.minlength),s.Ib(6),s.kc("ngIf",null==e.animalType||null==e.animalType.errors?null:e.animalType.errors.minlength),s.Ib(5),s.kc("ngIf",(null==e.photoUrl?null:e.photoUrl.touched)&&(null==e.photoUrl?null:e.photoUrl.invalid)))},directives:[oO,jk,cO,tk,Ak,hO,AO,it],styles:["p.error[_ngcontent-%COMP%]{color:red}"]}),QE);function ZE(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",11),s.fc("keyup.enter",function(){return s.qc(n),s.hc(3),s.pc(1).previous()})("click",function(){return s.qc(n),s.hc(3),s.pc(1).previous()}),s.xc(1),s.Yb(2,"span",12),s.xc(3),s.Xb(),s.Xb()}if(2&t){var r=s.hc(3);s.Jb("aria-label",r.previousLabel+" "+r.screenReaderPageLabel),s.Ib(1),s.zc(" ",r.previousLabel," "),s.Ib(2),s.yc(r.screenReaderPageLabel)}}function $E(t,e){if(1&t&&(s.Yb(0,"span"),s.xc(1),s.Yb(2,"span",12),s.xc(3),s.Xb(),s.Xb()),2&t){var n=s.hc(3);s.Ib(1),s.zc(" ",n.previousLabel," "),s.Ib(2),s.yc(n.screenReaderPageLabel)}}function tT(t,e){if(1&t&&(s.Yb(0,"li",8),s.wc(1,ZE,4,3,"a",9),s.wc(2,$E,4,2,"span",10),s.Xb()),2&t){s.hc(2);var n=s.pc(1);s.Lb("disabled",n.isFirstPage()),s.Ib(1),s.kc("ngIf",1<n.getCurrent()),s.Ib(1),s.kc("ngIf",n.isFirstPage())}}function eT(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",11),s.fc("keyup.enter",function(){s.qc(n);var t=s.hc().$implicit;return s.hc(2),s.pc(1).setCurrent(t.value)})("click",function(){s.qc(n);var t=s.hc().$implicit;return s.hc(2),s.pc(1).setCurrent(t.value)}),s.Yb(1,"span",12),s.xc(2),s.Xb(),s.Yb(3,"span"),s.xc(4),s.ic(5,"number"),s.Xb(),s.Xb()}if(2&t){var r=s.hc().$implicit,i=s.hc(2);s.Ib(2),s.zc("",i.screenReaderPageLabel," "),s.Ib(2),s.yc("..."===r.label?r.label:s.jc(5,2,r.label,""))}}function nT(t,e){if(1&t&&(s.Wb(0),s.Yb(1,"span",12),s.xc(2),s.Xb(),s.Yb(3,"span"),s.xc(4),s.ic(5,"number"),s.Xb(),s.Vb()),2&t){var n=s.hc().$implicit,r=s.hc(2);s.Ib(2),s.zc("",r.screenReaderCurrentLabel," "),s.Ib(2),s.yc("..."===n.label?n.label:s.jc(5,2,n.label,""))}}function rT(t,e){if(1&t&&(s.Yb(0,"li"),s.wc(1,eT,6,5,"a",9),s.wc(2,nT,6,5,"ng-container",10),s.Xb()),2&t){var n=e.$implicit;s.hc(2);var r=s.pc(1);s.Lb("current",r.getCurrent()===n.value)("ellipsis","..."===n.label),s.Ib(1),s.kc("ngIf",r.getCurrent()!==n.value),s.Ib(1),s.kc("ngIf",r.getCurrent()===n.value)}}function iT(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",11),s.fc("keyup.enter",function(){return s.qc(n),s.hc(3),s.pc(1).next()})("click",function(){return s.qc(n),s.hc(3),s.pc(1).next()}),s.xc(1),s.Yb(2,"span",12),s.xc(3),s.Xb(),s.Xb()}if(2&t){var r=s.hc(3);s.Jb("aria-label",r.nextLabel+" "+r.screenReaderPageLabel),s.Ib(1),s.zc(" ",r.nextLabel," "),s.Ib(2),s.yc(r.screenReaderPageLabel)}}function oT(t,e){if(1&t&&(s.Yb(0,"span"),s.xc(1),s.Yb(2,"span",12),s.xc(3),s.Xb(),s.Xb()),2&t){var n=s.hc(3);s.Ib(1),s.zc(" ",n.nextLabel," "),s.Ib(2),s.yc(n.screenReaderPageLabel)}}function aT(t,e){if(1&t&&(s.Yb(0,"li",13),s.wc(1,iT,4,3,"a",9),s.wc(2,oT,4,2,"span",10),s.Xb()),2&t){s.hc(2);var n=s.pc(1);s.Lb("disabled",n.isLastPage()),s.Ib(1),s.kc("ngIf",!n.isLastPage()),s.Ib(1),s.kc("ngIf",n.isLastPage())}}function sT(t,e){if(1&t&&(s.Yb(0,"ul",3),s.wc(1,tT,3,4,"li",4),s.Yb(2,"li",5),s.xc(3),s.Xb(),s.wc(4,rT,3,6,"li",6),s.wc(5,aT,3,4,"li",7),s.Xb()),2&t){var n=s.hc(),r=s.pc(1);s.Lb("responsive",n.responsive),s.Jb("aria-label",n.screenReaderPaginationLabel),s.Ib(1),s.kc("ngIf",n.directionLinks),s.Ib(2),s.Ac(" ",r.getCurrent()," / ",r.getLastPage()," "),s.Ib(1),s.kc("ngForOf",r.pages),s.Ib(1),s.kc("ngIf",n.directionLinks)}}var uT=function(){function t(){this.change=new s.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Pb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),cT=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lT=Number.MAX_SAFE_INTEGER,hT=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,a=this.createInstance(t,e),s=a.id,u=a.itemsPerPage,c=this.service.register(a);if(!o&&t instanceof Array){if(this.stateIsIdentical(s,t,r=(a.currentPage-1)*(u=+u||lT),i=r+u))return this.state[s].slice;var l=t.slice(r,i);return this.saveState(s,t,l,r,i),this.service.change.emit(s),l}return c&&this.service.change.emit(s),this.saveState(s,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter(function(e){return!(e in t)});if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every(function(t,r){return t===e[n+r]})},(t=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([cT("design:paramtypes",[uT])],t)).\u0275fac=function(e){return new(e||t)(s.Tb(uT))},t.\u0275pipe=s.Sb({name:"paginate",type:t,pure:!1}),t}(),fT=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},dT=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function pT(t){return!!t&&"false"!==t}var vT=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new s.q,this.pageBoundsCorrection=new s.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=pT(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=pT(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=pT(t)},enumerable:!0,configurable:!0}),fT([Object(s.w)(),dT("design:type",String)],t.prototype,"id",void 0),fT([Object(s.w)(),dT("design:type",Number)],t.prototype,"maxSize",void 0),fT([Object(s.w)(),dT("design:type",Boolean),dT("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),fT([Object(s.w)(),dT("design:type",Boolean),dT("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),fT([Object(s.w)(),dT("design:type",Boolean),dT("design:paramtypes",[Boolean])],t.prototype,"responsive",null),fT([Object(s.w)(),dT("design:type",String)],t.prototype,"previousLabel",void 0),fT([Object(s.w)(),dT("design:type",String)],t.prototype,"nextLabel",void 0),fT([Object(s.w)(),dT("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),fT([Object(s.w)(),dT("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),fT([Object(s.w)(),dT("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),fT([Object(s.H)(),dT("design:type",s.q)],t.prototype,"pageChange",void 0),fT([Object(s.H)(),dT("design:type",s.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Nb({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(s.Yb(0,"pagination-template",0,1),s.fc("pageChange",function(t){return e.pageChange.emit(t)})("pageBoundsCorrection",function(t){return e.pageBoundsCorrection.emit(t)}),s.wc(2,sT,6,8,"ul",2),s.Xb()),2&t){var n=s.pc(1);s.kc("id",e.id)("maxSize",e.maxSize),s.Ib(2),s.kc("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[mT,it,nt]},pipes:function(){return[ht]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),yT=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},gT=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mT=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new s.q,this.pageBoundsCorrection=new s.q,this.pages=[],this.changeSub=this.service.change.subscribe(function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.ceil(n/e),a=Math.ceil(r/2),s=t<=a,u=o-a<t,c=!s&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||s))?"...":f,value:f}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},yT([Object(s.w)(),gT("design:type",String)],t.prototype,"id",void 0),yT([Object(s.w)(),gT("design:type",Number)],t.prototype,"maxSize",void 0),yT([Object(s.H)(),gT("design:type",s.q)],t.prototype,"pageChange",void 0),yT([Object(s.H)(),gT("design:type",s.q)],t.prototype,"pageBoundsCorrection",void 0),(t=yT([gT("design:paramtypes",[uT,s.i])],t)).\u0275fac=function(e){return new(e||t)(s.Tb(uT),s.Tb(s.i))},t.\u0275dir=s.Ob({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[s.Gb]}),t}(),bT=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({providers:[uT],imports:[[ft]]}),t}();function _T(t,e){1&t&&(s.Yb(0,"a",13),s.Ub(1,"i",14),s.xc(2," Evcil Hayvan ekle "),s.Xb())}function wT(t,e){1&t&&(s.Yb(0,"div",15),s.Yb(1,"p",16),s.xc(2,"Hen\xfcz bir evcil hayvan eklenmedi!"),s.Xb(),s.Yb(3,"a",17),s.Ub(4,"i",14),s.xc(5," Evcil Hayvan ekle "),s.Xb(),s.Xb())}function kT(t,e){if(1&t&&s.Ub(0,"img",24),2&t){var n=s.hc().$implicit;s.lc("src",n.photoUrl,s.sc)}}function OT(t,e){1&t&&(s.Yb(0,"td"),s.xc(1,"Resim Yok"),s.Xb())}function CT(t,e){if(1&t){var n=s.Zb();s.Yb(0,"tr"),s.Yb(1,"th",18),s.xc(2),s.Xb(),s.Yb(3,"td"),s.xc(4),s.Xb(),s.Yb(5,"td"),s.xc(6),s.Xb(),s.wc(7,kT,1,1,"img",19),s.wc(8,OT,2,0,"td",20),s.Yb(9,"td",21),s.Yb(10,"button",22),s.xc(11,"D\xfczenle"),s.Xb(),s.Yb(12,"button",23),s.fc("click",function(){s.qc(n);var t=e.$implicit;return s.hc().deleteUser(t)}),s.xc(13,"Sil"),s.Xb(),s.Xb(),s.Xb()}if(2&t){var r=e.$implicit;s.Ib(2),s.yc(r.id),s.Ib(2),s.yc(r.name),s.Ib(2),s.yc(r.animalType),s.Ib(1),s.kc("ngIf",r.photoUrl),s.Ib(1),s.kc("ngIf",!r.photoUrl),s.Ib(2),s.mc("routerLink","/edit-pet/",r.id,"")}}var ST,ET=function(t){return{itemsPerPage:7,currentPage:t}},TT=((ST=function(){function t(e,n,r,i){f(this,t),this.petService=e,this.toastr=n,this.location=r,this.router=i,this.p=1,this.hideWhenNoPet=!1,this.noData=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.petService.getPetList().subscribe(function(e){return t.petList=e})}},{key:"deleteUser",value:function(t){window.confirm("Bu Evcil hayvan\u0131 silmek istedi\u011fine emin misiniz ?")&&(this.petService.delete(t.id),this.toastr.success(t.name+" ba\u015far\u0131yla silindi!"))}},{key:"goBack",value:function(){this.router.navigate(["/general-page"])}}]),t}()).\u0275fac=function(t){return new(t||ST)(s.Tb(lE),s.Tb(qE),s.Tb(U),s.Tb(ao))},ST.\u0275cmp=s.Nb({type:ST,selectors:[["app-pet-list"]],decls:30,vars:8,consts:[[1,"btn-group",2,"margin-left","5px"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom",2,"margin-left","5px"],[1,"h2"],["routerLink","/view-pet","class","btn btn-success",4,"ngIf"],[1,"pricing-header","mx-auto",2,"margin-left","5px"],["class","no-data text-center",4,"ngIf"],[1,"table-responsive",2,"margin-left","5px"],[1,"table","table-bordered","table-responsive-sm","table-responsive-md","table-responsive-lg"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["AutoHide","true","Responsive","true",2,"margin-left","5px",3,"pageChange"],["routerLink","/view-pet",1,"btn","btn-success"],[1,"fas","fa-plus","custom-fa-plus"],[1,"no-data","text-center"],[1,"nodata-msg"],["routerLink","/register-user",1,"btn","btn-success"],["scope","row"],["style","width:50px; height:50px",3,"src",4,"ngIf"],[4,"ngIf"],[1,"text-center","action-block"],["type","submit",1,"btn","btn-primary",2,"margin-right","5px",3,"routerLink"],["type","submit",1,"btn","btn-primary",3,"click"],[2,"width","50px","height","50px",3,"src"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Yb(3,"div",0),s.Yb(4,"button",1),s.fc("click",function(){return e.goBack()}),s.xc(5,"Geri Git"),s.Xb(),s.Xb(),s.Yb(6,"div",2),s.Yb(7,"h1",3),s.xc(8,"Evcil Hayvan Listesi"),s.Xb(),s.wc(9,_T,3,0,"a",4),s.Xb(),s.Yb(10,"div",5),s.wc(11,wT,6,0,"div",6),s.Yb(12,"div",7),s.Yb(13,"table",8),s.Yb(14,"thead"),s.Yb(15,"tr"),s.Yb(16,"th",9),s.xc(17,"Evcil Hayvan Id"),s.Xb(),s.Yb(18,"th",9),s.xc(19,"Evcil Hayvan Ad\u0131"),s.Xb(),s.Yb(20,"th",9),s.xc(21,"Hayvan T\xfcr\xfc"),s.Xb(),s.Yb(22,"th",9),s.xc(23,"Foto\u011fraf"),s.Xb(),s.Yb(24,"th",10),s.xc(25,"D\xfczenle"),s.Xb(),s.Xb(),s.Xb(),s.Yb(26,"tbody"),s.wc(27,CT,14,6,"tr",11),s.ic(28,"paginate"),s.Xb(),s.Xb(),s.Xb(),s.Yb(29,"pagination-controls",12),s.fc("pageChange",function(t){return e.p=t}),s.Xb(),s.Xb()),2&t&&(s.Ib(9),s.kc("ngIf",e.hideWhenNoPet),s.Ib(2),s.kc("ngIf",e.noData),s.Ib(16),s.kc("ngForOf",s.jc(28,3,e.petList,s.nc(6,ET,e.p))))},directives:[it,nt,vT,uo,so],pipes:[hT],styles:[""]}),ST);function IT(t,e){1&t&&(s.Yb(0,"p",19),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen bo\u015f b\u0131rakmay\u0131n\u0131z "),s.Xb())}function xT(t,e){1&t&&(s.Yb(0,"p",20),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"isim 2 kelimeden fazla olmal\u0131 "),s.Xb())}function AT(t,e){1&t&&(s.Yb(0,"p",20),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen bo\u015f b\u0131rakmay\u0131n\u0131z "),s.Xb())}function jT(t,e){1&t&&(s.Yb(0,"p",20),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen bo\u015f b\u0131rakmay\u0131n\u0131z "),s.Xb())}var PT,RT,NT,DT=((NT=function(){function t(e,n,r,i,o){f(this,t),this.petService=e,this.fb=n,this.actRoute=r,this.router=i,this.toastr=o,this.title="Create",this.pet=new cE,this.actRoute.snapshot.params.id&&(this.petId=this.actRoute.snapshot.paramMap.get("id")||"id gelmiyor",console.log(this.petId))}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.petId&&(this.title="Edit",this.petService.getPetById(this.petId).subscribe(function(e){e&&(t.pet=e,console.log(e),t.updatePetData(e.name,e.animalType))}))}},{key:"selectFile",value:function(t){this.selectedFiles=t.target.files}},{key:"name",get:function(){return this.editForm.get("name")}},{key:"userName",get:function(){return this.editForm.get("userName")}},{key:"animalType",get:function(){return this.editForm.get("animalType")}},{key:"photoUrl",get:function(){return this.editForm.get("photoUrl")}},{key:"updatePetData",value:function(t,e){this.editForm=this.fb.group({name:[t],animalType:[e],photoUrl:[""]})}},{key:"onPetFormSubmit",value:function(){var t=this;this.petId?this.petService.update(this.petId,this.editForm.value).then(function(){t.toastr.success(t.editForm.controls.name.value+" ba\u015far\u0131yla g\xfcncelle\u015ftirildi"),t.router.navigate(["/view-pets"])}):this.petService.savePet(this.pet).then(function(){t.router.navigate(["/view-pets"])})}},{key:"goBack",value:function(){this.router.navigate(["/general-page"])}}]),t}()).\u0275fac=function(t){return new(t||NT)(s.Tb(lE),s.Tb(NO),s.Tb(Mr),s.Tb(ao),s.Tb(qE))},NT.\u0275cmp=s.Nb({type:NT,selectors:[["app-pet-update"]],decls:37,vars:6,consts:[[1,"pt-3","pb-2","mb-3","border-bottom",2,"margin-left","100px"],[1,"h2"],[1,"btn-toolbar","mb-2","mb-md-0"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"row",2,"margin-left","100px"],[1,"col-lg-12"],[1,"pricing-header","form-block","mx-auto"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-5","col-md-12","col-sm-12"],[1,"col-md-12","mb-3"],["type","text","formControlName","name","required","",1,"form-control"],["class","error",4,"ngIf"],["style","color:red;","class","error",4,"ngIf"],["type","string","formControlName","animalType","required","",1,"form-control"],["type","file","formControlName","photoUrl",1,"text-nowrap","text-truncate",3,"change"],[1,"form-group","text-right"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],[1,"error"],[1,"error",2,"color","red"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Yb(3,"div",0),s.Yb(4,"h1",1),s.xc(5,"Evcil Hayvan Detaylar\u0131 D\xfczenleme"),s.Xb(),s.Yb(6,"div",2),s.Yb(7,"div",3),s.Yb(8,"button",4),s.fc("click",function(){return e.goBack()}),s.xc(9,"Geri Git"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(10,"div",5),s.Yb(11,"div",6),s.Yb(12,"div",7),s.Yb(13,"form",8),s.fc("ngSubmit",function(){return e.onPetFormSubmit()}),s.Yb(14,"div",9),s.Yb(15,"div",10),s.Yb(16,"div",9),s.Yb(17,"div",11),s.Yb(18,"label"),s.xc(19,"\u0130sim"),s.Xb(),s.Ub(20,"input",12),s.wc(21,IT,4,0,"p",13),s.wc(22,xT,4,0,"p",14),s.Xb(),s.Xb(),s.Yb(23,"div",9),s.Yb(24,"div",11),s.Yb(25,"label"),s.xc(26,"Hayvan T\xfcr\xfc"),s.Xb(),s.Ub(27,"input",15),s.wc(28,AT,4,0,"p",14),s.Xb(),s.Yb(29,"div",11),s.Yb(30,"label"),s.xc(31,"PhotoUrl"),s.Xb(),s.Yb(32,"input",16),s.fc("change",function(t){return e.selectFile(t)}),s.Xb(),s.wc(33,jT,4,0,"p",14),s.Xb(),s.Xb(),s.Yb(34,"div",17),s.Yb(35,"button",18),s.xc(36," Evcil Hayvan\u0131 G\xfcncelle "),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(13),s.kc("formGroup",e.editForm),s.Ib(8),s.kc("ngIf",(null==e.name?null:e.name.touched)&&(null==e.name?null:e.name.invalid)),s.Ib(1),s.kc("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.minlength),s.Ib(6),s.kc("ngIf",(null==e.animalType?null:e.animalType.touched)&&(null==e.animalType?null:e.animalType.invalid)),s.Ib(5),s.kc("ngIf",(null==e.photoUrl?null:e.photoUrl.touched)&&(null==e.photoUrl?null:e.photoUrl.invalid)),s.Ib(2),s.kc("disabled",!e.editForm.valid))},directives:[oO,jk,cO,tk,Ak,hO,AO,it],styles:[""]}),NT),LT=((RT=function(){function t(e,n,r,i,o){f(this,t),this.toastr=e,this.authService=n,this.userService=r,this.router=i,this.fb=o,this.errorMessage="",this.createForm()}return p(t,[{key:"ngOnInit",value:function(){}},{key:"createForm",value:function(){this.loginForm=this.fb.group({email:["",ak.required],password:["",ak.required]})}},{key:"tryLogin",value:function(t){var e=this;this.authService.doLogin(t).then(function(t){e.toastr.success("Ho\u015fgeldiniz"),e.router.navigate(["/general-page"])},function(t){console.log(t),e.errorMessage="B\xf6yle bir kullan\u0131c\u0131 yok veya silinmi\u015f"})}}]),t}()).\u0275fac=function(t){return new(t||RT)(s.Tb(qE),s.Tb(K_),s.Tb(Q_),s.Tb(ao),s.Tb(NO))},RT.\u0275cmp=s.Nb({type:RT,selectors:[["app-login"]],decls:29,vars:2,consts:[[1,"header"],[1,"container"],[1,"row"],[1,"col-md-6","col-md-offset-3"],[3,"formGroup"],[1,"form-group"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],[1,"error"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"col-md-4","col-md-offset-4"],[1,"flex-container"],["routerLink","/register-user","routerLinkActive","active",1,"nav-link"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Ub(3,"br"),s.Ub(4,"br"),s.Yb(5,"h1",0),s.xc(6,"Firebase ile giri\u015f yap"),s.Xb(),s.Yb(7,"div",1),s.Yb(8,"div",2),s.Yb(9,"div",3),s.Yb(10,"form",4),s.Yb(11,"div",5),s.Yb(12,"label"),s.xc(13,"Email"),s.Xb(),s.Ub(14,"input",6),s.Xb(),s.Yb(15,"div",5),s.Yb(16,"label"),s.xc(17,"\u015eifre"),s.Xb(),s.Ub(18,"input",7),s.Yb(19,"label",8),s.xc(20),s.Xb(),s.Xb(),s.Yb(21,"button",9),s.fc("click",function(){return e.tryLogin(e.loginForm.value)}),s.xc(22,"Giri\u015f Yap"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(23,"div",2),s.Yb(24,"div",10),s.Yb(25,"p",11),s.xc(26,"Hesab\u0131n Yok Mu?"),s.Yb(27,"a",12),s.xc(28,"Hesap olu\u015ftur"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(10),s.kc("formGroup",e.loginForm),s.Ib(10),s.yc(e.errorMessage))},directives:[oO,jk,cO,tk,Ak,hO,uo,vo],styles:[".header[_ngcontent-%COMP%]{text-align:center;font-size:30px;margin-bottom:40px}.row[_ngcontent-%COMP%]{margin-top:10px}.error[_ngcontent-%COMP%]{color:red}p.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"]}),RT),FT=((PT=function(){function t(e,n,r,i,o,a){f(this,t),this.userService=e,this.fb=n,this.toastr=r,this.activatedRoute=i,this.authService=o,this.router=a,this.errorMessage="",this.successMessage="",this.createForm()}return p(t,[{key:"ngOnInit",value:function(){}},{key:"createForm",value:function(){this.registerForm=this.fb.group({email:["",ak.required],password:["",ak.required]})}},{key:"tryRegister",value:function(t){var e=this;this.authService.doRegister(t).then(function(t){console.log(t),e.errorMessage="",e.successMessage="Hesab\u0131n\u0131z olu\u015fturuldu",e.toastr.success(e.successMessage)},function(t){console.log(t),e.errorMessage=t.message,e.successMessage=""})}}]),t}()).\u0275fac=function(t){return new(t||PT)(s.Tb(Q_),s.Tb(NO),s.Tb(qE),s.Tb(Mr),s.Tb(K_),s.Tb(ao))},PT.\u0275cmp=s.Nb({type:PT,selectors:[["app-sign-up"]],decls:31,vars:3,consts:[[1,"header"],[1,"container"],[1,"row"],[1,"col-md-6","col-md-offset-3"],[3,"formGroup"],[1,"form-group"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],[1,"error"],[1,"success"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"col-md-4","col-md-offset-4"],[1,"flex-container"],["routerLink","/login-user","routerLinkActive","active",1,"nav-link"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Ub(3,"br"),s.Ub(4,"br"),s.Yb(5,"h1",0),s.xc(6,"Firebase ile hesap olu\u015ftur"),s.Xb(),s.Yb(7,"div",1),s.Yb(8,"div",2),s.Yb(9,"div",3),s.Yb(10,"form",4),s.Yb(11,"div",5),s.Yb(12,"label"),s.xc(13,"Email"),s.Xb(),s.Ub(14,"input",6),s.Xb(),s.Yb(15,"div",5),s.Yb(16,"label"),s.xc(17,"\u015eifre"),s.Xb(),s.Ub(18,"input",7),s.Yb(19,"label",8),s.xc(20),s.Xb(),s.Yb(21,"label",9),s.xc(22),s.Xb(),s.Xb(),s.Yb(23,"button",10),s.fc("click",function(){return e.tryRegister(e.registerForm.value)}),s.xc(24,"Kay\u0131t Ol"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(25,"div",2),s.Yb(26,"div",11),s.Yb(27,"p",12),s.xc(28,"Hesab\u0131n Var M\u0131?"),s.Yb(29,"a",13),s.xc(30,"Giri\u015f Yap"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(10),s.kc("formGroup",e.registerForm),s.Ib(10),s.yc(e.errorMessage),s.Ib(2),s.yc(e.successMessage))},directives:[oO,jk,cO,tk,Ak,hO,uo,vo],styles:[".header[_ngcontent-%COMP%]{text-align:center;font-size:30px;margin-bottom:40px}.row[_ngcontent-%COMP%]{margin-top:10px}.error[_ngcontent-%COMP%]{color:red}.success[_ngcontent-%COMP%]{color:green}p.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"]}),PT),MT=function(){function t(e,n){f(this,t),this.dueTime=e,this.scheduler=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new UT(t,this.dueTime,this.scheduler))}}]),t}(),UT=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return p(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(VT,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(Ce.a);function VT(t){t.debouncedNext()}var qT=function(t){function e(n,r){var i=t.call(this,BT(n),"Firebase Storage: "+r+" ("+BT(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(gl.c)(e,t),e.prototype._codeEquals=function(t){return BT(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(pa.c);function BT(t){return"storage/"+t}function HT(){return new qT("unknown","An unknown error occurred, please check the error payload for server response.")}function zT(){return new qT("canceled","User canceled the upload/download.")}function YT(){return new qT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function XT(t){return new qT("invalid-argument",t)}function WT(){return new qT("app-deleted","The Firebase app was deleted.")}function KT(t){return new qT("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function GT(t,e){return new qT("invalid-format","String does not match format '"+t+"': "+e)}function QT(t){throw new qT("internal-error","Internal error: "+t)}var JT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ZT=function(t,e){this.data=t,this.contentType=e||null};function $T(t,e){switch(t){case JT.RAW:return new ZT(tI(e));case JT.BASE64:case JT.BASE64URL:return new ZT(eI(t,e));case JT.DATA_URL:return new ZT((n=new nI(e)).base64?eI(JT.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(O_){throw GT(JT.DATA_URL,"Malformed data URL.")}return tI(e)}(n.rest),new nI(e).contentType)}var n;throw HT()}function tI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function eI(t,e){switch(t){case JT.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw GT(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case JT.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw GT(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(O_){throw GT(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var nI=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw GT(JT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},rI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iI(t){switch(t){case"running":case"pausing":case"canceling":return rI.RUNNING;case"paused":return rI.PAUSED;case"success":return rI.SUCCESS;case"canceled":return rI.CANCELED;case"error":default:return rI.ERROR}}var oI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),aI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=oI.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=oI.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=oI.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw QT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw QT("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw QT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(O_){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw QT("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),sI=function(){function t(){}return t.prototype.createXhrIo=function(){return new aI},t}(),uI=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(O_){return new t(e,"")}if(""===r.path)return r;throw new qT("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new qT("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),cI=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function lI(t){return"string"==typeof t||t instanceof String}function hI(t){return fI()&&t instanceof Blob}function fI(){return"undefined"!=typeof Blob}function dI(t,e,n,r){if(r<e)throw XT("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw XT("Invalid value for '"+t+"'. Expected "+n+" or less.")}function pI(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function vI(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var yI=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(O_){o(O_)}else null!==a?((r=HT()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?WT():zT():new qT("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new gI(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new gI(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===oI.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new gI(a,n))}else{var s=n.getErrorCode()===oI.ABORT;e(!1,new gI(!1,null,s))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(gl.f)([null,t],e));else{var r;u()||a?l.call.apply(l,Object(gl.f)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout(function(){a=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),gI=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function mI(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function bI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=mI();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(fI())return new Blob(t);throw new qT("unsupported-environment","This browser doesn't seem to support creating Blobs")}var _I=function(){function t(t,e){var n=0,r="";hI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(hI(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(fI()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(bI.apply(null,r))}var i=e.map(function(t){return lI(t)?$T(JT.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function wI(t){var e,n;try{e=JSON.parse(t)}catch(O_){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function kI(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function OI(t,e){return e}var CI=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||OI},SI=null;function EI(){if(SI)return SI;var t=[];t.push(new CI("bucket")),t.push(new CI("generation")),t.push(new CI("metageneration")),t.push(new CI("name","fullPath",!0));var e=new CI("name");e.xform=function(t,e){return function(t){return!lI(t)||t.length<2?t:kI(t)}(e)},t.push(e);var n=new CI("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new CI("timeCreated")),t.push(new CI("updated")),t.push(new CI("md5Hash",null,!0)),t.push(new CI("cacheControl",null,!0)),t.push(new CI("contentDisposition",null,!0)),t.push(new CI("contentEncoding",null,!0)),t.push(new CI("contentLanguage",null,!0)),t.push(new CI("contentType",null,!0)),t.push(new CI("metadata","customMetadata",!0)),SI=t}function TI(t,e,n){var r=wI(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new uI(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function II(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var xI=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function AI(t){if(!t)throw HT()}function jI(t,e){return function(n,r){var i=TI(t,r,e);return AI(null!==i),i}}function PI(t){return function(e,n){var r;return(r=401===e.getStatus()?new qT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new qT("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new qT("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function RI(t){var e=PI(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new qT("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function NI(t,e,n){var r=pI(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new xI(r,"GET",jI(t,n),i);return o.errorHandler=RI(e),o}function DI(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var LI=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function FI(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(O_){AI(!1)}return AI(!!n&&-1!==(e||["active"]).indexOf(n)),n}var MI=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function UI(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var VI=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=EI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=DI(e,r,i),s={name:a.fullPath},u=pI(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=II(a,n),h=new xI(u,"POST",function(t){var e;FI(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(O_){AI(!1)}return AI(lI(e)),e},t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=PI(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new xI(n,"POST",function(t){var e=FI(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O_){AI(!1)}n||AI(!1);var i=Number(n);return AI(!isNaN(i)),new LI(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=PI(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new LI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new LI(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new qT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw YT();var p=new xI(n,"POST",function(t,n){var i,a=FI(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?jI(e,o)(t,n):null,new LI(s,c,"final"===a,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=PI(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(O_){return t._error=O_,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=NI(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=DI(e,r,i),c=II(u,n),l=_I.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw YT();var h={name:u.fullPath},f=pI(o,t.host),d=t.maxUploadRetryTime,p=new xI(f,"POST",jI(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=PI(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=zT(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=iI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new MI(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(iI(this._state)){case rI.SUCCESS:UI(this._resolve.bind(null,this.snapshot))();break;case rI.CANCELED:case rI.ERROR:UI(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(iI(this._state)){case rI.RUNNING:case rI.PAUSED:t.next&&UI(t.next.bind(t,this.snapshot))();break;case rI.SUCCESS:t.complete&&UI(t.complete.bind(t))();break;case rI.CANCELED:case rI.ERROR:t.error&&UI(t.error.bind(t,this._error))();break;default:t.error&&UI(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),qI=function(){function t(t,e){this._service=t,this._location=e instanceof uI?e:uI.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new uI(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return kI(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new uI(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw KT(t)},t}();function BI(t){var e={prefixes:[],items:[]};return HI(t,e).then(function(){return e})}function HI(t,e,n){return Object(gl.b)(this,void 0,void 0,function(){var r,i,o;return Object(gl.d)(this,function(a){switch(a.label){case 0:return[4,zI(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,HI(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function zI(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(gl.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&dI("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=pI(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new xI(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=wI(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new uI(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t._makeStorageReference(new uI(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return AI(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=PI(e),u}(t.storage,t._location,0,(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function YI(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new uI(t._location.bucket,n);return new qI(t.storage,r)}function XI(t){return/^[A-Za-z]+:\/\//.test(t)}function WI(t,e){if(t instanceof QI){var n=t;if(null==n._bucket)throw new qT("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new qI(n,n._bucket);return null!=e?WI(r,e):r}if(void 0!==e){if(e.includes(".."))throw XT('`path` param cannot contain ".."');return YI(t,e)}return t}function KI(t,e){if(e&&XI(e)){if(t instanceof QI)return new qI(t,e);throw XT("To use ref(service, url), the first argument must be a Storage instance.")}return WI(t,e)}function GI(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:uI.makeFromBucketSpec(n,t)}var QI=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?uI.makeFromBucketSpec(r,this._host):GI(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?uI.makeFromBucketSpec(this._url,t):GI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){dI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){dI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(gl.b)(this,void 0,void 0,function(){var t,e;return Object(gl.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new qI(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new cI(WT());var r=function(t,e,n,r,i){var o=vI(t.urlParams),a=t.url+o,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(s,i),new yI(a,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function JI(t,e){return KI(t=Object(pa.n)(t),e)}var ZI,$I,tx=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),ex=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new tx(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new tx(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new tx(t,i,i._ref))}:{next:e.next?function(t){return e.next(new tx(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),nx=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new rx(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new rx(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),rx=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return YI(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new ex(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new VI(t,new _I(e),n)}(t=Object(pa.n)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=JT.RAW),this._throwIfRoot("putString");var r=$T(e,t),i=Object(gl.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ex(new VI(this._delegate,new _I(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,BI(t=Object(pa.n)(t))).then(function(t){return new nx(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return zI(t=Object(pa.n)(t),e)}(this._delegate,t||void 0).then(function(t){return new nx(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=NI(t.storage,t._location,EI()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(pa.n)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(gl.b)(this,void 0,void 0,function(){var n,r;return Object(gl.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=pI(e.fullServerUrl(),t.host),o=II(n,r),a=t.maxOperationRetryTime,s=new xI(i,"PATCH",jI(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=RI(e),s}(t.storage,t._location,e,EI()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t=Object(pa.n)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=pI(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new xI(r,"GET",function(t,e){return function(n,r){var i=TI(t,r,e);return AI(null!==i),function(t,e,n){var r=wI(e);if(null===r)return null;if(!lI(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return pI("/b/"+o(t.bucket)+"/o/"+o(r),n)+vI({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=RI(e),o}(t.storage,t._location,EI()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new qT("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(pa.n)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(gl.b)(this,void 0,void 0,function(){var e,n;return Object(gl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=pI(e.fullServerUrl(),t.host),r=new xI(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=RI(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(pa.n)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw KT(t)},t}(),ix=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(XI(t))throw XT("ref() expected a child path but got a URL, use refFromURL instead.");return new rx(JI(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!XI(t))throw XT("refFromURL() expected a full URL but got a child path, use ref() instead.");try{uI.makeFromUrl(t,this._delegate.host)}catch(O_){throw XT("refFromUrl() expected a valid full URL but got an invalid one.")}return new rx(JI(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function ox(t){var e=function(t){return new se.a(function(e){var n=function(t){return e.next(t)};n(t.snapshot);var r=t.on("state_changed",n);return t.then(function(t){n(t),e.complete()},function(r){n(t.snapshot),function(t){e.error(t)}(r)}),function(){r()}}).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fo.a;return function(n){return n.lift(new MT(t,e))}}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(Object(he.a)(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function ax(t,e,n){return{getDownloadURL:function(){return Object(ae.a)(void 0).pipe(Object(le.b)(e.outsideAngular),de(function(){return t.getDownloadURL()}),n)},getMetadata:function(){return Object(ae.a)(void 0).pipe(Object(le.b)(e.outsideAngular),de(function(){return t.getMetadata()}),n)},delete:function(){return Object(ue.a)(t.delete())},child:function(r){return ax(t.child(r),e,n)},updateMetadata:function(e){return Object(ue.a)(t.updateMetadata(e))},put:function(e,n){return ox(t.put(e,n))},putString:function(e,n,r){return ox(t.putString(e,n,r))},listAll:function(){return Object(ue.a)(t.listAll())}}}$I={TaskState:rI,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:JT,Storage:QI,Reference:rx},(ZI=da.a).INTERNAL.registerComponent(new E_.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new ix(r,new QI(r,i,new sI,n,da.a.SDK_VERSION))},"PUBLIC").setServiceProps($I).setMultipleInstances(!0)),ZI.registerVersion("@firebase/storage","0.5.0");var sx,ux,cx,lx,hx,fx=new s.u("angularfire2.storageBucket"),dx=new s.u("angularfire2.storage.maxUploadRetryTime"),px=new s.u("angularfire2.storage.maxOperationRetryTime"),vx=((hx=function(){function t(e,n,r,i,o,a,s){f(this,t),this.schedulers=new Ye.d(o),this.keepUnstableUntilFirst=Object(Ye.h)(this.schedulers);var u=Object(Ye.g)(e,o,n);this.storage=Object(Ye.f)("".concat(u.name,".storage.").concat(r),"AngularFireStorage",u,function(){var t=o.runOutsideAngular(function(){return u.storage(r||void 0)});return a&&t.setMaxUploadRetryTime(a),s&&t.setMaxOperationRetryTime(s),t},[a,s])}return p(t,[{key:"ref",value:function(t){return ax(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(t){return ax(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return ax(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||hx)(s.cc(Ye.c),s.cc(Ye.b,8),s.cc(fx,8),s.cc(s.I),s.cc(s.F),s.cc(dx,8),s.cc(px,8))},hx.\u0275prov=Object(s.Pb)({factory:function(){return new hx(Object(s.cc)(Ye.c),Object(s.cc)(Ye.b,8),Object(s.cc)(fx,8),Object(s.cc)(s.I),Object(s.cc)(s.F),Object(s.cc)(dx,8),Object(s.cc)(px,8))},token:hx,providedIn:"any"}),hx),yx=((lx=function t(){f(this,t)}).\u0275fac=function(t){return new(t||lx)},lx.\u0275mod=s.Rb({type:lx}),lx.\u0275inj=s.Qb({}),lx),gx=((cx=function t(){f(this,t)}).\u0275fac=function(t){return new(t||cx)},cx.\u0275mod=s.Rb({type:cx}),cx.\u0275inj=s.Qb({providers:[vx],imports:[yx]}),cx),mx=((ux=function(){function t(e,n){f(this,t),this.db=e,this.storage=n,this.basePath="/uploads"}return p(t,[{key:"pushFileToStorage",value:function(t){var e=this,n="".concat(this.basePath,"/").concat(t.file.name),r=this.storage.ref(n),i=this.storage.upload(n,t.file);return i.snapshotChanges().pipe(jn(function(){r.getDownloadURL().subscribe(function(n){t.url=n,t.name=t.file.name,e.saveFileData(t)})})).subscribe(),i.percentageChanges()}},{key:"saveFileData",value:function(t){this.db.list(this.basePath).push(t)}},{key:"getFiles",value:function(t){return this.db.list(this.basePath,function(e){return e.limitToLast(t)})}},{key:"deleteFile",value:function(t){var e=this;this.deleteFileDatabase(t.name).then(function(){e.deleteFileStorage(t.name)}).catch(function(t){return console.log(t)})}},{key:"deleteFileDatabase",value:function(t){return this.db.list(this.basePath).remove(t)}},{key:"deleteFileStorage",value:function(t){this.storage.ref(this.basePath).child(t).delete()}}]),t}()).\u0275fac=function(t){return new(t||ux)(s.cc(ua),s.cc(vx))},ux.\u0275prov=s.Pb({token:ux,factory:ux.\u0275fac,providedIn:"root"}),ux),bx=((sx=function(){function t(){f(this,t)}return p(t,[{key:"transform",value:function(t,e){return(e=e?e.toLocaleLowerCase():"")?t.filter(function(t){return-1!==t.name.toLocaleLowerCase().indexOf(e)}):t}}]),t}()).\u0275fac=function(t){return new(t||sx)},sx.\u0275pipe=s.Sb({name:"filterPipe",type:sx,pure:!0}),sx);function _x(t,e){1&t&&(s.Yb(0,"a",17),s.Ub(1,"i",18),s.xc(2," Kullan\u0131c\u0131 ekle "),s.Xb())}function wx(t,e){1&t&&(s.Yb(0,"div",19),s.Yb(1,"p",20),s.xc(2,"Hen\xfcz bir kullan\u0131c\u0131 eklenmedi!"),s.Xb(),s.Yb(3,"a",17),s.Ub(4,"i",18),s.xc(5," Kullan\u0131c\u0131 ekle "),s.Xb(),s.Xb())}function kx(t,e){if(1&t&&(s.Yb(0,"div",21),s.xc(1),s.Xb()),2&t){var n=s.hc();s.Ib(1),s.zc(" ",n.filterText," arad\u0131n\u0131z ")}}function Ox(t,e){if(1&t&&(s.Yb(0,"td"),s.xc(1),s.Xb()),2&t){var n=s.hc().$implicit;s.Ib(1),s.yc(n.petName)}}function Cx(t,e){1&t&&(s.Yb(0,"td"),s.xc(1,"Evcil Hayvan yok"),s.Xb())}function Sx(t,e){if(1&t){var n=s.Zb();s.Yb(0,"tr"),s.Yb(1,"th",22),s.xc(2),s.Xb(),s.Yb(3,"td"),s.Ub(4,"img",23),s.Xb(),s.Yb(5,"td"),s.xc(6),s.Xb(),s.wc(7,Ox,2,1,"td",24),s.wc(8,Cx,2,0,"td",24),s.Yb(9,"td",25),s.Yb(10,"button",26),s.xc(11,"Hayvan ata"),s.Xb(),s.Yb(12,"button",26),s.xc(13,"D\xfczenle"),s.Xb(),s.Yb(14,"button",27),s.fc("click",function(){s.qc(n);var t=e.$implicit;return s.hc().deleteUser(t)}),s.xc(15,"Sil"),s.Xb(),s.Xb(),s.Xb()}if(2&t){var r=e.$implicit;s.Ib(2),s.yc(r.id),s.Ib(2),s.kc("src",r.photoURL,s.sc),s.Ib(2),s.yc(r.name),s.Ib(1),s.kc("ngIf",r.petName),s.Ib(1),s.kc("ngIf",!r.petName),s.Ib(2),s.mc("routerLink","/detail-user/",r.id,""),s.Ib(2),s.mc("routerLink","/edit-user/",r.id,"")}}var Ex,Tx=function(t){return{itemsPerPage:7,currentPage:t}},Ix=((Ex=function(){function t(e,n,r,i){f(this,t),this.userService=e,this.toastr=n,this.router=r,this.uploadService=i,this.p=1,this.filterText="",this.hideWhenNoUser=!1,this.noData=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.getUserList().subscribe(function(e){return t.userList=e}),console.log(this.userList),this.uploadService.getFiles(6).snapshotChanges().pipe(Object(he.a)(function(t){return t.map(function(t){return Object.assign({key:t.payload.key},t.payload.val())})})).subscribe(function(e){t.fileUploads=e,console.log(t.fileUploads)})}},{key:"goBack",value:function(){this.router.navigate(["/general-page"])}},{key:"deleteUser",value:function(t){window.confirm("Bu kullan\u0131c\u0131y\u0131 silmek istedi\u011fine emin misiniz ?")&&(this.userService.delete(t.id),this.toastr.success(t.name+" ba\u015far\u0131yla silindi!"))}}]),t}()).\u0275fac=function(t){return new(t||Ex)(s.Tb(Q_),s.Tb(qE),s.Tb(ao),s.Tb(mx))},Ex.\u0275cmp=s.Nb({type:Ex,selectors:[["app-user-list"]],decls:36,vars:13,consts:[[1,"btn-group",2,"margin-left","5px"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom",2,"margin-left","5px"],[1,"h2"],["routerLink","/register-user","class","btn btn-success",4,"ngIf"],[1,"pricing-header","mx-auto"],["class","no-data text-center",4,"ngIf"],[1,"mb-3",2,"margin-left","5px"],["for","filterText",1,"form-label"],["type","text","id","filterText","placeholder","Arama \u0130fadesi Giriniz",1,"form-control",3,"ngModel","ngModelChange"],["style","margin-left: 5px;","class","alert alert-primary",4,"ngIf"],[1,"table-responsive",2,"margin-left","5px"],[1,"table","table-bordered","table-responsive-sm","table-responsive-md","table-responsive-lg"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["AutoHide","true","Responsive","true",3,"pageChange"],["routerLink","/register-user",1,"btn","btn-success"],[1,"fas","fa-plus","custom-fa-plus"],[1,"no-data","text-center"],[1,"nodata-msg"],[1,"alert","alert-primary",2,"margin-left","5px"],["scope","row"],[2,"width","50px","height","40px",3,"src"],[4,"ngIf"],[1,"text-center","action-block"],["type","submit",1,"btn","btn-primary",2,"margin-right","5px",3,"routerLink"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Yb(3,"div",0),s.Yb(4,"button",1),s.fc("click",function(){return e.goBack()}),s.xc(5,"Geri Git"),s.Xb(),s.Xb(),s.Yb(6,"div",2),s.Yb(7,"h1",3),s.xc(8,"Kullan\u0131c\u0131 Listesi"),s.Xb(),s.wc(9,_x,3,0,"a",4),s.Xb(),s.Yb(10,"div",5),s.wc(11,wx,6,0,"div",6),s.Yb(12,"div",7),s.Yb(13,"label",8),s.xc(14,"Kullan\u0131c\u0131 Ara"),s.Xb(),s.Yb(15,"input",9),s.fc("ngModelChange",function(t){return e.filterText=t}),s.Xb(),s.Xb(),s.wc(16,kx,2,1,"div",10),s.Yb(17,"div",11),s.Yb(18,"table",12),s.Yb(19,"thead"),s.Yb(20,"tr"),s.Yb(21,"th",13),s.xc(22,"Kullan\u0131c\u0131 Id"),s.Xb(),s.Yb(23,"th",13),s.xc(24,"Kullan\u0131c\u0131 Foto\u011fraf\u0131"),s.Xb(),s.Yb(25,"th",13),s.xc(26,"Kullan\u0131c\u0131 Ad\u0131"),s.Xb(),s.Yb(27,"th",13),s.xc(28,"Evcil Hayvan Ad\u0131"),s.Xb(),s.Yb(29,"th",14),s.xc(30,"D\xfczenle"),s.Xb(),s.Xb(),s.Xb(),s.Yb(31,"tbody"),s.wc(32,Sx,16,7,"tr",15),s.ic(33,"paginate"),s.ic(34,"filterPipe"),s.Xb(),s.Xb(),s.Xb(),s.Yb(35,"pagination-controls",16),s.fc("pageChange",function(t){return e.p=t}),s.Xb(),s.Xb()),2&t&&(s.Ib(9),s.kc("ngIf",e.hideWhenNoUser),s.Ib(2),s.kc("ngIf",e.noData),s.Ib(4),s.kc("ngModel",e.filterText),s.Ib(1),s.kc("ngIf",e.filterText.length>0),s.Ib(16),s.kc("ngForOf",s.jc(33,5,s.jc(34,8,e.userList,e.filterText),s.nc(11,Tx,e.p))))},directives:[it,tk,Ak,iO,nt,vT,uo,so],pipes:[hT,bx],styles:[""]}),Ex),xx=function t(e){f(this,t),this.file=e};function Ax(t,e){1&t&&(s.Yb(0,"p",18),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen bo\u015f b\u0131rakmay\u0131n\u0131z "),s.Xb())}function jx(t,e){1&t&&(s.Yb(0,"p",18),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"isim 2 kelimeden fazla olmal\u0131 "),s.Xb())}function Px(t,e){1&t&&(s.Yb(0,"p",18),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen bo\u015f b\u0131rakmay\u0131n\u0131z "),s.Xb())}function Rx(t,e){1&t&&(s.Yb(0,"p",18),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen bo\u015f b\u0131rakmay\u0131n\u0131z "),s.Xb())}var Nx,Dx=((Nx=function(){function t(e,n,r,i,o,a){f(this,t),this.userService=e,this.fb=n,this.actRoute=r,this.uploadService=i,this.router=o,this.toastr=a,this.title="Create",this.user=new G_,this.actRoute.snapshot.params.id&&(this.userId=this.actRoute.snapshot.paramMap.get("id")||"id gelmiyor",console.log(this.userId))}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.userId&&(this.title="Edit",this.userService.getUserById(this.userId).subscribe(function(e){e&&(t.user=e,t.updateUserData(e.name,e.email,e.photoURL))}))}},{key:"name",get:function(){return this.editForm.get("name")}},{key:"email",get:function(){return this.editForm.get("email")}},{key:"photoURL",get:function(){return this.editForm.get("photoURL")}},{key:"updateUserData",value:function(t,e,n){this.editForm=this.fb.group({name:[t],email:[e,[ak.required,ak.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")]],photoURL:[n]})}},{key:"goBack",value:function(){this.router.navigate(["/general-page"])}},{key:"onUserFormSubmit",value:function(){var t=this;this.userId?this.userService.update(this.userId,this.editForm.value).then(function(){t.toastr.success(t.editForm.controls.name.value+" ba\u015far\u0131yla g\xfcncelle\u015ftirildi"),t.router.navigate(["/view-users"])}):this.userService.saveUser(this.user).then(function(){t.router.navigate(["/view-users"])})}},{key:"getUser",value:function(t){var e=this;this.userId=t,this.userService.getUserById(t).subscribe(function(t){e.editForm.patchValue({id:t.data.id,name:t.data.name,photoURL:t.data.photoURL,email:t.data.email}),console.log(e.userId)})}},{key:"selectFile",value:function(t){this.selectedFiles=t.target.files}},{key:"upload",value:function(){var t=this,e=this.selectedFiles.item(0);this.currentFileUpload=new xx(e),this.uploadService.pushFileToStorage(this.currentFileUpload).subscribe(function(e){t.percentage=Math.round(e)},function(t){console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Nx)(s.Tb(Q_),s.Tb(NO),s.Tb(Mr),s.Tb(mx),s.Tb(ao),s.Tb(qE))},Nx.\u0275cmp=s.Nb({type:Nx,selectors:[["app-user-update"]],decls:37,vars:6,consts:[[1,"pt-3","pb-2","mb-3","border-bottom",2,"margin-left","100px"],[1,"h2"],[1,"btn-toolbar","mb-2","mb-md-0"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"row",2,"margin-left","100px"],[1,"col-lg-12"],[1,"pricing-header","form-block","mx-auto"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-5","col-md-12","col-sm-12"],[1,"col-md-12","mb-3"],["type","text","id","name","formControlName","name","required","",1,"form-control"],["class","error",4,"ngIf"],["type","email","formControlName","email","required","",1,"form-control"],["type","file","formControlName","photoURL",1,"text-nowrap","text-truncate",3,"change"],[1,"form-group","text-right"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],[1,"error"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Yb(3,"div",0),s.Yb(4,"h1",1),s.xc(5,"Kullan\u0131c\u0131 Detaylar\u0131 D\xfczenleme"),s.Xb(),s.Yb(6,"div",2),s.Yb(7,"div",3),s.Yb(8,"button",4),s.fc("click",function(){return e.goBack()}),s.xc(9,"Geri Git"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(10,"div",5),s.Yb(11,"div",6),s.Yb(12,"div",7),s.Yb(13,"form",8),s.fc("ngSubmit",function(){return e.onUserFormSubmit()}),s.Yb(14,"div",9),s.Yb(15,"div",10),s.Yb(16,"div",9),s.Yb(17,"div",11),s.Yb(18,"label"),s.xc(19,"\u0130sim"),s.Xb(),s.Ub(20,"input",12),s.wc(21,Ax,4,0,"p",13),s.wc(22,jx,4,0,"p",13),s.Xb(),s.Xb(),s.Yb(23,"div",9),s.Yb(24,"div",11),s.Yb(25,"label"),s.xc(26,"Email"),s.Xb(),s.Ub(27,"input",14),s.wc(28,Px,4,0,"p",13),s.Xb(),s.Yb(29,"div",11),s.Yb(30,"label"),s.xc(31,"PhotoUrl"),s.Xb(),s.Yb(32,"input",15),s.fc("change",function(t){return e.selectFile(t)}),s.Xb(),s.wc(33,Rx,4,0,"p",13),s.Xb(),s.Xb(),s.Yb(34,"div",16),s.Yb(35,"button",17),s.xc(36," Kullan\u0131c\u0131y\u0131 G\xfcncelle "),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(13),s.kc("formGroup",e.editForm),s.Ib(8),s.kc("ngIf",(null==e.name?null:e.name.touched)&&(null==e.name?null:e.name.invalid)),s.Ib(1),s.kc("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.minlength),s.Ib(6),s.kc("ngIf",(null==e.email?null:e.email.touched)&&(null==e.email?null:e.email.invalid)),s.Ib(5),s.kc("ngIf",(null==e.photoURL?null:e.photoURL.touched)&&(null==e.photoURL?null:e.photoURL.invalid)),s.Ib(2),s.kc("disabled",!e.editForm.valid))},directives:[oO,jk,cO,tk,Ak,hO,AO,it],styles:[""]}),Nx);function Lx(t,e){1&t&&(s.Yb(0,"p",16),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen isminizi giriniz "),s.Xb())}function Fx(t,e){1&t&&(s.Yb(0,"p",16),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"\u0130sim alan\u0131 2 karakterden b\xfcy\xfck olmal\u0131 "),s.Xb())}function Mx(t,e){1&t&&(s.Yb(0,"p",16),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"L\xfctfen ge\xe7erli bir email giriniz"),s.Xb())}function Ux(t,e){1&t&&(s.Yb(0,"p",16),s.Yb(1,"sup"),s.xc(2,"*"),s.Xb(),s.xc(3,"bir resim url giriniz "),s.Xb())}var Vx=function(t){return{width:t}};function qx(t,e){if(1&t&&(s.Yb(0,"div",17),s.Yb(1,"div",18),s.xc(2),s.Xb(),s.Xb()),2&t){var n=s.hc();s.Ib(1),s.kc("ngStyle",s.nc(3,Vx,n.percentage+"%")),s.Jb("aria-valuenow",n.percentage),s.Ib(1),s.zc(" ",n.percentage,"% ")}}var Bx,Hx=((Bx=function(){function t(e,n,r,i,o){f(this,t),this.userService=e,this.fb=n,this.toastr=r,this.router=i,this.uploadService=o,this.title="Create"}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.userForm(),this.userId&&(this.title="Edit",this.userService.getUserById(this.userId).subscribe(function(e){e&&(t.user=e)}))}},{key:"onUserFormSubmit",value:function(){var t=this;this.userId?this.userService.update(this.userId,this.user).then(function(){t.router.navigate(["/"])}):this.submitUserData()}},{key:"userForm",value:function(){this.usersForm=this.fb.group({name:["",[ak.required,ak.minLength(2)]],petName:[""],email:["",[ak.required,ak.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")]],photoURL:[""]})}},{key:"goBack",value:function(){this.router.navigate(["/general-page"])}},{key:"name",get:function(){return this.usersForm.get("name")}},{key:"petName",get:function(){return this.usersForm.get("petName")}},{key:"email",get:function(){return this.usersForm.get("email")}},{key:"photoUrl",get:function(){return this.usersForm.get("photoUrl")}},{key:"ResetForm",value:function(){this.usersForm.reset()}},{key:"submitUserData",value:function(){this.userService.createUser(this.usersForm.value),this.toastr.success(this.usersForm.controls.name.value+"adl\u0131 kullan\u0131c\u0131 ba\u015far\u0131yla eklendi"),this.router.navigate(["/view-users"]),this.ResetForm()}},{key:"selectFile",value:function(t){this.selectedFiles=t.target.files}},{key:"upload",value:function(){var t=this,e=this.selectedFiles.item(0);this.currentFileUpload=new xx(e),this.uploadService.pushFileToStorage(this.currentFileUpload).subscribe(function(e){t.percentage=Math.round(e)},function(t){console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Bx)(s.Tb(Q_),s.Tb(NO),s.Tb(qE),s.Tb(ao),s.Tb(mx))},Bx.\u0275cmp=s.Nb({type:Bx,selectors:[["app-add-user"]],decls:37,vars:7,consts:[[1,"btn-group",2,"margin-left","100px"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"pt-3","pb-2","mb-3","border-bottom",2,"margin-left","100px"],[1,"h2"],["novalidate","",2,"margin-left","100px",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-5","col-md-12","col-sm-12"],[1,"col-md-12","mb-3"],["type","text","formControlName","name","required","",1,"form-control"],["class","error",4,"ngIf"],["type","email","formControlName","email","required","",1,"form-control"],["type","file","formControlName","photoURL",1,"text-nowrap","text-truncate",3,"change"],["class","progress mt-2",4,"ngIf"],[1,"form-group","text-right"],["type","button",1,"btn","btn-warning","mr-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"error"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Yb(3,"div",0),s.Yb(4,"button",1),s.fc("click",function(){return e.goBack()}),s.xc(5,"Geri Git"),s.Xb(),s.Xb(),s.Yb(6,"div",2),s.Yb(7,"h1",3),s.xc(8,"Kullan\u0131c\u0131 Kay\u0131t"),s.Xb(),s.Xb(),s.Yb(9,"form",4),s.fc("ngSubmit",function(){return e.submitUserData()}),s.Yb(10,"div",5),s.Yb(11,"div",6),s.Yb(12,"div",5),s.Yb(13,"div",7),s.Yb(14,"label"),s.xc(15,"\u0130sim"),s.Xb(),s.Ub(16,"input",8),s.wc(17,Lx,4,0,"p",9),s.wc(18,Fx,4,0,"p",9),s.Xb(),s.Xb(),s.Yb(19,"div",5),s.Yb(20,"div",7),s.Yb(21,"label"),s.xc(22,"Email"),s.Xb(),s.Ub(23,"input",10),s.wc(24,Mx,4,0,"p",9),s.Xb(),s.Yb(25,"div",7),s.Yb(26,"label"),s.xc(27,"Foto\u011fraf"),s.Xb(),s.Yb(28,"label"),s.Yb(29,"input",11),s.fc("change",function(t){return e.selectFile(t)}),s.Xb(),s.Xb(),s.wc(30,Ux,4,0,"p",9),s.Xb(),s.wc(31,qx,3,5,"div",12),s.Xb(),s.Yb(32,"div",13),s.Yb(33,"button",14),s.fc("click",function(){return e.ResetForm()}),s.xc(34,"S\u0131f\u0131rla"),s.Xb(),s.Yb(35,"button",15),s.fc("click",function(){return e.upload()}),s.xc(36,"Kay\u0131t Ol"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(9),s.kc("formGroup",e.usersForm),s.Ib(8),s.kc("ngIf",(null==e.name?null:e.name.touched)&&(null==e.name?null:e.name.invalid)),s.Ib(1),s.kc("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.minlength),s.Ib(6),s.kc("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.pattern),s.Ib(6),s.kc("ngIf",(null==e.photoUrl?null:e.photoUrl.touched)&&(null==e.photoUrl?null:e.photoUrl.invalid)),s.Ib(1),s.kc("ngIf",e.currentFileUpload),s.Ib(4),s.kc("disabled",!e.usersForm.valid))},directives:[oO,jk,cO,tk,Ak,hO,AO,it,lt],styles:["p.error[_ngcontent-%COMP%]{color:red}.background[_ngcontent-%COMP%]{background-color:#1e1e1e}div.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"]}),Bx);function zx(t,e){if(1&t&&(s.Yb(0,"option"),s.xc(1),s.Xb()),2&t){var n=e.$implicit;s.Ib(1),s.yc(n.name)}}var Yx,Xx,Wx,Kx=[{path:"",redirectTo:"/login-user",pathMatch:"full"},{path:"register-user",component:FT},{path:"general-page",component:uE},{path:"detail-user/:id",component:(Yx=function(){function t(e,n,r,i,o,a){f(this,t),this.userService=e,this.fb=n,this.actRoute=r,this.router=i,this.toastr=o,this.petService=a,this.title="Create",this.user=new G_,this.actRoute.snapshot.params.id&&(this.userId=this.actRoute.snapshot.paramMap.get("id")||"id gelmiyor",console.log(this.userId))}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.updateUserData(),this.petService.getPetList().subscribe(function(e){return t.petList=e}),this.userId&&(this.title="Edit",this.userService.getUserById(this.userId).subscribe(function(e){e&&(t.user=e,console.log(e))}))}},{key:"name",get:function(){return this.editForm.get("name")}},{key:"email",get:function(){return this.editForm.get("email")}},{key:"photoURL",get:function(){return this.editForm.get("photoURL")}},{key:"petName",get:function(){return this.editForm.get("petName")}},{key:"updateUserData",value:function(){this.editForm=this.fb.group({petName:["",[ak.required]]})}},{key:"goBack",value:function(){this.router.navigate(["/general-page"])}},{key:"onUserFormSubmit",value:function(){var t=this;this.userId?this.userService.update(this.userId,this.editForm.value).then(function(){t.toastr.success(t.user.name+" ba\u015far\u0131yla g\xfcncelle\u015ftirildi"),t.router.navigate(["/view-users"])}):this.userService.saveUser(this.user).then(function(){t.router.navigate(["/view-users"])})}},{key:"getUser",value:function(t){var e=this;this.userId=t,this.userService.getUserById(t).subscribe(function(t){e.editForm.patchValue({id:t.data.id,name:t.data.name,photoURL:t.data.photoURL,email:t.data.email,petName:t.data.petName}),console.log(e.userId)})}}]),t}(),Yx.\u0275fac=function(t){return new(t||Yx)(s.Tb(Q_),s.Tb(NO),s.Tb(Mr),s.Tb(ao),s.Tb(qE),s.Tb(lE))},Yx.\u0275cmp=s.Nb({type:Yx,selectors:[["app-user-detail"]],decls:42,vars:5,consts:[[1,"pt-3","pb-2","mb-3","border-bottom",2,"margin-left","100px"],[1,"h2"],[1,"btn-toolbar","mb-2","mb-md-0"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"row",2,"margin-left","100px"],[1,"col-lg-12"],[1,"pricing-header","form-block","mx-auto"],["novalidate","",3,"formGroup","ngSubmit"],[1,"table","table-bordered","table-responsive-sm","table-responsive-md","table-responsive-lg"],["scope","col"],["scope","col",1,"text-center"],["scope","row"],[3,"src"],["id","name","formControlName","name"],["id","petId","formControlName","petName",1,"form-control"],[4,"ngFor","ngForOf"],[1,"text-center","action-block"],["type","submit",1,"btn","btn-primary",2,"margin-right","5px"]],template:function(t,e){1&t&&(s.Ub(0,"br"),s.Ub(1,"br"),s.Ub(2,"br"),s.Yb(3,"div",0),s.Yb(4,"h1",1),s.xc(5,"Kullan\u0131c\u0131 Detaylar\u0131 D\xfczenleme"),s.Xb(),s.Yb(6,"div",2),s.Yb(7,"div",3),s.Yb(8,"button",4),s.fc("click",function(){return e.goBack()}),s.xc(9,"Geri Git"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(10,"div",5),s.Yb(11,"div",6),s.Yb(12,"div",7),s.Yb(13,"form",8),s.fc("ngSubmit",function(){return e.onUserFormSubmit()}),s.Yb(14,"table",9),s.Yb(15,"thead"),s.Yb(16,"tr"),s.Yb(17,"th",10),s.xc(18,"Foto\u011fraf"),s.Xb(),s.Yb(19,"th",10),s.xc(20,"Kullan\u0131c\u0131 Ad\u0131"),s.Xb(),s.Yb(21,"th",10),s.xc(22,"Kullan\u0131c\u0131 email"),s.Xb(),s.Yb(23,"th",10),s.xc(24,"Evcil Hayvan"),s.Xb(),s.Yb(25,"th",11),s.xc(26,"Kaydet"),s.Xb(),s.Xb(),s.Xb(),s.Yb(27,"tbody"),s.Yb(28,"tr"),s.Yb(29,"th",12),s.Ub(30,"img",13),s.Xb(),s.Yb(31,"td",14),s.xc(32),s.Xb(),s.Yb(33,"td"),s.xc(34),s.Xb(),s.Yb(35,"select",15),s.Yb(36,"option"),s.xc(37,"Se\xe7iniz"),s.Xb(),s.wc(38,zx,2,1,"option",16),s.Xb(),s.Yb(39,"td",17),s.Yb(40,"button",18),s.xc(41,"Kaydet"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Ib(13),s.kc("formGroup",e.editForm),s.Ib(17),s.kc("src",e.user.photoURL,s.sc),s.Ib(2),s.yc(e.user.name),s.Ib(2),s.yc(e.user.email),s.Ib(4),s.kc("ngForOf",e.petList))},directives:[oO,jk,cO,Ak,hO,yO,gO,IO,nt],styles:["div.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"]}),Yx)},{path:"add-user",component:Hx},{path:"login-user",component:LT},{path:"view-users",component:Ix},{path:"edit-user/:id",component:Dx},{path:"add-pet",component:JE},{path:"view-pets",component:TT},{path:"edit-pet/:id",component:DT},{path:"navbar/:id",component:iw}],Gx=((Xx=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Xx)},Xx.\u0275mod=s.Rb({type:Xx}),Xx.\u0275inj=s.Qb({imports:[[To.forRoot(Kx)],To]}),Xx),Qx={apiKey:"AIzaSyBMqhI4wqhYMtAvr7jEcI75DfXsh78B-xc",authDomain:"petproject-5f88b.firebaseapp.com",databaseURL:"https://petproject-5f88b-default-rtdb.firebaseio.com",projectId:"petproject-5f88b",storageBucket:"petproject-5f88b.appspot.com",messagingSenderId:"410913759097",appId:"1:410913759097:web:21c158186786ce9f5b59a8",measurementId:"G-NM40FSFSPX"},Jx=((Wx=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Wx)},Wx.\u0275mod=s.Rb({type:Wx,bootstrap:[ow]}),Wx.\u0275inj=s.Qb({providers:[],imports:[[re,Ye.a.initializeApp(Qx),ca,W_,tn,gx,PO,iE,zE.forRoot({positionClass:"toast-top-full-width"}),bT,Gx,Xw,RO]]}),Wx);Object(s.ab)(),ee().bootstrapModule(Jx).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(t,e){if(!e.closed){if(t instanceof i.a)return t.subscribe(e);var n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}}},[[0,0]]])}();